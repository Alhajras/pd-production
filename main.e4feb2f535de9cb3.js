"use strict";(self.webpackChunkangular_16_firestore_crud=self.webpackChunkangular_16_firestore_crud||[]).push([[179],{2011:(pt,Ce,P)=>{P.d(Ce,{Dh:()=>Le,GT:()=>ne,cc:()=>Te,hO:()=>Ve,on:()=>U,pX:()=>se,xv:()=>pe});var o=P(2223),K=P(9260),N=P(4976);pt=P.hmd(pt);const ie=["ngOnDestroy"],se=(Ne,xt,_t,oe={})=>new Proxy(Ne,{get:(ye,X)=>_t.runOutsideAngular(()=>{var me;if(Ne[X])return!(null===(me=oe?.spy)||void 0===me)&&me.get&&oe.spy.get(X,Ne[X]),Ne[X];if(ie.indexOf(X)>-1)return()=>{};const Se=xt.toPromise().then(Ue=>{const le=Ue&&Ue[X];return"function"==typeof le?le.bind(Ue):le&&le.then?le.then($e=>_t.run(()=>$e)):_t.run(()=>le)});return new Proxy(()=>{},{get:(Ue,le)=>Se[le],apply:(Ue,le,$e)=>Se.then(Qt=>{var Ai;const mr=Qt&&Qt(...$e);return!(null===(Ai=oe?.spy)||void 0===Ai)&&Ai.apply&&oe.spy.apply(X,$e,mr),mr})})})}),ne=(Ne,xt)=>{xt.forEach(_t=>{Object.getOwnPropertyNames(_t.prototype||_t).forEach(oe=>{Object.defineProperty(Ne.prototype,oe,Object.getOwnPropertyDescriptor(_t.prototype||_t,oe))})})};class _e{constructor(xt){return xt}}const Le=new o.OlP("angularfire2.app.options"),pe=new o.OlP("angularfire2.app.name");function U(Ne,xt,_t){const ye="object"==typeof _t&&_t||{};ye.name=ye.name||"string"==typeof _t&&_t||"[DEFAULT]";const me=K.Z.apps.filter(Se=>Se&&Se.name===ye.name)[0]||xt.runOutsideAngular(()=>K.Z.initializeApp(Ne,ye));try{JSON.stringify(Ne)!==JSON.stringify(me.options)&&$("error",`${me.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new _e(me)}const $=(Ne,...xt)=>{(0,o.X6Q)()&&typeof console<"u"&&console[Ne](...xt)},te={provide:_e,useFactory:U,deps:[Le,o.R0b,[new o.FiY,pe]]};let Ve=(()=>{class Ne{constructor(_t){K.Z.registerVersion("angularfire",N.q4.full,"core"),K.Z.registerVersion("angularfire",N.q4.full,"app-compat"),K.Z.registerVersion("angular",o.q4F.full,_t.toString())}static initializeApp(_t,oe){return{ngModule:Ne,providers:[{provide:Le,useValue:_t},{provide:pe,useValue:oe}]}}}return Ne.\u0275fac=function(_t){return new(_t||Ne)(o.LFG(o.Lbi))},Ne.\u0275mod=o.oAB({type:Ne}),Ne.\u0275inj=o.cJS({providers:[te]}),Ne})();function Te(Ne,xt,_t,oe,ye){const[,X,me]=globalThis.\u0275AngularfireInstanceCache.find(Se=>Se[0]===Ne)||[];if(X)return function tt(Ne,xt){try{return Ne.toString()===xt.toString()}catch{return Ne===xt}}(ye,me)||(Ye("error",`${xt} was already initialized on the ${_t} Firebase App with different settings.${ke?" You may need to reload as Firebase is not HMR aware.":""}`),Ye("warn",{is:ye,was:me})),X;{const Se=oe();return globalThis.\u0275AngularfireInstanceCache.push([Ne,Se,ye]),Se}}const ke=!!pt.hot,Ye=(Ne,...xt)=>{(0,o.X6Q)()&&typeof console<"u"&&console[Ne](...xt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(pt,Ce,P)=>{P.d(Ce,{q4:()=>$a,iC:()=>km,fc:()=>qa,HU:()=>xf,vb:()=>Mm,JM:()=>as});var o=P(2223),K=P(259),N=P(5861),ie=P(6881),se=P(2090),ne=P(4859),_e=P(1877);const Le=(x,T)=>T.some(M=>x instanceof M);let pe,U;const Ve=new WeakMap,Te=new WeakMap,tt=new WeakMap,ke=new WeakMap,Ye=new WeakMap;let _t={get(x,T,M){if(x instanceof IDBTransaction){if("done"===T)return Te.get(x);if("objectStoreNames"===T)return x.objectStoreNames||tt.get(x);if("store"===T)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return me(x[T])},set:(x,T,M)=>(x[T]=M,!0),has:(x,T)=>x instanceof IDBTransaction&&("done"===T||"store"===T)||T in x};function X(x){return"function"==typeof x?function ye(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return U||(U=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...T){return x.apply(Se(this),T),me(Ve.get(this))}:function(...T){return me(x.apply(Se(this),T))}:function(T,...M){const F=x.call(Se(this),T,...M);return tt.set(F,T.sort?T.sort():[T]),me(F)}}(x):(x instanceof IDBTransaction&&function xt(x){if(Te.has(x))return;const T=new Promise((M,F)=>{const G=()=>{x.removeEventListener("complete",Q),x.removeEventListener("error",fe),x.removeEventListener("abort",fe)},Q=()=>{M(),G()},fe=()=>{F(x.error||new DOMException("AbortError","AbortError")),G()};x.addEventListener("complete",Q),x.addEventListener("error",fe),x.addEventListener("abort",fe)});Te.set(x,T)}(x),Le(x,function $(){return pe||(pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,_t):x)}function me(x){if(x instanceof IDBRequest)return function Ne(x){const T=new Promise((M,F)=>{const G=()=>{x.removeEventListener("success",Q),x.removeEventListener("error",fe)},Q=()=>{M(me(x.result)),G()},fe=()=>{F(x.error),G()};x.addEventListener("success",Q),x.addEventListener("error",fe)});return T.then(M=>{M instanceof IDBCursor&&Ve.set(M,x)}).catch(()=>{}),Ye.set(T,x),T}(x);if(ke.has(x))return ke.get(x);const T=X(x);return T!==x&&(ke.set(x,T),Ye.set(T,x)),T}const Se=x=>Ye.get(x),$e=["get","getKey","getAll","getAllKeys","count"],Qt=["put","add","delete","clear"],Ai=new Map;function mr(x,T){if(!(x instanceof IDBDatabase)||T in x||"string"!=typeof T)return;if(Ai.get(T))return Ai.get(T);const M=T.replace(/FromIndex$/,""),F=T!==M,G=Qt.includes(M);if(!(M in(F?IDBIndex:IDBObjectStore).prototype)||!G&&!$e.includes(M))return;const Q=function(){var fe=(0,N.Z)(function*(Je,...ze){const ut=this.transaction(Je,G?"readwrite":"readonly");let At=ut.store;return F&&(At=At.index(ze.shift())),(yield Promise.all([At[M](...ze),G&&ut.done]))[0]});return function(ze){return fe.apply(this,arguments)}}();return Ai.set(T,Q),Q}!function oe(x){_t=x(_t)}(x=>({...x,get:(T,M,F)=>mr(T,M)||x.get(T,M,F),has:(T,M)=>!!mr(T,M)||x.has(T,M)}));const bs="@firebase/installations",ue="0.6.4",ve=1e4,Ee=`w:${ue}`,Me="FIS_v2",qe="https://firebaseinstallations.googleapis.com/v1",He=36e5,at=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function yt(x){return x instanceof se.ZR&&x.code.includes("request-failed")}function Mn({projectId:x}){return`${qe}/projects/${x}/installations`}function dn(x){return{token:x.token,requestStatus:2,expiresIn:$s(x.expiresIn),creationTime:Date.now()}}function $n(x,T){return nn.apply(this,arguments)}function nn(){return(nn=(0,N.Z)(function*(x,T){const F=(yield T.json()).error;return at.create("request-failed",{requestName:x,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function Mr({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function gr(x){return ci.apply(this,arguments)}function ci(){return(ci=(0,N.Z)(function*(x){const T=yield x();return T.status>=500&&T.status<600?x():T})).apply(this,arguments)}function $s(x){return Number(x.replace("s","000"))}function Rr(){return(Rr=(0,N.Z)(function*({appConfig:x,heartbeatServiceProvider:T},{fid:M}){const F=Mn(x),G=Mr(x),Q=T.getImmediate({optional:!0});if(Q){const ut=yield Q.getHeartbeatsHeader();ut&&G.append("x-firebase-client",ut)}const Je={method:"POST",headers:G,body:JSON.stringify({fid:M,authVersion:Me,appId:x.appId,sdkVersion:Ee})},ze=yield gr(()=>fetch(F,Je));if(ze.ok){const ut=yield ze.json();return{fid:ut.fid||M,registrationStatus:2,refreshToken:ut.refreshToken,authToken:dn(ut.authToken)}}throw yield $n("Create Installation",ze)})).apply(this,arguments)}function kr(x){return new Promise(T=>{setTimeout(T,x)})}const Tl=/^[cdef][\w-]{21}$/,Qe="";function vt(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const M=function Et(x){return function ws(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return Tl.test(M)?M:Qe}catch{return Qe}}function vn(x){return`${x.appName}!${x.appId}`}const Ln=new Map;function _r(x,T){const M=vn(x);Il(M,T),function _n(x,T){const M=function Yt(){return!Zi&&"BroadcastChannel"in self&&(Zi=new BroadcastChannel("[Firebase] FID Change"),Zi.onmessage=x=>{Il(x.data.key,x.data.fid)}),Zi}();M&&M.postMessage({key:x,fid:T}),function ko(){0===Ln.size&&Zi&&(Zi.close(),Zi=null)}()}(M,T)}function Il(x,T){const M=Ln.get(x);if(M)for(const F of M)F(T)}let Zi=null;const qs="firebase-installations-database",Sl=1,Or="firebase-installations-store";let Oo=null;function Ri(){return Oo||(Oo=function Ue(x,T,{blocked:M,upgrade:F,blocking:G,terminated:Q}={}){const fe=indexedDB.open(x,T),Je=me(fe);return F&&fe.addEventListener("upgradeneeded",ze=>{F(me(fe.result),ze.oldVersion,ze.newVersion,me(fe.transaction))}),M&&fe.addEventListener("blocked",()=>M()),Je.then(ze=>{Q&&ze.addEventListener("close",()=>Q()),G&&ze.addEventListener("versionchange",()=>G())}).catch(()=>{}),Je}(qs,Sl,{upgrade:(x,T)=>{0===T&&x.createObjectStore(Or)}})),Oo}function yi(x,T){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,N.Z)(function*(x,T){const M=vn(x),G=(yield Ri()).transaction(Or,"readwrite"),Q=G.objectStore(Or),fe=yield Q.get(M);return yield Q.put(T,M),yield G.done,(!fe||fe.fid!==T.fid)&&_r(x,T.fid),T})).apply(this,arguments)}function Po(x){return an.apply(this,arguments)}function an(){return(an=(0,N.Z)(function*(x){const T=vn(x),F=(yield Ri()).transaction(Or,"readwrite");yield F.objectStore(Or).delete(T),yield F.done})).apply(this,arguments)}function No(x,T){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,N.Z)(function*(x,T){const M=vn(x),G=(yield Ri()).transaction(Or,"readwrite"),Q=G.objectStore(Or),fe=yield Q.get(M),Je=T(fe);return void 0===Je?yield Q.delete(M):yield Q.put(Je,M),yield G.done,Je&&(!fe||fe.fid!==Je.fid)&&_r(x,Je.fid),Je})).apply(this,arguments)}function H(x){return V.apply(this,arguments)}function V(){return V=(0,N.Z)(function*(x){let T;const M=yield No(x.appConfig,F=>{const G=function Y(x){return bn(x||{fid:vt(),registrationStatus:0})}(F),Q=function we(x,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(at.create("app-offline"))};const M={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},F=function ce(x,T){return lt.apply(this,arguments)}(x,M);return{installationEntry:M,registrationPromise:F}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:bt(x)}:{installationEntry:T}}(x,G);return T=Q.registrationPromise,Q.installationEntry});return M.fid===Qe?{installationEntry:yield T}:{installationEntry:M,registrationPromise:T}}),V.apply(this,arguments)}function lt(){return lt=(0,N.Z)(function*(x,T){try{const M=yield function Dl(x,T){return Rr.apply(this,arguments)}(x,T);return yi(x.appConfig,M)}catch(M){throw yt(M)&&409===M.customData.serverCode?yield Po(x.appConfig):yield yi(x.appConfig,{fid:T.fid,registrationStatus:0}),M}}),lt.apply(this,arguments)}function bt(x){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,N.Z)(function*(x){let T=yield Tn(x.appConfig);for(;1===T.registrationStatus;)yield kr(100),T=yield Tn(x.appConfig);if(0===T.registrationStatus){const{installationEntry:M,registrationPromise:F}=yield H(x);return F||M}return T})).apply(this,arguments)}function Tn(x){return No(x,T=>{if(!T)throw at.create("installation-not-found");return bn(T)})}function bn(x){return function kt(x){return 1===x.registrationStatus&&x.registrationTime+ve<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function ki(){return(ki=(0,N.Z)(function*({appConfig:x,heartbeatServiceProvider:T},M){const F=function Yr(x,{fid:T}){return`${Mn(x)}/${T}/authTokens:generate`}(x,M),G=function li(x,{refreshToken:T}){const M=Mr(x);return M.append("Authorization",function Gs(x){return`${Me} ${x}`}(T)),M}(x,M),Q=T.getImmediate({optional:!0});if(Q){const ut=yield Q.getHeartbeatsHeader();ut&&G.append("x-firebase-client",ut)}const Je={method:"POST",headers:G,body:JSON.stringify({installation:{sdkVersion:Ee,appId:x.appId}})},ze=yield gr(()=>fetch(F,Je));if(ze.ok)return dn(yield ze.json());throw yield $n("Generate Auth Token",ze)})).apply(this,arguments)}function Fo(x){return Pr.apply(this,arguments)}function Pr(){return Pr=(0,N.Z)(function*(x,T=!1){let M;const F=yield No(x.appConfig,Q=>{if(!$t(Q))throw at.create("not-registered");const fe=Q.authToken;if(!T&&function rn(x){return 2===x.requestStatus&&!function vi(x){const T=Date.now();return T<x.creationTime||x.creationTime+x.expiresIn<T+He}(x)}(fe))return Q;if(1===fe.requestStatus)return M=function he(x,T){return re.apply(this,arguments)}(x,T),Q;{if(!navigator.onLine)throw at.create("app-offline");const Je=function ui(x){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:T})}(Q);return M=function mt(x,T){return Ot.apply(this,arguments)}(x,Je),Je}});return M?yield M:F.authToken}),Pr.apply(this,arguments)}function re(){return(re=(0,N.Z)(function*(x,T){let M=yield Oe(x.appConfig);for(;1===M.authToken.requestStatus;)yield kr(100),M=yield Oe(x.appConfig);const F=M.authToken;return 0===F.requestStatus?Fo(x,T):F})).apply(this,arguments)}function Oe(x){return No(x,T=>{if(!$t(T))throw at.create("not-registered");return function Jo(x){return 1===x.requestStatus&&x.requestTime+ve<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Ot(){return Ot=(0,N.Z)(function*(x,T){try{const M=yield function Jt(x,T){return ki.apply(this,arguments)}(x,T),F=Object.assign(Object.assign({},T),{authToken:M});return yield yi(x.appConfig,F),M}catch(M){if(!yt(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const F=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield yi(x.appConfig,F)}else yield Po(x.appConfig);throw M}}),Ot.apply(this,arguments)}function $t(x){return void 0!==x&&2===x.registrationStatus}function Al(){return(Al=(0,N.Z)(function*(x){const T=x,{installationEntry:M,registrationPromise:F}=yield H(T);return F?F.catch(console.error):Fo(T).catch(console.error),M.fid})).apply(this,arguments)}function ar(){return ar=(0,N.Z)(function*(x,T=!1){const M=x;return yield function Gh(x){return Wr.apply(this,arguments)}(M),(yield Fo(M,T)).token}),ar.apply(this,arguments)}function Wr(){return(Wr=(0,N.Z)(function*(x){const{registrationPromise:T}=yield H(x);T&&(yield T)})).apply(this,arguments)}function Xo(x){return at.create("missing-app-config-values",{valueName:x})}const Mc="installations",X_=x=>{const T=x.getProvider("app").getImmediate(),M=function Ac(x){if(!x||!x.options)throw Xo("App Configuration");if(!x.name)throw Xo("App Name");const T=["projectId","apiKey","appId"];for(const M of T)if(!x.options[M])throw Xo(M);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(T);return{app:T,appConfig:M,heartbeatServiceProvider:(0,ie._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},es=x=>{const T=x.getProvider("app").getImmediate(),M=(0,ie._getProvider)(T,Mc).getImmediate();return{getId:()=>function Cs(x){return Al.apply(this,arguments)}(M),getToken:G=>function $h(x){return ar.apply(this,arguments)}(M,G)}};(function Zh(){(0,ie._registerComponent)(new ne.wA(Mc,X_,"PUBLIC")),(0,ie._registerComponent)(new ne.wA("installations-internal",es,"PRIVATE"))})(),(0,ie.registerVersion)(bs,ue),(0,ie.registerVersion)(bs,ue,"esm2017");const Ea="@firebase/remote-config",yn=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class yr{constructor(T,M,F,G){this.client=T,this.storage=M,this.storageCache=F,this.logger=G}isCachedDataFresh(T,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-M,G=F<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${G}.`),G}fetch(T){var M=this;return(0,N.Z)(function*(){const[F,G]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(G&&M.isCachedDataFresh(T.cacheMaxAgeMillis,F))return G;T.eTag=G&&G.eTag;const Q=yield M.client.fetch(T),fe=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Q.status&&fe.push(M.storage.setLastSuccessfulFetchResponse(Q)),yield Promise.all(fe),Q})()}}function Wh(x=navigator){return x.languages&&x.languages[0]||x.language}class Lo{constructor(T,M,F,G,Q,fe){this.firebaseInstallations=T,this.sdkVersion=M,this.namespace=F,this.projectId=G,this.apiKey=Q,this.appId=fe}fetch(T){var M=this;return(0,N.Z)(function*(){const[F,G]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),fe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},ze={sdk_version:M.sdkVersion,app_instance_id:F,app_instance_id_token:G,app_id:M.appId,language_code:Wh()},ut={method:"POST",headers:Je,body:JSON.stringify(ze)},At=fetch(fe,ut),Mt=new Promise((no,xo)=>{T.signal.addEventListener(()=>{const sc=new Error("The operation was aborted.");sc.name="AbortError",xo(sc)})});let Li;try{yield Promise.race([At,Mt]),Li=yield At}catch(no){let xo="fetch-client-network";throw"AbortError"===no?.name&&(xo="fetch-timeout"),yn.create(xo,{originalErrorMessage:no?.message})}let wi=Li.status;const Co=Li.headers.get("ETag")||void 0;let Nd,Vr;if(200===Li.status){let no;try{no=yield Li.json()}catch(xo){throw yn.create("fetch-client-parse",{originalErrorMessage:xo?.message})}Nd=no.entries,Vr=no.state}if("INSTANCE_STATE_UNSPECIFIED"===Vr?wi=500:"NO_CHANGE"===Vr?wi=304:("NO_TEMPLATE"===Vr||"EMPTY_CONFIG"===Vr)&&(Nd={}),304!==wi&&200!==wi)throw yn.create("fetch-status",{httpStatus:wi});return{status:wi,eTag:Co,config:Nd}})()}}class kl{constructor(T,M){this.client=T,this.storage=M}fetch(T){var M=this;return(0,N.Z)(function*(){const F=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(T,F)})()}attemptFetch(T,{throttleEndTimeMillis:M,backoffCount:F}){var G=this;return(0,N.Z)(function*(){yield function Gn(x,T){return new Promise((M,F)=>{const G=Math.max(T-Date.now(),0),Q=setTimeout(M,G);x.addEventListener(()=>{clearTimeout(Q),F(yn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,M);try{const Q=yield G.client.fetch(T);return yield G.storage.deleteThrottleMetadata(),Q}catch(Q){if(!function ho(x){if(!(x instanceof se.ZR&&x.customData))return!1;const T=Number(x.customData.httpStatus);return 429===T||500===T||503===T||504===T}(Q))throw Q;const fe={throttleEndTimeMillis:Date.now()+(0,se.$s)(F),backoffCount:F+1};return yield G.storage.setThrottleMetadata(fe),G.attemptFetch(T,fe)}})()}}class Kh{constructor(T,M,F,G,Q){this.app=T,this._client=M,this._storageCache=F,this._storage=G,this._logger=Q,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Fr(x,T){const M=x.target.error||void 0;return yn.create(T,{originalErrorMessage:M&&M?.message})}const ei="app_namespace_store";class jE{constructor(T,M,F,G=function Wt(){return new Promise((x,T)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=F=>{T(Fr(F,"storage-open"))},M.onsuccess=F=>{x(F.target.result)},M.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(ei,{keyPath:"compositeKey"})}}catch(M){T(yn.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=T,this.appName=M,this.namespace=F,this.openDbPromise=G}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var M=this;return(0,N.Z)(function*(){const F=yield M.openDbPromise;return new Promise((G,Q)=>{const Je=F.transaction([ei],"readonly").objectStore(ei),ze=M.createCompositeKey(T);try{const ut=Je.get(ze);ut.onerror=At=>{Q(Fr(At,"storage-get"))},ut.onsuccess=At=>{const Mt=At.target.result;G(Mt?Mt.value:void 0)}}catch(ut){Q(yn.create("storage-get",{originalErrorMessage:ut?.message}))}})})()}set(T,M){var F=this;return(0,N.Z)(function*(){const G=yield F.openDbPromise;return new Promise((Q,fe)=>{const ze=G.transaction([ei],"readwrite").objectStore(ei),ut=F.createCompositeKey(T);try{const At=ze.put({compositeKey:ut,value:M});At.onerror=Mt=>{fe(Fr(Mt,"storage-set"))},At.onsuccess=()=>{Q()}}catch(At){fe(yn.create("storage-set",{originalErrorMessage:At?.message}))}})})()}delete(T){var M=this;return(0,N.Z)(function*(){const F=yield M.openDbPromise;return new Promise((G,Q)=>{const Je=F.transaction([ei],"readwrite").objectStore(ei),ze=M.createCompositeKey(T);try{const ut=Je.delete(ze);ut.onerror=At=>{Q(Fr(At,"storage-delete"))},ut.onsuccess=()=>{G()}}catch(ut){Q(yn.create("storage-delete",{originalErrorMessage:ut?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Oc{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,N.Z)(function*(){const M=T.storage.getLastFetchStatus(),F=T.storage.getLastSuccessfulFetchTimestampMillis(),G=T.storage.getActiveConfig(),Q=yield M;Q&&(T.lastFetchStatus=Q);const fe=yield F;fe&&(T.lastSuccessfulFetchTimestampMillis=fe);const Je=yield G;Je&&(T.activeConfig=Je)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Ks(){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,N.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}!function Bo(){(0,ie._registerComponent)(new ne.wA("remote-config",function x(T,{instanceIdentifier:M}){const F=T.getProvider("app").getImmediate(),G=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw yn.create("registration-window");if(!(0,se.hl)())throw yn.create("indexed-db-unavailable");const{projectId:Q,apiKey:fe,appId:Je}=F.options;if(!Q)throw yn.create("registration-project-id");if(!fe)throw yn.create("registration-api-key");if(!Je)throw yn.create("registration-app-id");const ze=new jE(Je,F.name,M=M||"firebase"),ut=new Oc(ze),At=new _e.Yd(Ea);At.logLevel=_e.in.ERROR;const Mt=new Lo(G,ie.SDK_VERSION,M,Q,fe,Je),Li=new kl(Mt,ze),wi=new yr(Li,ze,ut,At),Co=new Kh(F,wi,ut,ze,At);return function zt(x){const T=(0,se.m9)(x);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Co),Co},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(Ea,"0.4.4"),(0,ie.registerVersion)(Ea,"0.4.4","esm2017")}();const bi=(x,T)=>T.some(M=>x instanceof M);let ey,ti;const ns=new WeakMap,is=new WeakMap,Ni=new WeakMap,Wi=new WeakMap,Js=new WeakMap;let Ol={get(x,T,M){if(x instanceof IDBTransaction){if("done"===T)return is.get(x);if("objectStoreNames"===T)return x.objectStoreNames||Ni.get(x);if("store"===T)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return Vo(x[T])},set:(x,T,M)=>(x[T]=M,!0),has:(x,T)=>x instanceof IDBTransaction&&("done"===T||"store"===T)||T in x};function ny(x){return"function"==typeof x?function gm(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ia(){return ti||(ti=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...T){return x.apply(ld(this),T),Vo(ns.get(this))}:function(...T){return Vo(x.apply(ld(this),T))}:function(T,...M){const F=x.call(ld(this),T,...M);return Ni.set(F,T.sort?T.sort():[T]),Vo(F)}}(x):(x instanceof IDBTransaction&&function ad(x){if(is.has(x))return;const T=new Promise((M,F)=>{const G=()=>{x.removeEventListener("complete",Q),x.removeEventListener("error",fe),x.removeEventListener("abort",fe)},Q=()=>{M(),G()},fe=()=>{F(x.error||new DOMException("AbortError","AbortError")),G()};x.addEventListener("complete",Q),x.addEventListener("error",fe),x.addEventListener("abort",fe)});is.set(x,T)}(x),bi(x,function Lr(){return ey||(ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,Ol):x)}function Vo(x){if(x instanceof IDBRequest)return function ty(x){const T=new Promise((M,F)=>{const G=()=>{x.removeEventListener("success",Q),x.removeEventListener("error",fe)},Q=()=>{M(Vo(x.result)),G()},fe=()=>{F(x.error),G()};x.addEventListener("success",Q),x.addEventListener("error",fe)});return T.then(M=>{M instanceof IDBCursor&&ns.set(M,x)}).catch(()=>{}),Js.set(T,x),T}(x);if(Wi.has(x))return Wi.get(x);const T=ny(x);return T!==x&&(Wi.set(x,T),Js.set(T,x)),T}const ld=x=>Js.get(x);function cd(x,T,{blocked:M,upgrade:F,blocking:G,terminated:Q}={}){const fe=indexedDB.open(x,T),Je=Vo(fe);return F&&fe.addEventListener("upgradeneeded",ze=>{F(Vo(fe.result),ze.oldVersion,ze.newVersion,Vo(fe.transaction))}),M&&fe.addEventListener("blocked",()=>M()),Je.then(ze=>{Q&&ze.addEventListener("close",()=>Q()),G&&ze.addEventListener("versionchange",()=>G())}).catch(()=>{}),Je}function Pl(x,{blocked:T}={}){const M=indexedDB.deleteDatabase(x);return T&&M.addEventListener("blocked",()=>T()),Vo(M).then(()=>{})}const Qh=["get","getKey","getAll","getAllKeys","count"],_m=["put","add","delete","clear"],ud=new Map;function Jh(x,T){if(!(x instanceof IDBDatabase)||T in x||"string"!=typeof T)return;if(ud.get(T))return ud.get(T);const M=T.replace(/FromIndex$/,""),F=T!==M,G=_m.includes(M);if(!(M in(F?IDBIndex:IDBObjectStore).prototype)||!G&&!Qh.includes(M))return;const Q=function(){var fe=(0,N.Z)(function*(Je,...ze){const ut=this.transaction(Je,G?"readwrite":"readonly");let At=ut.store;return F&&(At=At.index(ze.shift())),(yield Promise.all([At[M](...ze),G&&ut.done]))[0]});return function(ze){return fe.apply(this,arguments)}}();return ud.set(T,Q),Q}!function mm(x){Ol=x(Ol)}(x=>({...x,get:(T,M,F)=>Jh(T,M)||x.get(T,M,F),has:(T,M)=>!!Jh(T,M)||x.has(T,M)}));const Xh="/firebase-messaging-sw.js",Nl="/firebase-cloud-messaging-push-scope",Fl="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",iy="https://fcmregistrations.googleapis.com/v1",dd="google.c.a.c_id",ni="google.c.a.c_l",Ds="google.c.a.ts";var rs=(()=>((rs=rs||{}).PUSH_RECEIVED="push-received",rs.NOTIFICATION_CLICKED="notification-clicked",rs))();function fo(x){const T=new Uint8Array(x);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Pc(x){const M=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(M),G=new Uint8Array(F.length);for(let Q=0;Q<F.length;++Q)G[Q]=F.charCodeAt(Q);return G}const Ll="fcm_token_details_db",ef=5,Bl="fcm_token_object_Store";function cr(){return cr=(0,N.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Q=>Q.name).includes(Ll))return null;let T=null;return(yield cd(Ll,ef,{upgrade:(F=(0,N.Z)(function*(G,Q,fe,Je){var ze;if(Q<2||!G.objectStoreNames.contains(Bl))return;const ut=Je.objectStore(Bl),At=yield ut.index("fcmSenderId").get(x);if(yield ut.clear(),At)if(2===Q){const Mt=At;if(!Mt.auth||!Mt.p256dh||!Mt.endpoint)return;T={token:Mt.fcmToken,createTime:null!==(ze=Mt.createTime)&&void 0!==ze?ze:Date.now(),subscriptionOptions:{auth:Mt.auth,p256dh:Mt.p256dh,endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:"string"==typeof Mt.vapidKey?Mt.vapidKey:fo(Mt.vapidKey)}}}else if(3===Q){const Mt=At;T={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:fo(Mt.auth),p256dh:fo(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:fo(Mt.vapidKey)}}}else if(4===Q){const Mt=At;T={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:fo(Mt.auth),p256dh:fo(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:fo(Mt.vapidKey)}}}}),function(Q,fe,Je,ze){return F.apply(this,arguments)})})).close(),yield Pl(Ll),yield Pl("fcm_vapid_details_db"),yield Pl("undefined"),function Nc(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:T}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}(T)?T:null;var F}),cr.apply(this,arguments)}const hi="firebase-messaging-database",Fc=1,Qr="firebase-messaging-store";let Vl=null;function Sa(){return Vl||(Vl=cd(hi,Fc,{upgrade:(x,T)=>{0===T&&x.createObjectStore(Qr)}})),Vl}function Aa(x){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,N.Z)(function*(x){const T=Xs(x),F=yield(yield Sa()).transaction(Qr).objectStore(Qr).get(T);if(F)return F;{const G=yield function oy(x){return cr.apply(this,arguments)}(x.appConfig.senderId);if(G)return yield vm(x,G),G}}),Ma.apply(this,arguments)}function vm(x,T){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,N.Z)(function*(x,T){const M=Xs(x),G=(yield Sa()).transaction(Qr,"readwrite");return yield G.objectStore(Qr).put(T,M),yield G.done,T})).apply(this,arguments)}function Lc(){return(Lc=(0,N.Z)(function*(x){const T=Xs(x),F=(yield Sa()).transaction(Qr,"readwrite");yield F.objectStore(Qr).delete(T),yield F.done})).apply(this,arguments)}function Xs({appConfig:x}){return x.appId}const ur=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function bm(x,T){return tf.apply(this,arguments)}function tf(){return(tf=(0,N.Z)(function*(x,T){const M=yield md(x),F=gd(T),G={method:"POST",headers:M,body:JSON.stringify(F)};let Q;try{Q=yield(yield fetch(Hl(x.appConfig),G)).json()}catch(fe){throw ur.create("token-subscribe-failed",{errorInfo:fe?.toString()})}if(Q.error)throw ur.create("token-subscribe-failed",{errorInfo:Q.error.message});if(!Q.token)throw ur.create("token-subscribe-no-token");return Q.token})).apply(this,arguments)}function nf(){return(nf=(0,N.Z)(function*(x,T){const M=yield md(x),F=gd(T.subscriptionOptions),G={method:"PATCH",headers:M,body:JSON.stringify(F)};let Q;try{Q=yield(yield fetch(`${Hl(x.appConfig)}/${T.token}`,G)).json()}catch(fe){throw ur.create("token-update-failed",{errorInfo:fe?.toString()})}if(Q.error)throw ur.create("token-update-failed",{errorInfo:Q.error.message});if(!Q.token)throw ur.create("token-update-no-token");return Q.token})).apply(this,arguments)}function pd(x,T){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,N.Z)(function*(x,T){const F={method:"DELETE",headers:yield md(x)};try{const Q=yield(yield fetch(`${Hl(x.appConfig)}/${T}`,F)).json();if(Q.error)throw ur.create("token-unsubscribe-failed",{errorInfo:Q.error.message})}catch(G){throw ur.create("token-unsubscribe-failed",{errorInfo:G?.toString()})}})).apply(this,arguments)}function Hl({projectId:x}){return`${iy}/projects/${x}/registrations`}function md(x){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,N.Z)(function*({appConfig:x,installations:T}){const M=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function gd({p256dh:x,auth:T,endpoint:M,vapidKey:F}){const G={web:{endpoint:M,auth:T,p256dh:x}};return F!==Fl&&(G.web.applicationPubKey=F),G}const Uc=6048e5;function Ra(){return Ra=(0,N.Z)(function*(x){const T=yield function Hc(x,T){return dr.apply(this,arguments)}(x.swRegistration,x.vapidKey),M={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:T.endpoint,auth:fo(T.getKey("auth")),p256dh:fo(T.getKey("p256dh"))},F=yield Aa(x.firebaseDependencies);if(F){if(function zc(x,T){return T.vapidKey===x.vapidKey&&T.endpoint===x.endpoint&&T.auth===x.auth&&T.p256dh===x.p256dh}(F.subscriptionOptions,M))return Date.now()>=F.createTime+Uc?function rf(x,T){return zl.apply(this,arguments)}(x,{token:F.token,createTime:Date.now(),subscriptionOptions:M}):F.token;try{yield pd(x.firebaseDependencies,F.token)}catch(G){console.warn(G)}return kn(x.firebaseDependencies,M)}return kn(x.firebaseDependencies,M)}),Ra.apply(this,arguments)}function po(){return po=(0,N.Z)(function*(x){const T=yield Aa(x.firebaseDependencies);T&&(yield pd(x.firebaseDependencies,T.token),yield function hd(x){return Lc.apply(this,arguments)}(x.firebaseDependencies));const M=yield x.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),po.apply(this,arguments)}function zl(){return zl=(0,N.Z)(function*(x,T){try{const M=yield function fd(x,T){return nf.apply(this,arguments)}(x.firebaseDependencies,T),F=Object.assign(Object.assign({},T),{token:M,createTime:Date.now()});return yield vm(x.firebaseDependencies,F),M}catch(M){throw yield function wm(x){return po.apply(this,arguments)}(x),M}}),zl.apply(this,arguments)}function kn(x,T){return ea.apply(this,arguments)}function ea(){return(ea=(0,N.Z)(function*(x,T){const F={token:yield bm(x,T),createTime:Date.now(),subscriptionOptions:T};return yield vm(x,F),F.token})).apply(this,arguments)}function dr(){return(dr=(0,N.Z)(function*(x,T){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Pc(T)})})).apply(this,arguments)}function _d(x){const T={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function Ts(x,T){if(!T.notification)return;x.notification={};const M=T.notification.title;M&&(x.notification.title=M);const F=T.notification.body;F&&(x.notification.body=F);const G=T.notification.image;G&&(x.notification.image=G);const Q=T.notification.icon;Q&&(x.notification.icon=Q)}(T,x),function xi(x,T){T.data&&(x.data=T.data)}(T,x),function ly(x,T){var M,F,G,Q,fe;if(!(T.fcmOptions||null!==(M=T.notification)&&void 0!==M&&M.click_action))return;x.fcmOptions={};const Je=null!==(G=null===(F=T.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==G?G:null===(Q=T.notification)||void 0===Q?void 0:Q.click_action;Je&&(x.fcmOptions.link=Je);const ze=null===(fe=T.fcmOptions)||void 0===fe?void 0:fe.analytics_label;ze&&(x.fcmOptions.analyticsLabel=ze)}(T,x),T}function sf(x,T){const M=[];for(let F=0;F<x.length;F++)M.push(x.charAt(F)),F<T.length&&M.push(T.charAt(F));return M.join("")}function yd(x){return ur.create("missing-app-config-values",{valueName:x})}sf("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),sf("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class af{constructor(T,M,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const G=function Is(x){if(!x||!x.options)throw yd("App Configuration Object");if(!x.name)throw yd("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:M}=x;for(const F of T)if(!M[F])throw yd(F);return{appName:x.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:G,installations:M,analyticsProvider:F}}_delete(){return Promise.resolve()}}function jc(){return(jc=(0,N.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(Xh,{scope:Nl}),x.swRegistration.update().catch(()=>{})}catch(T){throw ur.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function Oa(){return(Oa=(0,N.Z)(function*(x,T){if(!T&&!x.swRegistration&&(yield function vd(x){return jc.apply(this,arguments)}(x)),T||!x.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw ur.create("invalid-sw-registration");x.swRegistration=T}})).apply(this,arguments)}function Ss(){return(Ss=(0,N.Z)(function*(x,T){T?x.vapidKey=T:x.vapidKey||(x.vapidKey=Fl)})).apply(this,arguments)}function wd(){return wd=(0,N.Z)(function*(x,T){if(!navigator)throw ur.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ur.create("permission-blocked");return yield function wt(x,T){return Ss.apply(this,arguments)}(x,T?.vapidKey),yield function bd(x,T){return Oa.apply(this,arguments)}(x,T?.serviceWorkerRegistration),function ay(x){return Ra.apply(this,arguments)}(x)}),wd.apply(this,arguments)}function cf(){return(cf=(0,N.Z)(function*(x,T,M){const F=function uf(x){switch(x){case rs.NOTIFICATION_CLICKED:return"notification_open";case rs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(T);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:M[dd],message_name:M[ni],message_time:M[Ds],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function jl(){return jl=(0,N.Z)(function*(x,T){const M=T.data;if(!M.isFirebaseMessaging)return;x.onMessageHandler&&M.messageType===rs.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(_d(M)):x.onMessageHandler.next(_d(M)));const F=M.data;(function ka(x){return"object"==typeof x&&!!x&&dd in x})(F)&&"1"===F["google.c.a.e"]&&(yield function Cm(x,T,M){return cf.apply(this,arguments)}(x,M.messageType,F))}),jl.apply(this,arguments)}const $l="@firebase/messaging",Na=x=>{const T=new af(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Pa(x,T){return jl.apply(this,arguments)}(T,M)),T},df=x=>{const T=x.getProvider("messaging").getImmediate();return{getToken:F=>function lf(x,T){return wd.apply(this,arguments)}(T,F)}};function en(){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,N.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ie(){(0,ie._registerComponent)(new ne.wA("messaging",Na,"PUBLIC")),(0,ie._registerComponent)(new ne.wA("messaging-internal",df,"PRIVATE")),(0,ie.registerVersion)($l,"0.12.4"),(0,ie.registerVersion)($l,"0.12.4","esm2017")}();const ii="analytics",xd="firebase_id",Ki="origin",ss=6e4,qc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",As="https://www.googletagmanager.com/gtag/js",wn=new _e.Yd("@firebase/analytics"),Qi=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ql(x){if(!x.startsWith(As)){const T=Qi.create("invalid-gtag-resource",{gtagURL:x});return wn.warn(T.message),""}return x}function Zc(x){return Promise.all(x.map(T=>T.catch(M=>M)))}function Wc(){return(Wc=(0,N.Z)(function*(x,T,M,F,G,Q){const fe=F[G];try{if(fe)yield T[fe];else{const ze=(yield Zc(M)).find(ut=>ut.measurementId===G);ze&&(yield T[ze.appId])}}catch(Je){wn.error(Je)}x("config",G,Q)})).apply(this,arguments)}function La(){return(La=(0,N.Z)(function*(x,T,M,F,G){try{let Q=[];if(G&&G.send_to){let fe=G.send_to;Array.isArray(fe)||(fe=[fe]);const Je=yield Zc(M);for(const ze of fe){const ut=Je.find(Mt=>Mt.measurementId===ze),At=ut&&T[ut.appId];if(!At){Q=[];break}Q.push(At)}}0===Q.length&&(Q=Object.values(T)),yield Promise.all(Q),x("event",F,G||{})}catch(Q){wn.error(Q)}})).apply(this,arguments)}const Kc=30,Em=new class Wl{constructor(T={},M=1e3){this.throttleMetadata=T,this.intervalMillis=M}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,M){this.throttleMetadata[T]=M}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function br(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function Nn(){return(Nn=(0,N.Z)(function*(x){var T;const{appId:M,apiKey:F}=x,G={method:"GET",headers:br(F)},Q=qc.replace("{app-id}",M),fe=yield fetch(Q,G);if(200!==fe.status&&304!==fe.status){let Je="";try{const ze=yield fe.json();null!==(T=ze.error)&&void 0!==T&&T.message&&(Je=ze.error.message)}catch{}throw Qi.create("config-fetch-failed",{httpStatus:fe.status,responseMessage:Je})}return fe.json()})).apply(this,arguments)}function Kl(){return(Kl=(0,N.Z)(function*(x,T=Em,M){const{appId:F,apiKey:G,measurementId:Q}=x.options;if(!F)throw Qi.create("no-app-id");if(!G){if(Q)return{measurementId:Q,appId:F};throw Qi.create("no-api-key")}const fe=T.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Je=new Qc;return setTimeout((0,N.Z)(function*(){Je.abort()}),void 0!==M?M:ss),mf({appId:F,apiKey:G,measurementId:Q},fe,Je,T)})).apply(this,arguments)}function mf(x,T,M){return gf.apply(this,arguments)}function gf(){return gf=(0,N.Z)(function*(x,{throttleEndTimeMillis:T,backoffCount:M},F,G=Em){var Q;const{appId:fe,measurementId:Je}=x;try{yield function Tm(x,T){return new Promise((M,F)=>{const G=Math.max(T-Date.now(),0),Q=setTimeout(M,G);x.addEventListener(()=>{clearTimeout(Q),F(Qi.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(F,T)}catch(ze){if(Je)return wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Je} provided in the "measurementId" field in the local Firebase config. [${ze?.message}]`),{appId:fe,measurementId:Je};throw ze}try{const ze=yield function ta(x){return Nn.apply(this,arguments)}(x);return G.deleteThrottleMetadata(fe),ze}catch(ze){const ut=ze;if(!function Ba(x){if(!(x instanceof se.ZR&&x.customData))return!1;const T=Number(x.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ut)){if(G.deleteThrottleMetadata(fe),Je)return wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Je} provided in the "measurementId" field in the local Firebase config. [${ut?.message}]`),{appId:fe,measurementId:Je};throw ze}const At=503===Number(null===(Q=ut?.customData)||void 0===Q?void 0:Q.httpStatus)?(0,se.$s)(M,G.intervalMillis,Kc):(0,se.$s)(M,G.intervalMillis),Mt={throttleEndTimeMillis:Date.now()+At,backoffCount:M+1};return G.setThrottleMetadata(fe,Mt),wn.debug(`Calling attemptFetch again in ${At} millis`),mf(x,Mt,F,G)}}),gf.apply(this,arguments)}class Qc{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let go,Jl;function Ql(){return(Ql=(0,N.Z)(function*(x,T,M,F,G){if(G&&G.global)x("event",M,F);else{const Q=yield T;x("event",M,Object.assign(Object.assign({},F),{send_to:Q}))}})).apply(this,arguments)}function Rs(){return(Rs=(0,N.Z)(function*(){if(!(0,se.hl)())return wn.warn(Qi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(x){return wn.warn(Qi.create("indexeddb-unavailable",{errorInfo:x?.toString()}).message),!1}return!0})).apply(this,arguments)}function Sn(){return Sn=(0,N.Z)(function*(x,T,M,F,G,Q,fe){var Je;const ze=function Dm(x){return Kl.apply(this,arguments)}(x);ze.then(wi=>{M[wi.measurementId]=wi.appId,x.options.measurementId&&wi.measurementId!==x.options.measurementId&&wn.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${wi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(wi=>wn.error(wi)),T.push(ze);const ut=function Ad(){return Rs.apply(this,arguments)}().then(wi=>{if(wi)return F.getId()}),[At,Mt]=yield Promise.all([ze,ut]);(function pf(x){const T=window.document.getElementsByTagName("script");for(const M of Object.values(T))if(M.src&&M.src.includes(As)&&M.src.includes(x))return M;return null})(Q)||function Zl(x,T){const M=function Ms(x,T){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(x,T)),M}("firebase-js-sdk-policy",{createScriptURL:ql}),F=document.createElement("script"),G=`${As}?l=${x}&id=${T}`;F.src=M?M?.createScriptURL(G):G,F.async=!0,document.head.appendChild(F)}(Q,At.measurementId),Jl&&(G("consent","default",Jl),function Sd(x){Jl=x}(void 0)),G("js",new Date);const Li=null!==(Je=fe?.config)&&void 0!==Je?Je:{};return Li[Ki]="firebase",Li.update=!0,null!=Mt&&(Li[xd]=Mt),G("config",At.measurementId,Li),go&&(G("set",go),function Ua(x){go=x}(void 0)),At.measurementId}),Sn.apply(this,arguments)}class Ke{constructor(T){this.app=T}_delete(){return delete Xr[this.app.options.appId],Promise.resolve()}}let Xr={},Xl=[];const za={};let ec,Fi,ks="dataLayer",eo=!1;function ja(x,T,M){!function vf(){const x=[];if((0,se.ru)()&&x.push("This is a browser extension environment."),(0,se.zI)()||x.push("Cookies are not available."),x.length>0){const T=x.map((F,G)=>`(${G+1}) ${F}`).join(" "),M=Qi.create("invalid-analytics-context",{errorInfo:T});wn.warn(M.message)}}();const F=x.options.appId;if(!F)throw Qi.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Qi.create("no-api-key");wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Xr[F])throw Qi.create("already-exists",{id:F});if(!eo){!function ff(x){let T=[];Array.isArray(window[x])?T=window[x]:window[x]=T}(ks);const{wrappedGtag:Q,gtagCore:fe}=function Ed(x,T,M,F,G){let Q=function(...fe){window[F].push(arguments)};return window[G]&&"function"==typeof window[G]&&(Q=window[G]),window[G]=function mo(x,T,M,F){function Q(){return Q=(0,N.Z)(function*(fe,...Je){try{if("event"===fe){const[ze,ut]=Je;yield function Yl(x,T,M,F,G){return La.apply(this,arguments)}(x,T,M,ze,ut)}else if("config"===fe){const[ze,ut]=Je;yield function Yc(x,T,M,F,G,Q){return Wc.apply(this,arguments)}(x,T,M,F,ze,ut)}else if("consent"===fe){const[ze]=Je;x("consent","update",ze)}else if("get"===fe){const[ze,ut,At]=Je;x("get",ze,ut,At)}else if("set"===fe){const[ze]=Je;x("set",ze)}else x(fe,...Je)}catch(ze){wn.error(ze)}}),Q.apply(this,arguments)}return function G(fe){return Q.apply(this,arguments)}}(Q,x,T,M),{gtagCore:Q,wrappedGtag:window[G]}}(Xr,Xl,za,ks,"gtag");Fi=Q,ec=fe,eo=!0}return Xr[F]=function Ha(x,T,M,F,G,Q,fe){return Sn.apply(this,arguments)}(x,Xl,za,T,ec,ks,M),new Ke(x)}function Br(){return to.apply(this,arguments)}function to(){return(to=(0,N.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}const nc="@firebase/analytics";!function na(){(0,ie._registerComponent)(new ne.wA(ii,(T,{options:M})=>ja(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ie._registerComponent)(new ne.wA("analytics-internal",function x(T){try{const M=T.getProvider(ii).getImmediate();return{logEvent:(F,G,Q)=>function Uo(x,T,M,F){x=(0,se.m9)(x),function _f(x,T,M,F,G){return Ql.apply(this,arguments)}(Fi,Xr[x.app.options.appId],T,M,F).catch(G=>wn.error(G))}(M,F,G,Q)}}catch(M){throw Qi.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ie.registerVersion)(nc,"0.10.0"),(0,ie.registerVersion)(nc,"0.10.0","esm2017")}();var ou=P(4408),su=P(7565);const kd=new class au extends su.v{}(class ic extends ou.o{constructor(T,M){super(T,M),this.scheduler=T,this.work=M}schedule(T,M=0){return M>0?super.schedule(T,M):(this.delay=M,this.state=T,this.scheduler.flush(this),this)}execute(T,M){return M>0||this.closed?super.execute(T,M):this._execute(T,M)}requestAsyncId(T,M,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(T,M,F):(T.flush(this),0)}});var Os=P(4986),ia=P(8505),Ho=P(5363),ra=P(9468);const $a=new o.GfV("7.6.1"),vo="__angularfire_symbol__analyticsIsSupportedValue",rc="__angularfire_symbol__analyticsIsSupported",lu="__angularfire_symbol__remoteConfigIsSupportedValue",cu="__angularfire_symbol__remoteConfigIsSupported",oc="__angularfire_symbol__messagingIsSupportedValue",Ga="__angularfire_symbol__messagingIsSupported";function as(x,T,M){if(T){if(1===T.length)return T[0];const Q=T.filter(fe=>fe.app===M);if(1===Q.length)return Q[0]}return M.container.getProvider(x).getImmediate({optional:!0})}globalThis[rc]||(globalThis[rc]=Br().then(x=>globalThis[vo]=x).catch(()=>globalThis[vo]=!1)),globalThis[Ga]||(globalThis[Ga]=en().then(x=>globalThis[oc]=x).catch(()=>globalThis[oc]=!1)),globalThis[cu]||(globalThis[cu]=Ks().then(x=>globalThis[lu]=x).catch(()=>globalThis[lu]=!1));const Mm=(x,T)=>{const M=T?[T]:(0,K.C6)(),F=[];return M.forEach(G=>{G.container.getProvider(x).instances.forEach(fe=>{F.includes(fe)||F.push(fe)})}),F};function Pn(){}class Rm{constructor(T,M=kd){this.zone=T,this.delegate=M}now(){return this.delegate.now()}schedule(T,M,F){const G=this.zone;return this.delegate.schedule(function(fe){G.runGuarded(()=>{T.apply(this,[fe])})},M,F)}}class bo{constructor(T){this.zone=T,this.task=null}call(T,M){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pn,{},Pn,Pn)),M.pipe((0,ia.b)({next:F,complete:F,error:F})).subscribe(T).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xf=(()=>{class x{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Rm(Zone.current)),this.insideAngular=M.run(()=>new Rm(Zone.current,Os.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(M){return new(M||x)(o.LFG(o.R0b))},x.\u0275prov=o.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function fi(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function qa(x){return x.pipe((0,Ho.Q)(fi().outsideAngular))}function km(x){return fi(),function M0(x){return function(M){return(M=M.lift(new bo(x.ngZone))).pipe((0,ra.R)(x.outsideAngular),(0,Ho.Q)(x.insideAngular))}}(fi())(x)}},2090:(pt,Ce,P)=>{P.d(Ce,{$s:()=>Po,BH:()=>X,G6:()=>Ee,L:()=>pe,LL:()=>Zt,Pz:()=>ye,Sg:()=>me,UG:()=>le,US:()=>ne,ZB:()=>te,ZR:()=>rt,aH:()=>oe,b$:()=>Ai,eu:()=>qe,hl:()=>Me,jU:()=>$e,m9:()=>Xt,ne:()=>vn,pd:()=>vt,r3:()=>ci,ru:()=>Qt,tV:()=>U,uI:()=>Ue,vZ:()=>Rr,w1:()=>bs,xO:()=>Tl,xb:()=>Gs,z$:()=>Se,zI:()=>He,zd:()=>Qe});const ie=function(H){const V=[];let Y=0;for(let we=0;we<H.length;we++){let ce=H.charCodeAt(we);ce<128?V[Y++]=ce:ce<2048?(V[Y++]=ce>>6|192,V[Y++]=63&ce|128):55296==(64512&ce)&&we+1<H.length&&56320==(64512&H.charCodeAt(we+1))?(ce=65536+((1023&ce)<<10)+(1023&H.charCodeAt(++we)),V[Y++]=ce>>18|240,V[Y++]=ce>>12&63|128,V[Y++]=ce>>6&63|128,V[Y++]=63&ce|128):(V[Y++]=ce>>12|224,V[Y++]=ce>>6&63|128,V[Y++]=63&ce|128)}return V},ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,V){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let ce=0;ce<H.length;ce+=3){const lt=H[ce],bt=ce+1<H.length,Vt=bt?H[ce+1]:0,Tn=ce+2<H.length,bn=Tn?H[ce+2]:0;let ki=(15&Vt)<<2|bn>>6,Yr=63&bn;Tn||(Yr=64,bt||(ki=64)),we.push(Y[lt>>2],Y[(3&lt)<<4|Vt>>4],Y[ki],Y[Yr])}return we.join("")},encodeString(H,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(H):this.encodeByteArray(ie(H),V)},decodeString(H,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(H):function(H){const V=[];let Y=0,we=0;for(;Y<H.length;){const ce=H[Y++];if(ce<128)V[we++]=String.fromCharCode(ce);else if(ce>191&&ce<224){const lt=H[Y++];V[we++]=String.fromCharCode((31&ce)<<6|63&lt)}else if(ce>239&&ce<365){const Tn=((7&ce)<<18|(63&H[Y++])<<12|(63&H[Y++])<<6|63&H[Y++])-65536;V[we++]=String.fromCharCode(55296+(Tn>>10)),V[we++]=String.fromCharCode(56320+(1023&Tn))}else{const lt=H[Y++],bt=H[Y++];V[we++]=String.fromCharCode((15&ce)<<12|(63&lt)<<6|63&bt)}}return V.join("")}(this.decodeStringToByteArray(H,V))},decodeStringToByteArray(H,V){this.init_();const Y=V?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let ce=0;ce<H.length;){const lt=Y[H.charAt(ce++)],Vt=ce<H.length?Y[H.charAt(ce)]:0;++ce;const bn=ce<H.length?Y[H.charAt(ce)]:64;++ce;const Jt=ce<H.length?Y[H.charAt(ce)]:64;if(++ce,null==lt||null==Vt||null==bn||null==Jt)throw new _e;we.push(lt<<2|Vt>>4),64!==bn&&(we.push(Vt<<4&240|bn>>2),64!==Jt&&we.push(bn<<6&192|Jt))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}};class _e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pe=function(H){return function(H){const V=ie(H);return ne.encodeByteArray(V,!0)}(H).replace(/\./g,"")},U=function(H){try{return ne.decodeString(H,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function te(H,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return V}for(const Y in V)!V.hasOwnProperty(Y)||!Ve(Y)||(H[Y]=te(H[Y],V[Y]));return H}function Ve(H){return"__proto__"!==H}const Ne=()=>{try{return function Te(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const H=process.env.__FIREBASE_DEFAULTS__;return H?JSON.parse(H):void 0})()||(()=>{if(typeof document>"u")return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=H&&U(H[1]);return V&&JSON.parse(V)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},oe=()=>{var H;return null===(H=Ne())||void 0===H?void 0:H.config},ye=H=>{var V;return null===(V=Ne())||void 0===V?void 0:V[`_${H}`]};class X{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,Y)=>{this.resolve=V,this.reject=Y})}wrapCallback(V){return(Y,we)=>{Y?this.reject(Y):this.resolve(we),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(Y):V(Y,we))}}}function me(H,V){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=V||"demo-project",ce=H.iat||0,lt=H.sub||H.user_id;if(!lt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const bt=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:ce,exp:ce+3600,auth_time:ce,sub:lt,user_id:lt,firebase:{sign_in_provider:"custom",identities:{}}},H);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(bt)),""].join(".")}function Se(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())}function le(){var H;const V=null===(H=Ne())||void 0===H?void 0:H.forceEnvironment;if("node"===V)return!0;if("browser"===V)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function $e(){return"object"==typeof self&&self.self===self}function Qt(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Ai(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function bs(){const H=Se();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Ee(){return!le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Me(){try{return"object"==typeof indexedDB}catch{return!1}}function qe(){return new Promise((H,V)=>{try{let Y=!0;const we="validate-browser-context-for-indexeddb-analytics-module",ce=self.indexedDB.open(we);ce.onsuccess=()=>{ce.result.close(),Y||self.indexedDB.deleteDatabase(we),H(!0)},ce.onupgradeneeded=()=>{Y=!1},ce.onerror=()=>{var lt;V((null===(lt=ce.error)||void 0===lt?void 0:lt.message)||"")}}catch(Y){V(Y)}})}function He(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class rt extends Error{constructor(V,Y,we){super(Y),this.code=V,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,rt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zt.prototype.create)}}class Zt{constructor(V,Y,we){this.service=V,this.serviceName=Y,this.errors=we}create(V,...Y){const we=Y[0]||{},ce=`${this.service}/${V}`,lt=this.errors[V],bt=lt?function at(H,V){return H.replace(yt,(Y,we)=>{const ce=V[we];return null!=ce?String(ce):`<${we}?>`})}(lt,we):"Error";return new rt(ce,`${this.serviceName}: ${bt} (${ce}).`,we)}}const yt=/\{\$([^}]+)}/g;function ci(H,V){return Object.prototype.hasOwnProperty.call(H,V)}function Gs(H){for(const V in H)if(Object.prototype.hasOwnProperty.call(H,V))return!1;return!0}function Rr(H,V){if(H===V)return!0;const Y=Object.keys(H),we=Object.keys(V);for(const ce of Y){if(!we.includes(ce))return!1;const lt=H[ce],bt=V[ce];if(kr(lt)&&kr(bt)){if(!Rr(lt,bt))return!1}else if(lt!==bt)return!1}for(const ce of we)if(!Y.includes(ce))return!1;return!0}function kr(H){return null!==H&&"object"==typeof H}function Tl(H){const V=[];for(const[Y,we]of Object.entries(H))Array.isArray(we)?we.forEach(ce=>{V.push(encodeURIComponent(Y)+"="+encodeURIComponent(ce))}):V.push(encodeURIComponent(Y)+"="+encodeURIComponent(we));return V.length?"&"+V.join("&"):""}function Qe(H){const V={};return H.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[ce,lt]=we.split("=");V[decodeURIComponent(ce)]=decodeURIComponent(lt)}}),V}function vt(H){const V=H.indexOf("?");if(!V)return"";const Y=H.indexOf("#",V);return H.substring(V,Y>0?Y:void 0)}function vn(H,V){const Y=new Ln(H,V);return Y.subscribe.bind(Y)}class Ln{constructor(V,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{V(this)}).catch(we=>{this.error(we)})}next(V){this.forEachObserver(Y=>{Y.next(V)})}error(V){this.forEachObserver(Y=>{Y.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,Y,we){let ce;if(void 0===V&&void 0===Y&&void 0===we)throw new Error("Missing Observer.");ce=function hn(H,V){if("object"!=typeof H||null===H)return!1;for(const Y of V)if(Y in H&&"function"==typeof H[Y])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:Y,complete:we},void 0===ce.next&&(ce.next=Mi),void 0===ce.error&&(ce.error=Mi),void 0===ce.complete&&(ce.complete=Mi);const lt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ce.error(this.finalError):ce.complete()}catch{}}),this.observers.push(ce),lt}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,V)}sendOne(V,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{Y(this.observers[V])}catch(we){typeof console<"u"&&console.error&&console.error(we)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mi(){}const Oo=1e3,Ri=2,yi=144e5,Dn=.5;function Po(H,V=Oo,Y=Ri){const we=V*Math.pow(Y,H),ce=Math.round(Dn*we*(Math.random()-.5)*2);return Math.min(yi,we+ce)}function Xt(H){return H&&H._delegate?H._delegate:H}},5528:(pt,Ce,P)=>{var o=P(2223);let K=null;function N(){return K}class se{}const ne=new o.OlP("DocumentToken");let _e=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(pe)},providedIn:"platform"}),n})();const Le=new o.OlP("Location Initialized");let pe=(()=>{class n extends _e{constructor(){super(),this._doc=(0,o.f3M)(ne),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function U(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function $(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function te(n){return n&&"?"!==n[0]?"?"+n:n}let Ve=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(tt)},providedIn:"root"}),n})();const Te=new o.OlP("appBaseHref");let tt=(()=>{class n extends Ve{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return U(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+te(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const u=this.prepareExternalUrl(r+te(s));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,s){const u=this.prepareExternalUrl(r+te(s));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(_e),o.LFG(Te,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ke=(()=>{class n extends Ve{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=U(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let u=this.prepareExternalUrl(r+te(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,s){let u=this.prepareExternalUrl(r+te(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(_e),o.LFG(Te,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Ye=(()=>{class n{constructor(e){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function oe(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}($(_t(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+te(i))}normalize(e){return n.stripTrailingSlash(function xt(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,_t(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+te(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+te(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=te,n.joinWithSlash=U,n.stripTrailingSlash=$,n.\u0275fac=function(e){return new(e||n)(o.LFG(Ve))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Ne(){return new Ye((0,o.LFG)(Ve))}()},providedIn:"root"}),n})();function _t(n){return n.replace(/\/index.html$/,"")}var Se=(()=>((Se=Se||{})[Se.Format=0]="Format",Se[Se.Standalone=1]="Standalone",Se))(),Ue=(()=>((Ue=Ue||{})[Ue.Narrow=0]="Narrow",Ue[Ue.Abbreviated=1]="Abbreviated",Ue[Ue.Wide=2]="Wide",Ue[Ue.Short=3]="Short",Ue))(),le=(()=>((le=le||{})[le.Short=0]="Short",le[le.Medium=1]="Medium",le[le.Long=2]="Long",le[le.Full=3]="Full",le))(),$e=(()=>(($e=$e||{})[$e.Decimal=0]="Decimal",$e[$e.Group=1]="Group",$e[$e.List=2]="List",$e[$e.PercentSign=3]="PercentSign",$e[$e.PlusSign=4]="PlusSign",$e[$e.MinusSign=5]="MinusSign",$e[$e.Exponential=6]="Exponential",$e[$e.SuperscriptingExponent=7]="SuperscriptingExponent",$e[$e.PerMille=8]="PerMille",$e[$e.Infinity=9]="Infinity",$e[$e.NaN=10]="NaN",$e[$e.TimeSeparator=11]="TimeSeparator",$e[$e.CurrencyDecimal=12]="CurrencyDecimal",$e[$e.CurrencyGroup=13]="CurrencyGroup",$e))();function qe(n,t){return ci((0,o.cg1)(n)[o.wAp.DateFormat],t)}function He(n,t){return ci((0,o.cg1)(n)[o.wAp.TimeFormat],t)}function St(n,t){return ci((0,o.cg1)(n)[o.wAp.DateTimeFormat],t)}function rt(n,t){const e=(0,o.cg1)(n),i=e[o.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===$e.CurrencyDecimal)return e[o.wAp.NumberSymbols][$e.Decimal];if(t===$e.CurrencyGroup)return e[o.wAp.NumberSymbols][$e.Group]}return i}function nn(n){if(!n[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ci(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function $s(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const kr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ws={},Tl=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Qe=(()=>((Qe=Qe||{})[Qe.Short=0]="Short",Qe[Qe.ShortGMT=1]="ShortGMT",Qe[Qe.Long=2]="Long",Qe[Qe.Extended=3]="Extended",Qe))(),vt=(()=>((vt=vt||{})[vt.FullYear=0]="FullYear",vt[vt.Month=1]="Month",vt[vt.Date=2]="Date",vt[vt.Hours=3]="Hours",vt[vt.Minutes=4]="Minutes",vt[vt.Seconds=5]="Seconds",vt[vt.FractionalSeconds=6]="FractionalSeconds",vt[vt.Day=7]="Day",vt))(),Et=(()=>((Et=Et||{})[Et.DayPeriods=0]="DayPeriods",Et[Et.Days=1]="Days",Et[Et.Months=2]="Months",Et[Et.Eras=3]="Eras",Et))();function vn(n,t,e,i){let r=function V(n){if(we(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,u=1]=n.split("-").map(h=>+h);return Ln(r,s-1,u)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(kr))return function Y(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-e,h=Number(n[5]||0)-i,_=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,u,h,_,b),t}(i)}const t=new Date(n);if(!we(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=_r(e,t)||t;let h,u=[];for(;t;){if(h=Tl.exec(t),!h){u.push(t);break}{u=u.concat(h.slice(1));const E=u.pop();if(!E)break;t=E}}let _=r.getTimezoneOffset();i&&(_=No(i,_),r=function H(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function Xt(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(No(t,r)-r))}(r,i,!0));let b="";return u.forEach(E=>{const S=function an(n){if(Po[n])return Po[n];let t;switch(n){case"G":case"GG":case"GGG":t=Yt(Et.Eras,Ue.Abbreviated);break;case"GGGG":t=Yt(Et.Eras,Ue.Wide);break;case"GGGGG":t=Yt(Et.Eras,Ue.Narrow);break;case"y":t=_n(vt.FullYear,1,0,!1,!0);break;case"yy":t=_n(vt.FullYear,2,0,!0,!0);break;case"yyy":t=_n(vt.FullYear,3,0,!1,!0);break;case"yyyy":t=_n(vt.FullYear,4,0,!1,!0);break;case"Y":t=Dn(1);break;case"YY":t=Dn(2,!0);break;case"YYY":t=Dn(3);break;case"YYYY":t=Dn(4);break;case"M":case"L":t=_n(vt.Month,1,1);break;case"MM":case"LL":t=_n(vt.Month,2,1);break;case"MMM":t=Yt(Et.Months,Ue.Abbreviated);break;case"MMMM":t=Yt(Et.Months,Ue.Wide);break;case"MMMMM":t=Yt(Et.Months,Ue.Narrow);break;case"LLL":t=Yt(Et.Months,Ue.Abbreviated,Se.Standalone);break;case"LLLL":t=Yt(Et.Months,Ue.Wide,Se.Standalone);break;case"LLLLL":t=Yt(Et.Months,Ue.Narrow,Se.Standalone);break;case"w":t=yi(1);break;case"ww":t=yi(2);break;case"W":t=yi(1,!0);break;case"d":t=_n(vt.Date,1);break;case"dd":t=_n(vt.Date,2);break;case"c":case"cc":t=_n(vt.Day,1);break;case"ccc":t=Yt(Et.Days,Ue.Abbreviated,Se.Standalone);break;case"cccc":t=Yt(Et.Days,Ue.Wide,Se.Standalone);break;case"ccccc":t=Yt(Et.Days,Ue.Narrow,Se.Standalone);break;case"cccccc":t=Yt(Et.Days,Ue.Short,Se.Standalone);break;case"E":case"EE":case"EEE":t=Yt(Et.Days,Ue.Abbreviated);break;case"EEEE":t=Yt(Et.Days,Ue.Wide);break;case"EEEEE":t=Yt(Et.Days,Ue.Narrow);break;case"EEEEEE":t=Yt(Et.Days,Ue.Short);break;case"a":case"aa":case"aaa":t=Yt(Et.DayPeriods,Ue.Abbreviated);break;case"aaaa":t=Yt(Et.DayPeriods,Ue.Wide);break;case"aaaaa":t=Yt(Et.DayPeriods,Ue.Narrow);break;case"b":case"bb":case"bbb":t=Yt(Et.DayPeriods,Ue.Abbreviated,Se.Standalone,!0);break;case"bbbb":t=Yt(Et.DayPeriods,Ue.Wide,Se.Standalone,!0);break;case"bbbbb":t=Yt(Et.DayPeriods,Ue.Narrow,Se.Standalone,!0);break;case"B":case"BB":case"BBB":t=Yt(Et.DayPeriods,Ue.Abbreviated,Se.Format,!0);break;case"BBBB":t=Yt(Et.DayPeriods,Ue.Wide,Se.Format,!0);break;case"BBBBB":t=Yt(Et.DayPeriods,Ue.Narrow,Se.Format,!0);break;case"h":t=_n(vt.Hours,1,-12);break;case"hh":t=_n(vt.Hours,2,-12);break;case"H":t=_n(vt.Hours,1);break;case"HH":t=_n(vt.Hours,2);break;case"m":t=_n(vt.Minutes,1);break;case"mm":t=_n(vt.Minutes,2);break;case"s":t=_n(vt.Seconds,1);break;case"ss":t=_n(vt.Seconds,2);break;case"S":t=_n(vt.FractionalSeconds,1);break;case"SS":t=_n(vt.FractionalSeconds,2);break;case"SSS":t=_n(vt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=qs(Qe.Short);break;case"ZZZZZ":t=qs(Qe.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=qs(Qe.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=qs(Qe.Long);break;default:return null}return Po[n]=t,t}(E);b+=S?S(r,e,_):"''"===E?"'":E.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function Ln(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function _r(n,t){const e=function Ai(n){return(0,o.cg1)(n)[o.wAp.LocaleId]}(n);if(ws[e]=ws[e]||{},ws[e][t])return ws[e][t];let i="";switch(t){case"shortDate":i=qe(n,le.Short);break;case"mediumDate":i=qe(n,le.Medium);break;case"longDate":i=qe(n,le.Long);break;case"fullDate":i=qe(n,le.Full);break;case"shortTime":i=He(n,le.Short);break;case"mediumTime":i=He(n,le.Medium);break;case"longTime":i=He(n,le.Long);break;case"fullTime":i=He(n,le.Full);break;case"short":const r=_r(n,"shortTime"),s=_r(n,"shortDate");i=hn(St(n,le.Short),[r,s]);break;case"medium":const u=_r(n,"mediumTime"),h=_r(n,"mediumDate");i=hn(St(n,le.Medium),[u,h]);break;case"long":const _=_r(n,"longTime"),b=_r(n,"longDate");i=hn(St(n,le.Long),[_,b]);break;case"full":const E=_r(n,"fullTime"),S=_r(n,"fullDate");i=hn(St(n,le.Full),[E,S])}return i&&(ws[e][t]=i),i}function hn(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Mi(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let u=String(n);for(;u.length<t;)u="0"+u;return i&&(u=u.slice(u.length-t)),s+u}function _n(n,t,e=0,i=!1,r=!1){return function(s,u){let h=function Zi(n,t){switch(n){case vt.FullYear:return t.getFullYear();case vt.Month:return t.getMonth();case vt.Date:return t.getDate();case vt.Hours:return t.getHours();case vt.Minutes:return t.getMinutes();case vt.Seconds:return t.getSeconds();case vt.FractionalSeconds:return t.getMilliseconds();case vt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||h>-e)&&(h+=e),n===vt.Hours)0===h&&-12===e&&(h=12);else if(n===vt.FractionalSeconds)return function Il(n,t){return Mi(n,3).substring(0,t)}(h,t);const _=rt(u,$e.MinusSign);return Mi(h,t,_,i,r)}}function Yt(n,t,e=Se.Format,i=!1){return function(r,s){return function ko(n,t,e,i,r,s){switch(e){case Et.Months:return function ue(n,t,e){const i=(0,o.cg1)(n),s=ci([i[o.wAp.MonthsFormat],i[o.wAp.MonthsStandalone]],t);return ci(s,e)}(t,r,i)[n.getMonth()];case Et.Days:return function bs(n,t,e){const i=(0,o.cg1)(n),s=ci([i[o.wAp.DaysFormat],i[o.wAp.DaysStandalone]],t);return ci(s,e)}(t,r,i)[n.getDay()];case Et.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(s){const b=function Mr(n){const t=(0,o.cg1)(n);return nn(t),(t[o.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?$s(i):[$s(i[0]),$s(i[1])])}(t),E=function li(n,t,e){const i=(0,o.cg1)(n);nn(i);const s=ci([i[o.wAp.ExtraData][0],i[o.wAp.ExtraData][1]],t)||[];return ci(s,e)||[]}(t,r,i),S=b.findIndex(O=>{if(Array.isArray(O)){const[B,z]=O,q=u>=B.hours&&h>=B.minutes,W=u<z.hours||u===z.hours&&h<z.minutes;if(B.hours<z.hours){if(q&&W)return!0}else if(q||W)return!0}else if(O.hours===u&&O.minutes===h)return!0;return!1});if(-1!==S)return E[S]}return function mr(n,t,e){const i=(0,o.cg1)(n),s=ci([i[o.wAp.DayPeriodsFormat],i[o.wAp.DayPeriodsStandalone]],t);return ci(s,e)}(t,r,i)[u<12?0:1];case Et.Eras:return function ve(n,t){return ci((0,o.cg1)(n)[o.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function qs(n){return function(t,e,i){const r=-1*i,s=rt(e,$e.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Qe.Short:return(r>=0?"+":"")+Mi(u,2,s)+Mi(Math.abs(r%60),2,s);case Qe.ShortGMT:return"GMT"+(r>=0?"+":"")+Mi(u,1,s);case Qe.Long:return"GMT"+(r>=0?"+":"")+Mi(u,2,s)+":"+Mi(Math.abs(r%60),2,s);case Qe.Extended:return 0===i?"Z":(r>=0?"+":"")+Mi(u,2,s)+":"+Mi(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const Sl=0,Or=4;function Ri(n){return Ln(n.getFullYear(),n.getMonth(),n.getDate()+(Or-n.getDay()))}function yi(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,u=e.getDate();r=1+Math.floor((u+s)/7)}else{const s=Ri(e),u=function Oo(n){const t=Ln(n,Sl,1).getDay();return Ln(n,0,1+(t<=Or?Or:Or+7)-t)}(s.getFullYear()),h=s.getTime()-u.getTime();r=1+Math.round(h/6048e5)}return Mi(r,n,rt(i,$e.MinusSign))}}function Dn(n,t=!1){return function(e,i){return Mi(Ri(e).getFullYear(),n,rt(i,$e.MinusSign),t)}}const Po={};function No(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function we(n){return n instanceof Date&&!isNaN(n.valueOf())}function Cs(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}const Al=/\s+/,$h=[];let ar=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=$h,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Al):$h}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Al):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Al).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class id{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zs=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new id(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===s?void 0:s);else if(null!==s){const h=i.get(s);i.move(h,u),qh(h,r)}});for(let r=0,s=i.length;r<s;r++){const h=i.get(r).context;h.index=r,h.count=s,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{qh(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function qh(n,t){n.context.$implicit=t.item}let Oi=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new J_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){pm("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){pm("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class J_{constructor(){this.$implicit=null,this.ngIf=null}}function pm(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}class Ac{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Xo=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Mc=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ac(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Xo,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),rd=(()=>{class n{constructor(e,i,r){r._addDefault(new Ac(e,i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Xo,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),Ml=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:u}=this;this._viewRef=i.createEmbeddedView(r,s,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[o.TTD]}),n})();function Gt(n,t){return new o.vHH(2100,!1)}const Xe=new o.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),zt=new o.OlP("DATE_PIPE_DEFAULT_OPTIONS");let In=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,s){if(null==e||""===e||e!=e)return null;try{return vn(e,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(u){throw Gt()}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.soG,16),o.Y36(Xe,24),o.Y36(zt,24))},n.\u0275pipe=o.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),ho=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw Gt();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=o.Yjl({name:"slice",type:n,pure:!1,standalone:!0}),n})(),Xn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Ta="browser";function Ws(n){return"server"===n}let Bo=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new vr((0,o.LFG)(ne),window)}),n})();class vr{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Ks(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const u=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Kr(this.window.history)||Kr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Kr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class bi{}class _d extends se{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ts extends _d{static makeCurrent(){!function ie(n){K||(K=n)}(new Ts)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ly(){return xi=xi||document.querySelector("base"),xi?xi.getAttribute("href"):null}();return null==e?null:function sf(n){ka=ka||document.createElement("a"),ka.setAttribute("href",n);const t=ka.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){xi=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Cs(document.cookie,t)}}let ka,xi=null,yd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const af=new o.OlP("EventManagerPlugins");let vd=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new o.vHH(5101,!1);return this._eventNameToPlugin.set(e,i),i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(af),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class jc{constructor(t){this._doc=t}}const bd="ng-app-id";let Oa=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ws(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${bd}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(bd),s;{const u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=i,this.platformIsServer&&u.setAttribute(bd,this.appId),u}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const s=this.styleRef,u=s.get(i)?.elements;u?u.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ne),o.LFG(o.AFp),o.LFG(o.Ojb,8),o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ss=/%COMP%/g,uf=new o.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function $l(n,t){return t.map(e=>e.replace(Ss,n))}let $c=(()=>{class n{constructor(e,i,r,s,u,h,_,b=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.doc=u,this.platformId=h,this.ngZone=_,this.nonce=b,this.rendererByCompId=new Map,this.platformIsServer=Ws(h),this.defaultRenderer=new Na(e,u,_,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===o.ifc.ShadowDom&&(i={...i,encapsulation:o.ifc.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof Bn?r.applyToHost(e):r instanceof Cd&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const u=this.doc,h=this.ngZone,_=this.eventManager,b=this.sharedStylesHost,E=this.removeStylesOnCompDestory,S=this.platformIsServer;switch(i.encapsulation){case o.ifc.Emulated:s=new Bn(_,b,i,this.appId,E,u,h,S);break;case o.ifc.ShadowDom:return new Gc(_,b,e,i,u,h,this.nonce,S);default:s=new Cd(_,b,i,E,u,h,S)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(vd),o.LFG(Oa),o.LFG(o.AFp),o.LFG(uf),o.LFG(ne),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(o.Ojb))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Na{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(wt[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(en(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(en(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new o.vHH(5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=wt[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=wt[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,i,r&o.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=N().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function en(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Gc extends Na{constructor(t,e,i,r,s,u,h,_){super(t,s,u,_),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const b=$l(r.id,r.styles);for(const E of b){const S=document.createElement("style");h&&S.setAttribute("nonce",h),S.textContent=E,this.shadowRoot.appendChild(S)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Cd extends Na{constructor(t,e,i,r,s,u,h,_){super(t,s,u,h),this.sharedStylesHost=e,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=_?$l(_,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Bn extends Cd{constructor(t,e,i,r,s,u,h,_){const b=r+"-"+i.id;super(t,e,i,s,u,h,_,b),this.contentAttr=function Pa(n){return"_ngcontent-%COMP%".replace(Ss,n)}(b),this.hostAttr=function jl(n){return"_nghost-%COMP%".replace(Ss,n)}(b)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let xm=(()=>{class n extends jc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ne))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Jr=["alt","control","meta","shift"],os={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Fa=(()=>{class n extends jc{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),u=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,s.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let u="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),u="code."),Jr.forEach(b=>{const E=i.indexOf(b);E>-1&&(i.splice(E,1),u+=b+".")}),u+=s,0!=i.length||0===s.length)return null;const _={};return _.domEventName=r,_.fullKey=u,_}static matchEventFullKeyCode(e,i){let r=os[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Jr.forEach(u=>{u!==r&&(0,Gl[u])(e)&&(s+=u+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ne))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const hf=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:Ta},{provide:o.g9A,useValue:function ss(){Ts.makeCurrent()},multi:!0},{provide:ne,useFactory:function As(){return(0,o.RDi)(document),document},deps:[]}]),Qi=new o.OlP(""),ql=[{provide:o.rWj,useClass:class Is{addToWindow(t){o.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new o.vHH(5103,!1);return s},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,u=!1;const h=function(_){u=u||_,s--,0==s&&i(u)};r.forEach(function(_){_.whenStable(h)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],Zc=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function qc(){return new o.qLn},deps:[]},{provide:af,useClass:xm,multi:!0,deps:[ne,o.R0b,o.Lbi]},{provide:af,useClass:Fa,multi:!0,deps:[ne]},$c,Oa,vd,{provide:o.FYo,useExisting:$c},{provide:bi,useClass:yd,deps:[]},[]];let Ms=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId}]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Qi,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[...Zc,...ql],imports:[Xn,o.hGG]}),n})(),Yl=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ne))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Wc(){return new Yl((0,o.LFG)(ne))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Ba=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):o.LFG(go),i},providedIn:"root"}),n})(),go=(()=>{class n extends Ba{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new o.vHH(5200,!1);case o.q3G.URL:return(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new o.vHH(5201,!1);default:throw new o.vHH(5202,!1)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ne))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Qc(n){return new go(n.get(ne))}(o.LFG(o.zs3)),i},providedIn:"root"}),n})();var ln=P(8996),On=P(9751);const{isArray:Sm}=Array,{getPrototypeOf:Xc,prototype:Jl,keys:Sd}=Object;function Ua(n){if(1===n.length){const t=n[0];if(Sm(t))return{args:t,keys:null};if(function Ad(n){return n&&"object"==typeof n&&Xc(n)===Jl}(t)){const e=Sd(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Rs=P(8421),Ha=P(3269),Sn=P(5403),Ke=P(4004);const{isArray:Xr}=Array;function za(n){return(0,Ke.U)(t=>function Xl(n,t){return Xr(t)?n(...t):n(t)}(n,t))}function ks(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function eu(...n){const t=(0,Ha.jO)(n),{args:e,keys:i}=Ua(n),r=new On.y(s=>{const{length:u}=e;if(!u)return void s.complete();const h=new Array(u);let _=u,b=u;for(let E=0;E<u;E++){let S=!1;(0,Rs.Xf)(e[E]).subscribe((0,Sn.x)(s,O=>{S||(S=!0,b--),h[E]=O},()=>_--,void 0,()=>{(!_||!S)&&(b||s.next(i?ks(i,h):h),s.complete())}))}});return t?r.pipe(za(t)):r}let ec=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),Fi=(()=>{class n extends ec{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const eo=new o.OlP("NgValueAccessor"),ja={provide:eo,useExisting:(0,o.Gpc)(()=>Br),multi:!0},tu=new o.OlP("CompositionEventMode");let Br=(()=>{class n extends ec{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function bf(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(tu,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([ja]),o.qOj]}),n})();function to(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function tc(n){return null!=n&&"number"==typeof n.length}const Ji=new o.OlP("NgValidators"),yo=new o.OlP("NgAsyncValidators"),Md=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class nu{static min(t){return Rd(t)}static max(t){return iu(t)}static required(t){return function Uo(n){return to(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function wf(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function nc(n){return to(n.value)||Md.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function ru(n){return t=>to(t.value)||!tc(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function na(n){return t=>tc(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function ou(n){if(!n)return ic;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(to(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Ho(t)}static composeAsync(t){return $a(t)}}function Rd(n){return t=>{if(to(t.value)||to(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function iu(n){return t=>{if(to(t.value)||to(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function ic(n){return null}function su(n){return null!=n}function au(n){return(0,o.QGY)(n)?(0,ln.D)(n):n}function kd(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Od(n,t){return t.map(e=>e(n))}function ia(n){return n.map(t=>function Os(n){return!n.validate}(t)?t:e=>t.validate(e))}function Ho(n){if(!n)return null;const t=n.filter(su);return 0==t.length?null:function(e){return kd(Od(e,t))}}function ra(n){return null!=n?Ho(ia(n)):null}function $a(n){if(!n)return null;const t=n.filter(su);return 0==t.length?null:function(e){return eu(Od(e,t).map(au)).pipe((0,Ke.U)(kd))}}function vo(n){return null!=n?$a(ia(n)):null}function rc(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function lu(n){return n._rawValidators}function cu(n){return n._rawAsyncValidators}function oc(n){return n?Array.isArray(n)?n:[n]:[]}function Ga(n,t){return Array.isArray(n)?n.includes(t):n===t}function Pd(n,t){const e=oc(t);return oc(n).forEach(r=>{Ga(e,r)||e.push(r)}),e}function Am(n,t){return oc(t).filter(e=>!Ga(n,e))}class Cf{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ra(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=vo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ei extends Cf{get formDirective(){return null}get path(){return null}}class as extends Cf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Mm{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let bo=(()=>{class n extends Mm{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(as,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[o.qOj]}),n})();const ze="VALID",ut="INVALID",At="PENDING",Mt="DISABLED";function Li(n){return(Vr(n)?n.validators:n)||null}function Co(n,t){return(Vr(t)?t.asyncValidators:n)||null}function Vr(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class sc{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ze}get invalid(){return this.status===ut}get pending(){return this.status==At}get disabled(){return this.status===Mt}get enabled(){return this.status!==Mt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Pd(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Pd(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Am(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Am(t,this._rawAsyncValidators))}hasValidator(t){return Ga(this._rawValidators,t)}hasAsyncValidator(t){return Ga(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=At,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Mt,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ze,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ze||this.status===At)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mt:ze}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=At,this._hasOwnPendingAsyncValidator=!0;const e=au(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?Mt:this.errors?ut:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(At)?At:this._anyControlsHaveStatus(ut)?ut:ze}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Vr(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function wi(n){return Array.isArray(n)?ra(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Nd(n){return Array.isArray(n)?vo(n):n||null}(this._rawAsyncValidators)}}class Za extends sc{constructor(t,e,i){super(Li(e),Co(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function xo(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new o.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function no(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new o.vHH(1e3,"");if(!i[e])throw new o.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Eo=new o.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Fd}),Fd="always";function hu(n,t,e=Fd){Nm(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function Tf(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Ya(n,t)})}(n,t),function uy(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function O0(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Ya(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function k0(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Df(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Ld(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Pm(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Nm(n,t){const e=lu(n);null!==t.validator?n.setValidators(rc(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=cu(n);null!==t.asyncValidator?n.setAsyncValidators(rc(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Pm(t._rawValidators,r),Pm(t._rawAsyncValidators,r)}function Ld(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=lu(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=cu(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Pm(t._rawValidators,i),Pm(t._rawAsyncValidators,i),e}function Ya(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function P0(n,t){Nm(n,t)}function Vm(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const qE={provide:Ei,useExisting:(0,o.Gpc)(()=>oa)},Bd=(()=>Promise.resolve())();let oa=(()=>{class n extends Ei{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new Za({},ra(e),vo(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Bd.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),hu(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Bd.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Bd.then(()=>{const i=this._findContainer(e.path),r=new Za({});P0(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Bd.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Bd.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Vm(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ji,10),o.Y36(yo,10),o.Y36(Eo,8))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([qE]),o.qOj]}),n})();function fu(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Um(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Hm=class extends sc{constructor(t=null,e,i){super(Li(e),Co(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vr(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Um(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){fu(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){fu(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Um(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},py={provide:as,useExisting:(0,o.Gpc)(()=>Ka)},Sf=(()=>Promise.resolve())();let Ka=(()=>{class n extends as{constructor(e,i,r,s,u,h){super(),this._changeDetectorRef=u,this.callSetDisabledState=h,this.control=new Hm,this._registered=!1,this.name="",this.update=new o.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function fy(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Br?e=s:function Bm(n){return Object.getPrototypeOf(n.constructor)===Fi}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function hy(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){hu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Sf.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,o.D6c)(i);Sf.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function Ef(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ei,9),o.Y36(Ji,10),o.Y36(yo,10),o.Y36(eo,10),o.Y36(o.sBO,8),o.Y36(Eo,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([py]),o.qOj,o.TTD]}),n})();const Vd={provide:eo,useExisting:(0,o.Gpc)(()=>Qa),multi:!0};let Qa=(()=>{class n extends Fi{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[o._Bn([Vd]),o.qOj]}),n})(),Ur=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Km={provide:Ei,useExisting:(0,o.Gpc)(()=>mu)};let mu=(()=>{class n extends Ei{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ld(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return hu(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Df(e.control||null,e,!1),function GE(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,Vm(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Df(i||null,e),(n=>n instanceof Hm)(r)&&(hu(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);P0(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function If(n,t){return Ld(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Nm(this.form,this),this._oldForm&&Ld(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ji,10),o.Y36(yo,10),o.Y36(Eo,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([Km]),o.qOj,o.TTD]}),n})();function To(n){return"number"==typeof n?n:parseFloat(n)}let ls=(()=>{class n{constructor(){this._validator=ic}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):ic,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();const yy={provide:Ji,useExisting:(0,o.Gpc)(()=>Bf),multi:!0};let Bf=(()=>{class n extends ls{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>To(e),this.createValidator=e=>iu(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[o._Bn([yy]),o.qOj]}),n})();const V0={provide:Ji,useExisting:(0,o.Gpc)(()=>gu),multi:!0};let gu=(()=>{class n extends ls{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>To(e),this.createValidator=e=>Rd(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[o._Bn([V0]),o.qOj]}),n})(),ct=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Ur]}),n})(),aa=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Eo,useValue:e.callSetDisabledState??Fd}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[ct]}),n})();var er=P(2011),ac=P(4986),st=P(9646),Zn=P(4976),_u=P(8189);function by(...n){return function fM(){return(0,_u.J)(1)}()((0,ln.D)(n,(0,Ha.yG)(n)))}var Hr=P(4482);function Ns(...n){const t=(0,Ha.yG)(n);return(0,Hr.e)((e,i)=>{(t?by(n,e,t):by(n,e)).subscribe(i)})}function wy(){return(0,Hr.e)((n,t)=>{let e,i=!1;n.subscribe((0,Sn.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}function zf(n,t){return(0,Hr.e)(function Cy(n,t,e,i,r){return(s,u)=>{let h=e,_=t,b=0;s.subscribe((0,Sn.x)(u,E=>{const S=b++;_=h?n(_,E,S):(h=!0,E),i&&u.next(_)},r&&(()=>{h&&u.next(_),u.complete()})))}}(n,t,arguments.length>=2,!0))}var lc=P(1884);function Vn(n,t){return(0,Hr.e)((e,i)=>{let r=0;e.subscribe((0,Sn.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}P(2644);var it,pM=P(3942),ge=P(5861),us=P(6881),jf=P(4859),Fs=P(1877),qt=P(2090),H0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ls={},xy=xy||{},Ft=H0||self;function Ey(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function rg(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var z0="closure_uid_"+(1e9*Math.random()>>>0),gM=0;function cc(n,t,e){return n.call.apply(n.bind,arguments)}function $f(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function io(n,t,e){return(io=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cc:$f).apply(null,arguments)}function Dy(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function wr(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function yu(){this.s=this.s,this.o=this.o}yu.prototype.s=!1,yu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function mM(n){Object.prototype.hasOwnProperty.call(n,z0)&&n[z0]||(n[z0]=++gM)}(this)},yu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const WE=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function Ty(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function KE(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(Ey(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let u=0;u<s;u++)n[r+u]=i[u]}else n.push(i)}}function ro(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}ro.prototype.h=function(){this.defaultPrevented=!0};var yM=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ft.addEventListener("test",()=>{},t),Ft.removeEventListener("test",()=>{},t)}catch{}return n}();function og(n){return/^[\s\xa0]*$/.test(n)}function zd(){var n=Ft.navigator;return n&&(n=n.userAgent)?n:""}function Cr(n){return-1!=zd().indexOf(n)}function jd(n){return jd[" "](n),n}jd[" "]=function(){};var eD,n,JE=Cr("Opera"),$d=Cr("Trident")||Cr("MSIE"),vM=Cr("Edge"),XE=vM||$d,bM=Cr("Gecko")&&!(-1!=zd().toLowerCase().indexOf("webkit")&&!Cr("Edge"))&&!(Cr("Trident")||Cr("MSIE"))&&!Cr("Edge"),j0=-1!=zd().toLowerCase().indexOf("webkit")&&!Cr("Edge");function Iy(){var n=Ft.document;return n?n.documentMode:void 0}e:{var tD="",Sy=(n=zd(),bM?/rv:([^\);]+)(\)|;)/.exec(n):vM?/Edge\/([\d\.]+)/.exec(n):$d?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):j0?/WebKit\/(\S+)/.exec(n):JE?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Sy&&(tD=Sy?Sy[1]:""),$d){var $0=Iy();if(null!=$0&&$0>parseFloat(tD)){eD=String($0);break e}}eD=tD}var wM=Ft.document&&$d&&(Iy()||parseInt(eD,10))||void 0;function Gf(n,t){if(ro.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(bM){e:{try{jd(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Ay[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Gf.$.h.call(this)}}wr(Gf,ro);var Ay={2:"touch",3:"pen",4:"mouse"};Gf.prototype.h=function(){Gf.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var qf="closure_listenable_"+(1e6*Math.random()|0),q0=0;function CM(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++q0,this.fa=this.ia=!1}function pi(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Z0(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function My(n){const t={};for(const e in n)t[e]=n[e];return t}const Y0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iD(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<Y0.length;s++)e=Y0[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Ry(n){this.src=n,this.g={},this.h=0}function W0(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=WE(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(pi(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function K0(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}Ry.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=K0(n,t,i,r);return-1<u?(t=n[u],e||(t.ia=!1)):((t=new CM(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var ky="closure_lm_"+(1e6*Math.random()|0),rD={};function EM(n,t,e,i,r){if(i&&i.once)return Yf(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)EM(n,t[s],e,i,r);return null}return e=Ny(e),n&&n[qf]?n.O(t,e,rg(i)?!!i.capture:!!i,r):Zf(n,t,e,!1,i,r)}function Zf(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var u=rg(r)?!!r.capture:!!r,h=ew(n);if(h||(n[ky]=h=new Ry(n)),(e=h.add(t,e,i,u,s)).proxy)return e;if(i=function Cn(){const t=X0;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)yM||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(J0(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function Yf(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Yf(n,t[s],e,i,r);return null}return e=Ny(e),n&&n[qf]?n.P(t,e,rg(i)?!!i.capture:!!i,r):Zf(n,t,e,!0,i,r)}function Q0(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q0(n,t[s],e,i,r);else i=rg(i)?!!i.capture:!!i,e=Ny(e),n&&n[qf]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=K0(s=n.g[t],e,i,r))&&(pi(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=ew(n))&&(t=n.g[t.toString()],n=-1,t&&(n=K0(t,e,i,r)),(e=-1<n?t[n]:null)&&Oy(e))}function Oy(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[qf])W0(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(J0(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=ew(t))?(W0(e,n),0==e.h&&(e.src=null,t[ky]=null)):pi(n)}}}function J0(n){return n in rD?rD[n]:rD[n]="on"+n}function X0(n,t){if(n.fa)n=!0;else{t=new Gf(t,this);var e=n.listener,i=n.la||n.src;n.ia&&Oy(n),n=e.call(i,t)}return n}function ew(n){return(n=n[ky])instanceof Ry?n:null}var Py="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ny(n){return"function"==typeof n?n:(n[Py]||(n[Py]=function(t){return n.handleEvent(t)}),n[Py])}function tr(){yu.call(this),this.i=new Ry(this),this.S=this,this.J=null}function oo(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new ro(t,n);else if(t instanceof ro)t.target=t.target||n;else{var r=t;iD(t=new ro(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var u=t.g=e[s];r=Wf(u,i,!0,t)&&r}if(r=Wf(u=t.g=n,i,!0,t)&&r,r=Wf(u,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=Wf(u=t.g=e[s],i,!1,t)&&r}function Wf(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.fa&&u.capture==e){var h=u.listener,_=u.la||u.src;u.ia&&W0(n.i,u),r=!1!==h.call(_,i)&&r}}return r&&!i.defaultPrevented}wr(tr,yu),tr.prototype[qf]=!0,tr.prototype.removeEventListener=function(n,t,e,i){Q0(this,n,t,e,i)},tr.prototype.N=function(){if(tr.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)pi(e[i]);delete n.g[t],n.h--}}this.J=null},tr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},tr.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var tw=Ft.JSON.stringify;function oD(){var n=Kf;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var vu=new class nw{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new DM,n=>n.reset());class DM{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function iw(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function Fy(n){Ft.setTimeout(()=>{throw n},0)}let sg,Gd=!1,Kf=new class sD{constructor(){this.h=this.g=null}add(t,e){const i=vu.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},bu=()=>{const n=Ft.Promise.resolve(void 0);sg=()=>{n.then(rw)}};var rw=()=>{for(var n;n=oD();){try{n.h.call(n.g)}catch(e){Fy(e)}var t=vu;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Gd=!1};function Qf(n,t){tr.call(this),this.h=n||1,this.g=t||Ft,this.j=io(this.qb,this),this.l=Date.now()}function ow(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function sw(n,t,e){if("function"==typeof n)e&&(n=io(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=io(n.handleEvent,n)}return 2147483647<Number(t)?-1:Ft.setTimeout(n,t||0)}function aw(n){n.g=sw(()=>{n.g=null,n.i&&(n.i=!1,aw(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}wr(Qf,tr),(it=Qf.prototype).ga=!1,it.T=null,it.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),oo(this,"tick"),this.ga&&(ow(this),this.start()))}},it.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},it.N=function(){Qf.$.N.call(this),ow(this),delete this.g};class Jf extends yu{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:aw(this)}N(){super.N(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ag(n){yu.call(this),this.h=n,this.g={}}wr(ag,yu);var aD=[];function lD(n,t,e,i){Array.isArray(e)||(e&&(aD[0]=e.toString()),e=aD);for(var r=0;r<e.length;r++){var s=EM(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Ly(n){Z0(n.g,function(t,e){this.g.hasOwnProperty(e)&&Oy(t)},n),n.g={}}function lg(){this.g=!0}function wu(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function IM(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<r.length;u++)r[u]=""}}}return tw(e)}catch{return t}}(n,e)+(i?" "+i:"")})}ag.prototype.N=function(){ag.$.N.call(this),Ly(this)},ag.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},lg.prototype.Ea=function(){this.g=!1},lg.prototype.info=function(){};var qd={},uD=null;function lw(){return uD=uD||new tr}function SM(n){ro.call(this,qd.Ta,n)}function Cu(n){const t=lw();oo(t,new SM(t))}function dD(n,t){ro.call(this,qd.STAT_EVENT,n),this.stat=t}function zr(n){const t=lw();oo(t,new dD(t,n))}function By(n,t){ro.call(this,qd.Ua,n),this.size=t}function uc(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){n()},t)}qd.Ta="serverreachability",wr(SM,ro),qd.STAT_EVENT="statevent",wr(dD,ro),qd.Ua="timingevent",wr(By,ro);var Xf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Vy={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Zd(){}function ep(){}Zd.prototype.h=null;var hD,tp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ug(){ro.call(this,"d")}function np(){ro.call(this,"c")}function ip(){}function Yd(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new ag(this),this.P=AM,this.V=new Qf(n=XE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new cw}function cw(){this.i=null,this.g="",this.h=!1}wr(ug,ro),wr(np,ro),wr(ip,Zd),ip.prototype.g=function(){return new XMLHttpRequest},ip.prototype.i=function(){return{}},hD=new ip;var AM=45e3,uw={},dg={};function Uy(n,t,e){n.L=1,n.v=hg(ds(t)),n.s=e,n.S=!0,fD(n,null)}function fD(n,t){n.G=Date.now(),Wd(n),n.A=ds(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),pw(e.i,"t",i),n.C=0,e=n.l.J,n.h=new cw,n.g=kD(n.l,e?t:null,!n.s),0<n.O&&(n.M=new Jf(io(n.Pa,n,n.g),n.O)),lD(n.U,n.g,"readystatechange",n.nb),t=n.I?My(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Cu(),function TM(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var u="",h=s.split("&"),_=0;_<h.length;_++){var b=h[_].split("=");if(1<b.length){var E=b[0];b=b[1];var S=E.split("_");u=2<=S.length&&"type"==S[1]?u+(E+"=")+b+"&":u+(E+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function pD(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function MM(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=RM(n,e),r==dg){4==t&&(n.o=4,zr(14),i=!1),wu(n.j,n.m,null,"[Incomplete Response]");break}if(r==uw){n.o=4,zr(15),wu(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}wu(n.j,n.m,r,null),op(n,r)}pD(n)&&r!=dg&&r!=uw&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,zr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),Cg(t),t.M=!0,zr(11))):(wu(n.j,n.m,e,"[Invalid Chunked Response]"),dc(n),rp(n))}function RM(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?dg:(e=Number(t.substring(e,i)),isNaN(e)?uw:(i+=1)+e>t.length?dg:(t=t.slice(i,i+e),n.C=i+e,t))}function Wd(n){n.Y=Date.now()+n.P,Hy(n,n.P)}function Hy(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=uc(io(n.lb,n),t)}function zy(n){n.B&&(Ft.clearTimeout(n.B),n.B=null)}function rp(n){0==n.l.H||n.J||AD(n.l,n)}function dc(n){zy(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,ow(n.V),Ly(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function op(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||Gy(e.i,n)))if(!n.K&&Gy(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;hp(e),bg(e)}wg(e),zr(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=uc(io(e.ib,e),6e3));if(1>=wD(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else eh(e,11)}else if((n.K||e.g==n)&&hp(e),!og(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let b=r[t];if(e.V=b[0],b=b[1],2==e.H)if("c"==b[0]){e.K=b[1],e.pa=b[2];const E=b[3];null!=E&&(e.ra=E,e.l.info("VER="+e.ra));const S=b[4];null!=S&&(e.Ga=S,e.l.info("SVER="+e.Ga));const O=b[5];null!=O&&"number"==typeof O&&0<O&&(e.L=i=1.5*O,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const B=n.g;if(B){const z=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(z){var s=i.i;s.g||-1==z.indexOf("spdy")&&-1==z.indexOf("quic")&&-1==z.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(xu(s,s.h),s.h=null))}if(i.F){const q=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;q&&(i.Da=q,ri(i.I,i.F,q))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var u=n;if((i=e).wa=RD(i,i.J?i.pa:null,i.Y),u.K){nl(i.i,u);var h=u,_=i.L;_&&h.setTimeout(_),h.B&&(zy(h),Wd(h)),i.g=u}else Wy(i);0<e.j.length&&Xd(e)}else"stop"!=b[0]&&"close"!=b[0]||eh(e,7);else 3==e.H&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?eh(e,7):Eu(e):"noop"!=b[0]&&e.h&&e.h.Aa(b),e.A=0)}Cu()}catch{}}function gD(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Ey(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function mD(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Ey(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function kM(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Ey(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(it=Yd.prototype).setTimeout=function(n){this.P=n},it.nb=function(n){n=n.target;const t=this.M;t&&3==la(n)?t.l():this.Pa(n)},it.Pa=function(n){try{if(n==this.g)e:{const E=la(this.g);var t=this.g.Ia();if(this.g.da(),!(3>E)&&(3!=E||XE||this.g&&(this.h.h||this.g.ja()||ID(this.g)))){this.J||4!=E||7==t||Cu(),zy(this);var e=this.g.da();this.ca=e;t:if(pD(this)){var i=ID(this.g);n="";var r=i.length,s=4==la(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){dc(this),rp(this);var u="";break t}this.h.i=new Ft.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==e,function cD(n,t,e,i,r,s,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.W,E,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,_=this.g;if((h=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!og(h)){var b=h;break t}}b=null}if(!(e=b)){this.i=!1,this.o=3,zr(12),dc(this),rp(this);break e}wu(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,op(this,e)}this.S?(MM(this,E,u),XE&&this.i&&3==E&&(lD(this.U,this.V,"tick",this.mb),this.V.start())):(wu(this.j,this.m,u,null),op(this,u)),4==E&&dc(this),this.i&&!this.J&&(4==E?AD(this.l,this):(this.i=!1,Wd(this)))}else(function VM(n){const t={};n=(n.g&&2<=la(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(og(n[i]))continue;var e=iw(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function xM(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<u.indexOf("Unknown SID")?(this.o=3,zr(12)):(this.o=0,zr(13)),dc(this),rp(this)}}}catch{}},it.mb=function(){if(this.g){var n=la(this.g),t=this.g.ja();this.C<t.length&&(zy(this),MM(this,n,t),this.i&&4!=n&&Wd(this))}},it.cancel=function(){this.J=!0,dc(this)},it.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function pP(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Cu(),zr(17)),dc(this),this.o=2,rp(this)):Hy(this,this.Y-n)};var dw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kd(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Kd){this.h=n.h,jy(this,n.j),this.s=n.s,this.g=n.g,hc(this,n.m),this.l=n.l;var t=n.i,e=new $y;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),sp(this,e),this.o=n.o}else n&&(t=String(n).match(dw))?(this.h=!1,jy(this,t[1]||"",!0),this.s=fg(t[2]||""),this.g=fg(t[3]||"",!0),hc(this,t[4]),this.l=fg(t[5]||"",!0),sp(this,t[6]||"",!0),this.o=fg(t[7]||"")):(this.h=!1,this.i=new $y(null,this.h))}function ds(n){return new Kd(n)}function jy(n,t,e){n.j=e?fg(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function hc(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function sp(n,t,e){t instanceof $y?(n.i=t,function PM(n,t){t&&!n.j&&(tl(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(Qd(this,i),pw(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=pg(t,mg)),n.i=new $y(t,n.h))}function ri(n,t,e){n.i.set(t,e)}function hg(n){return ri(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function fg(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function pg(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,OM),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function OM(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Kd.prototype.toString=function(){var n=[],t=this.j;t&&n.push(pg(t,hw,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(pg(t,hw,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(pg(e,"/"==e.charAt(0)?fw:_D,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",pg(e,yD)),n.join("")};var hw=/[#\/\?@]/g,_D=/[#\?:]/g,fw=/[#\?]/g,mg=/[#\?@]/g,yD=/#/g;function $y(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function tl(n){n.g||(n.g=new Map,n.h=0,n.i&&function mP(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Qd(n,t){tl(n),t=Jd(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function gg(n,t){return tl(n),t=Jd(n,t),n.g.has(t)}function pw(n,t,e){Qd(n,t),0<e.length&&(n.i=null,n.g.set(Jd(n,t),Ty(e)),n.h+=e.length)}function Jd(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function vD(n){this.l=n||FM,n=Ft.PerformanceNavigationTiming?0<(n=Ft.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ka&&Ft.g.Ka()&&Ft.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(it=$y.prototype).add=function(n,t){tl(this),this.i=null,n=Jd(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},it.forEach=function(n,t){tl(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},it.ta=function(){tl(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},it.Z=function(n){tl(this);let t=[];if("string"==typeof n)gg(this,n)&&(t=t.concat(this.g.get(Jd(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},it.set=function(n,t){return tl(this),this.i=null,gg(this,n=Jd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},it.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},it.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),u=this.Z(i);for(i=0;i<u.length;i++){var r=s;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var FM=10;function bD(n){return!!n.h||!!n.g&&n.g.size>=n.j}function wD(n){return n.h?1:n.g?n.g.size:0}function Gy(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function xu(n,t){n.g?n.g.add(t):n.h=t}function nl(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function mw(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return Ty(n.i)}vD.prototype.cancel=function(){if(this.i=mw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var gP=class{stringify(n){return Ft.JSON.stringify(n,void 0)}parse(n){return Ft.JSON.parse(n,void 0)}};function LM(){this.g=new gP}function _P(n,t,e){const i=e||"";try{gD(n,function(r,s){let u=r;rg(r)&&(u=tw(r)),t.push(i+s+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function _g(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function ap(n){this.l=n.fc||null,this.j=n.ob||!1}function gw(n,t){tr.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=qy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wr(ap,Zd),ap.prototype.g=function(){return new gw(this.l,this.j)},ap.prototype.i=function(n){return function(){return n}}({}),wr(gw,tr);var qy=0;function yg(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function lp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,cp(n)}function cp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(it=gw.prototype).open=function(n,t){if(this.readyState!=qy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,cp(this)},it.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Ft).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},it.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lp(this)),this.readyState=qy},it.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,cp(this)),this.g&&(this.readyState=3,cp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ft.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yg(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},it.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?lp(this):cp(this),3==this.readyState&&yg(this)}},it.Za=function(n){this.g&&(this.response=this.responseText=n,lp(this))},it.Ya=function(n){this.g&&(this.response=n,lp(this))},it.ka=function(){this.g&&lp(this)},it.setRequestHeader=function(n,t){this.v.append(n,t)},it.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},it.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(gw.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var CD=Ft.JSON.parse;function ft(n){tr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=_w,this.L=this.M=!1}wr(ft,tr);var _w="",xD=/^https?$/i,vP=["POST","PUT"];function yw(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,ED(n),vg(n)}function ED(n){n.F||(n.F=!0,oo(n,"complete"),oo(n,"error"))}function DD(n){if(n.h&&typeof xy<"u"&&(!n.C[1]||4!=la(n)||2!=n.da()))if(n.v&&4==la(n))sw(n.La,0,n);else if(oo(n,"readystatechange"),4==la(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===u){var r=String(n.I).match(dw)[1]||null;!r&&Ft.self&&Ft.self.location&&(r=Ft.self.location.protocol.slice(0,-1)),i=!xD.test(r?r.toLowerCase():"")}e=i}if(e)oo(n,"complete"),oo(n,"success");else{n.m=6;try{var s=2<la(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",ED(n)}}finally{vg(n)}}}function vg(n,t){if(n.g){TD(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||oo(n,"ready");try{e.onreadystatechange=i}catch{}}}function TD(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ft.clearTimeout(n.A),n.A=null)}function la(n){return n.g?n.g.readyState:0}function ID(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case _w:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function UM(n){let t="";return Z0(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function Zy(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=UM(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):ri(n,t,e))}function up(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function fc(n){this.Ga=0,this.j=[],this.l=new lg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=up("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=up("baseRetryDelayMs",5e3,n),this.hb=up("retryDelaySeedMs",1e4,n),this.eb=up("forwardChannelMaxRetries",2,n),this.xa=up("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new vD(n&&n.concurrentRequestLimit),this.Ja=new LM,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Eu(n){if(SD(n),3==n.H){var t=n.W++,e=ds(n.I);if(ri(e,"SID",n.K),ri(e,"RID",t),ri(e,"TYPE","terminate"),pc(n,e),(t=new Yd(n,n.l,t)).L=2,t.v=hg(ds(e)),e=!1,Ft.navigator&&Ft.navigator.sendBeacon)try{e=Ft.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&Ft.Image&&((new Image).src=t.v,e=!0),e||(t.g=kD(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Wd(t)}ww(n)}function bg(n){n.g&&(Cg(n),n.g.cancel(),n.g=null)}function SD(n){bg(n),n.u&&(Ft.clearTimeout(n.u),n.u=null),hp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ft.clearTimeout(n.m),n.m=null)}function Xd(n){if(!bD(n.i)&&!n.m){n.m=!0;var t=n.Na;sg||bu(),Gd||(sg(),Gd=!0),Kf.add(t,n),n.C=0}}function Yy(n,t){var e;e=t?t.m:n.W++;const i=ds(n.I);ri(i,"SID",n.K),ri(i,"RID",e),ri(i,"AID",n.V),pc(n,i),n.o&&n.s&&Zy(i,n.o,n.s),e=new Yd(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=vw(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),xu(n.i,e),Uy(e,i,t)}function pc(n,t){n.na&&Z0(n.na,function(e,i){ri(t,i,e)}),n.h&&gD({},function(e,i){ri(t,i,e)})}function vw(n,t,e){e=Math.min(n.j.length,e);var i=n.h?io(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const u=["count="+e];-1==s?0<e?(s=r[0].g,u.push("ofs="+s)):s=0:u.push("ofs="+s);let h=!0;for(let _=0;_<e;_++){let b=r[_].g;const E=r[_].map;if(b-=s,0>b)s=Math.max(0,r[_].g-100),h=!1;else try{_P(E,u,"req"+b+"_")}catch{i&&i(E)}}if(h){i=u.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function Wy(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;sg||bu(),Gd||(sg(),Gd=!0),Kf.add(t,n),n.A=0}}function wg(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=uc(io(n.Ma,n),MD(n,n.A)),n.A++,0))}function Cg(n){null!=n.B&&(Ft.clearTimeout(n.B),n.B=null)}function bw(n){n.g=new Yd(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=ds(n.wa);ri(t,"RID","rpc"),ri(t,"SID",n.K),ri(t,"AID",n.V),ri(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&ri(t,"TO",n.qa),ri(t,"TYPE","xmlhttp"),pc(n,t),n.o&&n.s&&Zy(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=hg(ds(t)),e.s=null,e.S=!0,fD(e,n)}function hp(n){null!=n.v&&(Ft.clearTimeout(n.v),n.v=null)}function AD(n,t){var e=null;if(n.g==t){hp(n),Cg(n),n.g=null;var i=2}else{if(!Gy(n.i,t))return;e=t.F,nl(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;oo(i=lw(),new By(i,e)),Xd(n)}else Wy(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function dp(n,t){return!(wD(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=uc(io(n.Na,n,t),MD(n,n.C)),n.C++,0)))}(n,t)||2==i&&wg(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:eh(n,5);break;case 4:eh(n,10);break;case 3:eh(n,6);break;default:eh(n,2)}}function MD(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function eh(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=io(n.pb,n);e||(e=new Kd("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||jy(e,"https"),hg(e)),function yP(n,t){const e=new lg;if(Ft.Image){const i=new Image;i.onload=Dy(_g,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Dy(_g,e,i,"TestLoadImage: error",!1,t),i.onabort=Dy(_g,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Dy(_g,e,i,"TestLoadImage: timeout",!1,t),Ft.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else zr(2);n.H=0,n.h&&n.h.za(t),ww(n),SD(n)}function ww(n){if(n.H=0,n.ma=[],n.h){const t=mw(n.i);(0!=t.length||0!=n.j.length)&&(KE(n.ma,t),KE(n.ma,n.j),n.i.i.length=0,Ty(n.j),n.j.length=0),n.h.ya()}}function RD(n,t,e){var i=e instanceof Kd?ds(e):new Kd(e);if(""!=i.g)t&&(i.g=t+"."+i.g),hc(i,i.m);else{var r=Ft.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Kd(null);i&&jy(s,i),t&&(s.g=t),r&&hc(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&ri(i,e,t),ri(i,"VER",n.ra),pc(n,i),i}function kD(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ft(e&&n.Ha&&!n.va?new ap({ob:!0}):n.va)).Oa(n.J),t}function OD(){}function Ky(){if($d&&!(10<=Number(wM)))throw Error("Environmental error: no available transport.")}function jo(n,t){tr.call(this),this.g=new fc(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!og(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!og(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new fp(this)}function Cw(n){ug.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function PD(){np.call(this),this.status=1}function fp(n){this.g=n}function ca(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function xw(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],u=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;u=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(u<<7&4294967295|u>>>25))+((u=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((s=(t=e+((u=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((r=s+((u=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Fn(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(it=ft.prototype).Oa=function(n){this.M=n},it.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():hD.g(),this.C=function cg(n){return n.h||(n.h=n.i())}(this.u?this.u:hD),this.g.onreadystatechange=io(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void yw(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=Ft.FormData&&n instanceof Ft.FormData,!(0<=WE(vP,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,u]of e)this.g.setRequestHeader(s,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{TD(this),0<this.B&&((this.L=function BM(n){return $d&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=io(this.ua,this)):this.A=sw(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){yw(this,s)}},it.ua=function(){typeof xy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,oo(this,"timeout"),this.abort(8))},it.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,oo(this,"complete"),oo(this,"abort"),vg(this))},it.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vg(this,!0)),ft.$.N.call(this)},it.La=function(){this.s||(this.G||this.v||this.l?DD(this):this.kb())},it.kb=function(){DD(this)},it.isActive=function(){return!!this.g},it.da=function(){try{return 2<la(this)?this.g.status:-1}catch{return-1}},it.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},it.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),CD(t)}},it.Ia=function(){return this.m},it.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(it=fc.prototype).ra=8,it.H=1,it.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Yd(this,this.l,n);let s=this.s;if(this.U&&(s?(s=My(s),iD(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=vw(this,r,t),ri(e=ds(this.I),"RID",n),ri(e,"CVER",22),this.F&&ri(e,"X-HTTP-Session-Id",this.F),pc(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(UM(s)))+"&"+t:this.o&&Zy(e,this.o,s)),xu(this.i,r),this.bb&&ri(e,"TYPE","init"),this.P?(ri(e,"$req",t),ri(e,"SID","null"),r.aa=!0,Uy(r,e,null)):Uy(r,e,t),this.H=2}}else 3==this.H&&(n?Yy(this,n):0==this.j.length||bD(this.i)||Yy(this))},it.Ma=function(){if(this.u=null,bw(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=uc(io(this.jb,this),n)}},it.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,zr(10),bg(this),bw(this))},it.ib=function(){null!=this.v&&(this.v=null,bg(this),wg(this),zr(19))},it.pb=function(n){n?(this.l.info("Successfully pinged google.com"),zr(2)):(this.l.info("Failed to ping google.com"),zr(1))},it.isActive=function(){return!!this.h&&this.h.isActive(this)},(it=OD.prototype).Ba=function(){},it.Aa=function(){},it.za=function(){},it.ya=function(){},it.isActive=function(){return!0},it.Va=function(){},Ky.prototype.g=function(n,t){return new jo(n,t)},wr(jo,tr),jo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;zr(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=RD(n,null,n.Y),Xd(n)},jo.prototype.close=function(){Eu(this.g)},jo.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=tw(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&Xd(t)},jo.prototype.N=function(){this.g.h=null,delete this.j,Eu(this.g),delete this.g,jo.$.N.call(this)},wr(Cw,ug),wr(PD,np),wr(fp,OD),fp.prototype.Ba=function(){oo(this.g,"a")},fp.prototype.Aa=function(n){oo(this.g,new Cw(n))},fp.prototype.za=function(n){oo(this.g,new PD)},fp.prototype.ya=function(){oo(this.g,"b")},wr(ca,function hs(){this.blockSize=-1}),ca.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ca.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)xw(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){xw(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){xw(this,i),r=0;break}}this.h=r,this.i+=t},ca.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var Ew={};function Qy(n){return-128<=n&&128>n?function QE(n,t){var e=Ew;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Fn([0|t],0>t?-1:0)}):new Fn([0|n],0>n?-1:0)}function il(n){if(isNaN(n)||!isFinite(n))return th;if(0>n)return jr(il(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=Dw;return new Fn(t,0)}var Dw=4294967296,th=Qy(0),Tw=Qy(1),FD=Qy(16777216);function ua(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Bs(n){return-1==n.h}function jr(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Fn(e,~n.h).add(Tw)}function Jy(n,t){return n.add(jr(t))}function Xy(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function xg(n,t){this.g=n,this.h=t}function fs(n,t){if(ua(t))throw Error("division by zero");if(ua(n))return new xg(th,th);if(Bs(n))return t=fs(jr(n),t),new xg(jr(t.g),jr(t.h));if(Bs(t))return t=fs(n,jr(t)),new xg(jr(t.g),t.h);if(30<n.g.length){if(Bs(n)||Bs(t))throw Error("slowDivide_ only works with positive integers.");for(var e=Tw,i=t;0>=i.X(n);)e=ev(e),i=ev(i);var r=pp(e,1),s=pp(i,1);for(i=pp(i,2),e=pp(e,2);!ua(i);){var u=s.add(i);0>=u.X(n)&&(r=r.add(e),s=u),i=pp(i,1),e=pp(e,1)}return t=Jy(n,r.R(t)),new xg(r,t)}for(r=th;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),u=(s=il(e)).R(t);Bs(u)||0<u.X(n);)u=(s=il(e-=i)).R(t);ua(s)&&(s=Tw),r=r.add(s),n=Jy(n,u)}return new xg(r,n)}function ev(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Fn(e,n.h)}function pp(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new Fn(r,n.h)}(it=Fn.prototype).ea=function(){if(Bs(this))return-jr(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:Dw+i)*t,t*=Dw}return n},it.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ua(this))return"0";if(Bs(this))return"-"+jr(this).toString(n);for(var t=il(Math.pow(n,6)),e=this,i="";;){var r=fs(e,t).g,s=((0<(e=Jy(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(ua(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},it.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},it.X=function(n){return Bs(n=Jy(this,n))?-1:ua(n)?0:1},it.abs=function(){return Bs(this)?jr(this):this},it.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),u=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=u>>>16,e[r]=(u&=65535)<<16|(s&=65535)}return new Fn(e,-2147483648&e[e.length-1]?-1:0)},it.R=function(n){if(ua(this)||ua(n))return th;if(Bs(this))return Bs(n)?jr(this).R(jr(n)):jr(jr(this).R(n));if(Bs(n))return jr(this.R(jr(n)));if(0>this.X(FD)&&0>n.X(FD))return il(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,u=65535&this.D(i),h=n.D(r)>>>16,_=65535&n.D(r);e[2*i+2*r]+=u*_,Xy(e,2*i+2*r),e[2*i+2*r+1]+=s*_,Xy(e,2*i+2*r+1),e[2*i+2*r+1]+=u*h,Xy(e,2*i+2*r+1),e[2*i+2*r+2]+=s*h,Xy(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Fn(e,0)},it.gb=function(n){return fs(this,n).h},it.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Fn(e,this.h&n.h)},it.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Fn(e,this.h|n.h)},it.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Fn(e,this.h^n.h)},Ky.prototype.createWebChannel=Ky.prototype.g,jo.prototype.send=jo.prototype.u,jo.prototype.open=jo.prototype.m,jo.prototype.close=jo.prototype.close,Xf.NO_ERROR=0,Xf.TIMEOUT=8,Xf.HTTP_ERROR=6,Vy.COMPLETE="complete",ep.EventType=tp,tp.OPEN="a",tp.CLOSE="b",tp.ERROR="c",tp.MESSAGE="d",tr.prototype.listen=tr.prototype.O,ft.prototype.listenOnce=ft.prototype.P,ft.prototype.getLastError=ft.prototype.Sa,ft.prototype.getLastErrorCode=ft.prototype.Ia,ft.prototype.getStatus=ft.prototype.da,ft.prototype.getResponseJson=ft.prototype.Wa,ft.prototype.getResponseText=ft.prototype.ja,ft.prototype.send=ft.prototype.ha,ft.prototype.setWithCredentials=ft.prototype.Oa,ca.prototype.digest=ca.prototype.l,ca.prototype.reset=ca.prototype.reset,ca.prototype.update=ca.prototype.j,Fn.prototype.add=Fn.prototype.add,Fn.prototype.multiply=Fn.prototype.R,Fn.prototype.modulo=Fn.prototype.gb,Fn.prototype.compare=Fn.prototype.X,Fn.prototype.toNumber=Fn.prototype.ea,Fn.prototype.toString=Fn.prototype.toString,Fn.prototype.getBits=Fn.prototype.D,Fn.fromNumber=il,Fn.fromString=function ND(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return jr(ND(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=il(Math.pow(t,8)),i=th,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),u=parseInt(n.substring(r,r+s),t);8>s?(s=il(Math.pow(t,s)),i=i.R(s).add(il(u))):i=(i=i.R(e)).add(il(u))}return i};var LD=Ls.createWebChannelTransport=function(){return new Ky},HM=Ls.getStatEventTarget=function(){return lw()},tv=Ls.ErrorCode=Xf,BD=Ls.EventType=Vy,nv=Ls.Event=qd,iv=Ls.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},bP=Ls.FetchXmlHttpFactory=ap,Eg=Ls.WebChannel=ep,VD=Ls.XhrIo=ft,UD=Ls.Md5=ca,nh=Ls.Integer=Fn;const rv="@firebase/firestore";class Yn{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Yn.UNAUTHENTICATED=new Yn(null),Yn.GOOGLE_CREDENTIALS=new Yn("google-credentials-uid"),Yn.FIRST_PARTY=new Yn("first-party-uid"),Yn.MOCK_USER=new Yn("mock-user");let mp="9.22.1";const Du=new Fs.Yd("@firebase/firestore");function Dg(){return Du.logLevel}function Be(n,...t){if(Du.logLevel<=Fs.in.DEBUG){const e=t.map(ov);Du.debug(`Firestore (${mp}): ${n}`,...e)}}function Vi(n,...t){if(Du.logLevel<=Fs.in.ERROR){const e=t.map(ov);Du.error(`Firestore (${mp}): ${n}`,...e)}}function da(n,...t){if(Du.logLevel<=Fs.in.WARN){const e=t.map(ov);Du.warn(`Firestore (${mp}): ${n}`,...e)}}function ov(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function dt(n="Unexpected state"){const t=`FIRESTORE (${mp}) INTERNAL ASSERTION FAILED: `+n;throw Vi(t),new Error(t)}function gt(n,t){n||dt()}function et(n,t){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends qt.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Di{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class HD{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Yn.UNAUTHENTICATED))}shutdown(){}}class $M{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Iw{constructor(t){this.t=t,this.currentUser=Yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=b=>this.i!==r?(r=this.i,e(b)):Promise.resolve();let u=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Di,t.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const b=u;t.enqueueRetryable((0,ge.Z)(function*(){yield b.promise,yield s(i.currentUser)}))},_=b=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Di)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(gt("string"==typeof i.accessToken),new HD(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return gt(null===t||"string"==typeof t),new Yn(t)}}class GM{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=Yn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ig{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new GM(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zD{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jD{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=s=>{null!=s.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.T;return this.T=s.token,Be("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(gt("string"==typeof e.token),this.T=e.token,new zD(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ZM(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class $D{static A(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=ZM(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function Bt(n,t){return n<t?-1:n>t?1:0}function gp(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function YM(n){return n+"\0"}class mi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new De(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new De(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new De(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new De(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return mi.fromMillis(Date.now())}static fromDate(t){return mi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new mi(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Bt(this.nanoseconds,t.nanoseconds):Bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Dt(t)}static min(){return new Dt(new mi(0,0))}static max(){return new Dt(new mi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Sg{constructor(t,e,i){void 0===e?e=0:e>t.length&&dt(),void 0===i?i=t.length-e:i>t.length-e&&dt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Sg.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Sg?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),u=e.get(r);if(s<u)return-1;if(s>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class fn extends Sg{construct(t,e,i){return new fn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new De(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new fn(e)}static emptyPath(){return new fn([])}}const WM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ti extends Sg{construct(t,e,i){return new Ti(t,e,i)}static isValidIdentifier(t){return WM.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ti.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ti(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new De(de.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new De(de.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new De(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=_,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(s(),r++)}if(s(),u)throw new De(de.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ti(e)}static emptyPath(){return new Ti([])}}class nt{constructor(t){this.path=t}static fromPath(t){return new nt(fn.fromString(t))}static fromName(t){return new nt(fn.fromString(t).popFirst(5))}static empty(){return new nt(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===fn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return fn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new nt(new fn(t.slice()))}}class Ag{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function Mg(n){return n.fields.find(t=>2===t.kind)}function ih(n){return n.fields.filter(t=>2!==t.kind)}Ag.UNKNOWN_ID=-1;class sv{constructor(t,e){this.fieldPath=t,this.kind=e}}class Rg{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Rg(0,ps.min())}}function GD(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Dt.fromTimestamp(1e9===i?new mi(e+1,0):new mi(e,i));return new ps(r,nt.empty(),t)}function qD(n){return new ps(n.readTime,n.key,-1)}class ps{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ps(Dt.min(),nt.empty(),-1)}static max(){return new ps(Dt.max(),nt.empty(),-1)}}function Aw(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=nt.comparator(n.documentKey,t.documentKey),0!==e?e:Bt(n.largestBatchId,t.largestBatchId))}const Mw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Tu(n){return ZD.apply(this,arguments)}function ZD(){return ZD=(0,ge.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==Mw)throw n;Be("LocalStore","Unexpectedly lost primary lease")}),ZD.apply(this,arguments)}class ae{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ae((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ae?e:ae.resolve(e)}catch(e){return ae.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ae.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ae.reject(e)}static resolve(t){return new ae((e,i)=>{e(t)})}static reject(t){return new ae((e,i)=>{i(t)})}static waitFor(t){return new ae((e,i)=>{let r=0,s=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++s,u&&s===r&&e()},_=>i(_))}),u=!0,s===r&&e()})}static or(t){let e=ae.resolve(!1);for(const i of t)e=e.next(r=>r?ae.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new ae((i,r)=>{const s=t.length,u=new Array(s);let h=0;for(let _=0;_<s;_++){const b=_;e(t[b]).next(E=>{u[b]=E,++h,h===s&&i(u)},E=>r(E))}})}static doWhile(t,e){return new ae((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class kw{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new Di,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new kg(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=xr(i.target.error);this.v.reject(new kg(t,r))}}static open(t,e,i,r){try{return new kw(e,t.transaction(r,i))}catch(s){throw new kg(e,s)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(Be("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new JM(e)}}class $o{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===$o.S((0,qt.z$)())&&Vi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Be("SimpleDb","Removing database:",t),so(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,qt.hl)())return!1;if($o.C())return!0;const t=(0,qt.z$)(),e=$o.S(t),i=0<e&&e<10,r=$o.N(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,ge.Z)(function*(){return e.db||(Be("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=u=>{i(u.target.result)},s.onblocked=()=>{r(new kg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new De(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new De(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new kg(t,h))},s.onupgradeneeded=u=>{Be("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.V.O(u.target.result,s.transaction,u.oldVersion,e.version).next(()=>{Be("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,ge.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{s.db=yield s.$(t);const _=kw.open(s.db,t,u?"readonly":"readwrite",i),b=r(_).next(E=>(_.P(),E)).catch(E=>(_.abort(E),ae.reject(E))).toPromise();return b.catch(()=>{}),yield _.R,b}catch(_){const b=_,E="FirebaseError"!==b.name&&h<3;if(Be("SimpleDb","Transaction failed with error:",b.message,"Retrying:",E),s.close(),!E)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class QM{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return so(this.L.delete())}}class kg extends De{constructor(t,e){super(de.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function rl(n){return"IndexedDbTransactionError"===n.name}class JM{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Be("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Be("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),so(i)}add(t){return Be("SimpleDb","ADD",this.store.name,t,t),so(this.store.add(t))}get(t){return so(this.store.get(t)).next(e=>(void 0===e&&(e=null),Be("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Be("SimpleDb","DELETE",this.store.name,t),so(this.store.delete(t))}count(){return Be("SimpleDb","COUNT",this.store.name),so(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(u,h)=>{s.push(h)}).next(()=>s)}{const r=this.store.getAll(i.range);return new ae((s,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ae((r,s)=>{i.onerror=u=>{s(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}J(t,e){Be("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,u,h)=>h.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new ae((i,r)=>{e.onerror=s=>{const u=xr(s.target.error);r(u)},e.onsuccess=s=>{const u=s.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}W(t,e){const i=[];return new ae((r,s)=>{t.onerror=u=>{s(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const _=new QM(h),b=e(h.primaryKey,h.value,_);if(b instanceof ae){const E=b.catch(S=>(_.done(),ae.reject(S)));i.push(E)}_.isDone?r():null===_.K?h.continue():h.continue(_.K)}}).next(()=>ae.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function so(n){return new ae((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=xr(i.target.error);e(r)}})}let _p=!1;function xr(n){const t=$o.S((0,qt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new De("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _p||(_p=!0,setTimeout(()=>{throw i},0)),i}}return n}class rh{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;Be("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,ge.Z)(function*(){e.task=null;try{Be("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){rl(i)?Be("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Tu(i)}yield e.et(6e4)}))}}class av{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,ge.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,s=!0;return ae.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return Be("IndexBackiller",`Processing collection: ${u}`),this.it(t,u,r).next(h=>{r-=h,i.add(u)});s=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const u=s.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.rt(r,s)).next(h=>(Be("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>u.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,s)=>{const u=qD(s);Aw(u,i)>0&&(i=u)}),new ps(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let gi=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function oh(n){return null==n}function ol(n){return 0===n&&1/n==-1/0}function sh(n){return"number"==typeof n&&Number.isInteger(n)&&!ol(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ui(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=ah(t)),t=yp(n.get(e),t);return ah(t)}function yp(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function ah(n){return n+"\x01\x01"}function Io(n){const t=n.length;if(gt(t>=2),2===t)return gt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),fn.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const u=n.indexOf("\x01",s);switch((u<0||u>e)&&dt(),n.charAt(u+1)){case"\x01":const h=n.substring(s,u);let _;0===r.length?_=h:(r+=h,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(s,u),r+="\0";break;case"\x11":r+=n.substring(s,u+1);break;default:dt()}s=u+2}return new fn(i)}const lh=["userId","batchId"];function mc(n,t){return[n,Ui(t)]}function ch(n,t,e){return[n,Ui(t),e]}const YD={},WD=["prefixPath","collectionGroup","readTime","documentId"],KD=["prefixPath","collectionGroup","documentId"],QD=["collectionGroup","readTime","prefixPath","documentId"],JD=["canonicalId","targetId"],XD=["targetId","path"],eT=["path","targetId"],tT=["collectionId","parent"],nT=["indexId","uid"],Ow=["uid","sequenceNumber"],XM=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],wP=["indexId","uid","orderedDocumentKey"],CP=["userId","collectionPath","documentId"],e1=["userId","collectionPath","largestBatchId"],t1=["userId","collectionGroup","largestBatchId"],n1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],r1=[...n1,"documentOverlays"],o1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],iT=o1,s1=[...iT,"indexConfiguration","indexState","indexEntries"];class Pw extends Rw{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function nr(n,t){const e=et(n);return $o.M(e.ht,t)}function vp(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function sl(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Og(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Un{constructor(t,e){this.comparator=t,this.root=e||Er.EMPTY}insert(t,e){return new Un(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Er.BLACK,null,null))}remove(t){return new Un(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Er.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Iu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Iu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Iu(this.root,t,this.comparator,!0)}}class Iu{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Er{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Er.RED,this.left=r??Er.EMPTY,this.right=s??Er.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Er(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Er.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Er.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Er.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const t=this.left.check();if(t!==this.right.check())throw dt();return t+(this.isRed()?0:1)}}Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1,Er.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Er(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class oi{constructor(t){this.comparator=t,this.data=new Un(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new bp(this.data.getIterator())}getIteratorFrom(t){return new bp(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof oi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new oi(this.comparator);return e.data=t,e}}class bp{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wp(n){return n.hasNext()?n.getNext():void 0}class Go{constructor(t){this.fields=t,t.sort(Ti.comparator)}static empty(){return new Go([])}unionWith(t){let e=new oi(Ti.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Go(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return gp(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class rT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Hi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new rT("Invalid base64 string: "+r):r}}(t);return new Hi(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Hi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Hi.EMPTY_BYTE_STRING=new Hi("");const lv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ha(n){if(gt(!!n),"string"==typeof n){let t=0;const e=lv.exec(n);if(gt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:zi(n.seconds),nanos:zi(n.nanos)}}function zi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function gc(n){return"string"==typeof n?Hi.fromBase64String(n):Hi.fromUint8Array(n)}function cv(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Cp(n){const t=n.mapValue.fields.__previous_value__;return cv(t)?Cp(t):t}function Pg(n){const t=ha(n.mapValue.fields.__local_write_time__.timestampValue);return new mi(t.seconds,t.nanos)}class oT{constructor(t,e,i,r,s,u,h,_,b){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=_,this.useFetchStreams=b}}class Su{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Su("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Su&&t.projectId===this.projectId&&t.database===this.database}}const Au={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ng={nullValue:"NULL_VALUE"};function _c(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cv(n)?4:aT(n)?9007199254740991:10:dt()}function fa(n,t){if(n===t)return!0;const e=_c(n);if(e!==_c(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Pg(n).isEqual(Pg(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=ha(i.timestampValue),u=ha(r.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,gc(n.bytesValue).isEqual(gc(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return zi(i.geoPointValue.latitude)===zi(r.geoPointValue.latitude)&&zi(i.geoPointValue.longitude)===zi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return zi(i.integerValue)===zi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=zi(i.doubleValue),u=zi(r.doubleValue);return s===u?ol(s)===ol(u):isNaN(s)&&isNaN(u)}return!1}(n,t);case 9:return gp(n.arrayValue.values||[],t.arrayValue.values||[],fa);case 10:return function(i,r){const s=i.mapValue.fields||{},u=r.mapValue.fields||{};if(vp(s)!==vp(u))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===u[h]||!fa(s[h],u[h])))return!1;return!0}(n,t);default:return dt()}var r}function Fg(n,t){return void 0!==(n.values||[]).find(e=>fa(e,t))}function Mu(n,t){if(n===t)return 0;const e=_c(n),i=_c(t);if(e!==i)return Bt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Bt(n.booleanValue,t.booleanValue);case 2:return function(r,s){const u=zi(r.integerValue||r.doubleValue),h=zi(s.integerValue||s.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return sT(n.timestampValue,t.timestampValue);case 4:return sT(Pg(n),Pg(t));case 5:return Bt(n.stringValue,t.stringValue);case 6:return function(r,s){const u=gc(r),h=gc(s);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const u=r.split("/"),h=s.split("/");for(let _=0;_<u.length&&_<h.length;_++){const b=Bt(u[_],h[_]);if(0!==b)return b}return Bt(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const u=Bt(zi(r.latitude),zi(s.latitude));return 0!==u?u:Bt(zi(r.longitude),zi(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const u=r.values||[],h=s.values||[];for(let _=0;_<u.length&&_<h.length;++_){const b=Mu(u[_],h[_]);if(b)return b}return Bt(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===Au.mapValue&&s===Au.mapValue)return 0;if(r===Au.mapValue)return 1;if(s===Au.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),_=s.fields||{},b=Object.keys(_);h.sort(),b.sort();for(let E=0;E<h.length&&E<b.length;++E){const S=Bt(h[E],b[E]);if(0!==S)return S;const O=Mu(u[h[E]],_[b[E]]);if(0!==O)return O}return Bt(h.length,b.length)}(n.mapValue,t.mapValue);default:throw dt()}}function sT(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Bt(n,t);const e=ha(n),i=ha(t),r=Bt(e.seconds,i.seconds);return 0!==r?r:Bt(e.nanos,i.nanos)}function uh(n){return Lg(n)}function Lg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=ha(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?gc(n.bytesValue).toBase64():"referenceValue"in n?nt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const u of i.values||[])s?s=!1:r+=",",r+=Lg(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",u=!0;for(const h of r)u?u=!1:s+=",",s+=`${h}:${Lg(i.fields[h])}`;return s+"}"}(n.mapValue):dt();var t}function dh(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Ep(n){return!!n&&"integerValue"in n}function Ru(n){return!!n&&"arrayValue"in n}function uv(n){return!!n&&"nullValue"in n}function Nw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dv(n){return!!n&&"mapValue"in n}function Bg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return sl(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Bg(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Bg(n.arrayValue.values[e]);return t}return Object.assign({},n)}function aT(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function hv(n){return"nullValue"in n?Ng:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?dh(Su.empty(),nt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:dt()}function fv(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?dh(Su.empty(),nt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Au:dt()}function pv(n,t){const e=Mu(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function Fw(n,t){const e=Mu(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class $r{constructor(t){this.value=t}static empty(){return new $r({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!dv(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bg(e)}setAll(t){let e=Ti.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const _=this.getFieldsMap(e);this.applyChanges(_,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=Bg(u):r.push(h.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());dv(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return fa(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];dv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){sl(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new $r(Bg(this.value))}}function lT(n){const t=[];return sl(n.fields,(e,i)=>{const r=new Ti([e]);if(dv(i)){const s=lT(i.mapValue).fields;if(0===s.length)t.push(r);else for(const u of s)t.push(r.child(u))}else t.push(r)}),new Go(t)}class Wn{constructor(t,e,i,r,s,u,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=u,this.documentState=h}static newInvalidDocument(t){return new Wn(t,0,Dt.min(),Dt.min(),Dt.min(),$r.empty(),0)}static newFoundDocument(t,e,i,r){return new Wn(t,1,e,Dt.min(),i,r,0)}static newNoDocument(t,e){return new Wn(t,2,e,Dt.min(),Dt.min(),$r.empty(),0)}static newUnknownDocument(t,e){return new Wn(t,3,e,Dt.min(),Dt.min(),$r.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Dt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$r.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Wn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class al{constructor(t,e){this.position=t,this.inclusive=e}}function Lw(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],u=n.position[r];if(i=s.field.isKeyField()?nt.comparator(nt.fromName(u.referenceValue),e.key):Mu(u,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function mv(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!fa(n.position[e],t.position[e]))return!1;return!0}class ku{constructor(t,e="asc"){this.field=t,this.dir=e}}function l1(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Bw{}class cn extends Bw{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new cT(t,e,i):"array-contains"===e?new hT(t,i):"in"===e?new $w(t,i):"not-in"===e?new yv(t,i):"array-contains-any"===e?new Ou(t,i):new cn(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new uT(t,i):new dT(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Mu(e,this.value)):null!==e&&_c(this.value)===_c(e)&&this.matchesComparison(Mu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class An extends Bw{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new An(t,e)}matches(t){return hh(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function hh(n){return"and"===n.op}function Vw(n){return"or"===n.op}function gv(n){return Uw(n)&&hh(n)}function Uw(n){for(const t of n.filters)if(t instanceof An)return!1;return!0}function Vg(n){if(n instanceof cn)return n.field.canonicalString()+n.op.toString()+uh(n.value);if(gv(n))return n.filters.map(t=>Vg(t)).join(",");{const t=n.filters.map(e=>Vg(e)).join(",");return`${n.op}(${t})`}}function _v(n,t){return n instanceof cn?(e=n,(i=t)instanceof cn&&e.op===i.op&&e.field.isEqual(i.field)&&fa(e.value,i.value)):n instanceof An?function(e,i){return i instanceof An&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,s,u)=>r&&_v(s,i.filters[u]),!0)}(n,t):void dt();var e,i}function Hw(n,t){const e=n.filters.concat(t);return An.create(e,n.op)}function zw(n){return n instanceof cn?`${(t=n).field.canonicalString()} ${t.op} ${uh(t.value)}`:n instanceof An?function(t){return t.op.toString()+" {"+t.getFilters().map(zw).join(" ,")+"}"}(n):"Filter";var t}class cT extends cn{constructor(t,e,i){super(t,e,i),this.key=nt.fromName(i.referenceValue)}matches(t){const e=nt.comparator(t.key,this.key);return this.matchesComparison(e)}}class uT extends cn{constructor(t,e){super(t,"in",e),this.keys=jw(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class dT extends cn{constructor(t,e){super(t,"not-in",e),this.keys=jw(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function jw(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>nt.fromName(i.referenceValue))}class hT extends cn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ru(e)&&Fg(e.arrayValue,this.value)}}class $w extends cn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Fg(this.value.arrayValue,e)}}class yv extends cn{constructor(t,e){super(t,"not-in",e)}matches(t){if(Fg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Fg(this.value.arrayValue,e)}}class Ou extends cn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ru(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Fg(this.value.arrayValue,i))}}class c1{constructor(t,e=null,i=[],r=[],s=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=u,this.endAt=h,this.dt=null}}function Gw(n,t=null,e=[],i=[],r=null,s=null,u=null){return new c1(n,t,e,i,r,s,u)}function yc(n){const t=et(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>Vg(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),oh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>uh(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>uh(i)).join(",")),t.dt=e}return t.dt}function pa(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!l1(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!_v(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!mv(n.startAt,t.startAt)&&mv(n.endAt,t.endAt)}function Dp(n){return nt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function vv(n,t){return n.filters.filter(e=>e instanceof cn&&e.field.isEqual(t))}function bv(n,t,e){let i=Ng,r=!0;for(const s of vv(n,t)){let u=Ng,h=!0;switch(s.op){case"<":case"<=":u=hv(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,h=!1;break;case"!=":case"not-in":u=Ng}pv({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const u=e.position[s];pv({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function u1(n,t,e){let i=Au,r=!0;for(const s of vv(n,t)){let u=Au,h=!0;switch(s.op){case">=":case">":u=fv(s.value),h=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,h=!1;break;case"!=":case"not-in":u=Au}Fw({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const u=e.position[s];Fw({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class Pu{constructor(t,e=null,i=[],r=[],s=null,u="F",h=null,_=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=u,this.startAt=h,this.endAt=_,this.wt=null,this._t=null}}function fT(n,t,e,i,r,s,u,h){return new Pu(n,t,e,i,r,s,u,h)}function Tp(n){return new Pu(n)}function qw(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Zw(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ii(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function wv(n){return null!==n.collectionGroup}function fh(n){const t=et(n);if(null===t.wt){t.wt=[];const e=Ii(t),i=Zw(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new ku(e)),t.wt.push(new ku(Ti.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new ku(Ti.keyField(),s))}}}return t.wt}function So(n){const t=et(n);if(!t._t)if("F"===t.limitType)t._t=Gw(t.path,t.collectionGroup,fh(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of fh(t))e.push(new ku(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new al(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new al(t.startAt.position,t.startAt.inclusive):null;t._t=Gw(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function Cv(n,t){t.getFirstInequalityField(),Ii(n);const e=n.filters.concat([t]);return new Pu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function xv(n,t,e){return new Pu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Ip(n,t){return pa(So(n),So(t))&&n.limitType===t.limitType}function Yw(n){return`${yc(So(n))}|lt:${n.limitType}`}function Nu(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>zw(i)).join(", ")}]`),oh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>uh(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>uh(i)).join(",")),`Target(${e})`}(So(n))}; limitType=${n.limitType})`}function Ug(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):nt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of fh(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,u){const h=Lw(r,s,u);return r.inclusive?h<=0:h<0}(e.startAt,fh(e),i)||e.endAt&&!function(r,s,u){const h=Lw(r,s,u);return r.inclusive?h>=0:h>0}(e.endAt,fh(e),i)));var e,i}function pT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Ww(n){return(t,e)=>{let i=!1;for(const r of fh(n)){const s=d1(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function d1(n,t,e){const i=n.field.isKeyField()?nt.comparator(t.key,e.key):function(r,s,u){const h=s.data.field(r),_=u.data.field(r);return null!==h&&null!==_?Mu(h,_):dt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return dt()}}class ll{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){sl(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return Og(this.inner)}size(){return this.innerSize}}const xP=new Un(nt.comparator);function ao(){return xP}const Ev=new Un(nt.comparator);function qo(...n){let t=Ev;for(const e of n)t=t.insert(e.key,e);return t}function mT(n){let t=Ev;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function ma(){return Ao()}function ga(){return Ao()}function Ao(){return new ll(n=>n.toString(),(n,t)=>n.isEqual(t))}const _a=new Un(nt.comparator),gT=new oi(nt.comparator);function Kt(...n){let t=gT;for(const e of n)t=t.add(e);return t}const h1=new oi(Bt);function Kw(){return h1}function _T(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ol(t)?"-0":t}}function yT(n){return{integerValue:""+n}}function Dv(n,t){return sh(t)?yT(t):_T(n,t)}class Fu{constructor(){this._=void 0}}function f1(n,t,e){return n instanceof Sp?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&cv(r)&&(r=Cp(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof Lu?Qw(n,t):n instanceof cl?wT(n,t):function(i,r){const s=bT(i,r),u=Jw(s)+Jw(i.gt);return Ep(s)&&Ep(i.gt)?yT(u):_T(i.serializer,u)}(n,t)}function vT(n,t,e){return n instanceof Lu?Qw(n,t):n instanceof cl?wT(n,t):e}function bT(n,t){return n instanceof ph?Ep(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Sp extends Fu{}class Lu extends Fu{constructor(t){super(),this.elements=t}}function Qw(n,t){const e=Xw(t);for(const i of n.elements)e.some(r=>fa(r,i))||e.push(i);return{arrayValue:{values:e}}}class cl extends Fu{constructor(t){super(),this.elements=t}}function wT(n,t){let e=Xw(t);for(const i of n.elements)e=e.filter(r=>!fa(r,i));return{arrayValue:{values:e}}}class ph extends Fu{constructor(t,e){super(),this.serializer=t,this.gt=e}}function Jw(n){return zi(n.integerValue||n.doubleValue)}function Xw(n){return Ru(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Hg{constructor(t,e){this.field=t,this.transform=e}}class eC{constructor(t,e){this.version=t,this.transformResults=e}}class Hn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Hn}static exists(t){return new Hn(void 0,t)}static updateTime(t){return new Hn(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ap(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class zg{}function tC(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Rp(n.key,Hn.none()):new mh(n.key,n.data,Hn.none());{const e=n.data,i=$r.empty();let r=new oi(Ti.comparator);for(let s of t.fields)if(!r.has(s)){let u=e.field(s);null===u&&s.length>1&&(s=s.popLast(),u=e.field(s)),null===u?i.delete(s):i.set(s,u),r=r.add(s)}return new ul(n.key,i,new Go(r.toArray()),Hn.none())}}function CT(n,t,e){n instanceof mh?function(i,r,s){const u=i.value.clone(),h=DT(i.fieldTransforms,r,s.transformResults);u.setAll(h),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,t,e):n instanceof ul?function(i,r,s){if(!Ap(i.precondition,r))return void r.convertToUnknownDocument(s.version);const u=DT(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(ET(i)),h.setAll(u),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Mp(n,t,e,i){return n instanceof mh?function(r,s,u,h){if(!Ap(r.precondition,s))return u;const _=r.value.clone(),b=TT(r.fieldTransforms,h,s);return _.setAll(b),s.convertToFoundDocument(s.version,_).setHasLocalMutations(),null}(n,t,e,i):n instanceof ul?function(r,s,u,h){if(!Ap(r.precondition,s))return u;const _=TT(r.fieldTransforms,h,s),b=s.data;return b.setAll(ET(r)),b.setAll(_),s.convertToFoundDocument(s.version,b).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(E=>E.field))}(n,t,e,i):(u=e,Ap(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u);var s,u}function xT(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=bT(i.transform,r||null);null!=s&&(null===e&&(e=$r.empty()),e.set(i.field,s))}return e||null}function nC(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&gp(e,i,(r,s)=>function p1(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Lu&&i instanceof Lu||e instanceof cl&&i instanceof cl?gp(e.elements,i.elements,fa):e instanceof ph&&i instanceof ph?fa(e.gt,i.gt):e instanceof Sp&&i instanceof Sp);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class mh extends zg{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ul extends zg{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ET(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function DT(n,t,e){const i=new Map;gt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],u=s.transform,h=t.data.field(s.field);i.set(s.field,vT(u,h,e[r]))}return i}function TT(n,t,e){const i=new Map;for(const r of n){const s=r.transform,u=e.data.field(r.field);i.set(r.field,f1(s,u,t))}return i}class Rp extends zg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iC extends zg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rC{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&CT(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Mp(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Mp(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=ga();return this.mutations.forEach(r=>{const s=t.get(r.key),u=s.overlayedDocument;let h=this.applyToLocalView(u,s.mutatedFields);h=e.has(r.key)?null:h;const _=tC(u,h);null!==_&&i.set(r.key,_),u.isValidDocument()||u.convertToNoDocument(Dt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Kt())}isEqual(t){return this.batchId===t.batchId&&gp(this.mutations,t.mutations,(e,i)=>nC(e,i))&&gp(this.baseMutations,t.baseMutations,(e,i)=>nC(e,i))}}class oC{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){gt(t.mutations.length===i.length);let r=_a;const s=t.mutations;for(let u=0;u<s.length;u++)r=r.insert(s[u].key,i[u].version);return new oC(t,e,i,r)}}class sC{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class g1{constructor(t,e){this.count=t,this.unchangedNames=e}}var ir,pn;function IT(n){switch(n){default:return dt();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function ST(n){if(void 0===n)return Vi("GRPC error has no .code"),de.UNKNOWN;switch(n){case ir.OK:return de.OK;case ir.CANCELLED:return de.CANCELLED;case ir.UNKNOWN:return de.UNKNOWN;case ir.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case ir.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case ir.INTERNAL:return de.INTERNAL;case ir.UNAVAILABLE:return de.UNAVAILABLE;case ir.UNAUTHENTICATED:return de.UNAUTHENTICATED;case ir.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case ir.NOT_FOUND:return de.NOT_FOUND;case ir.ALREADY_EXISTS:return de.ALREADY_EXISTS;case ir.PERMISSION_DENIED:return de.PERMISSION_DENIED;case ir.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case ir.ABORTED:return de.ABORTED;case ir.OUT_OF_RANGE:return de.OUT_OF_RANGE;case ir.UNIMPLEMENTED:return de.UNIMPLEMENTED;case ir.DATA_LOSS:return de.DATA_LOSS;default:return dt()}}(pn=ir||(ir={}))[pn.OK=0]="OK",pn[pn.CANCELLED=1]="CANCELLED",pn[pn.UNKNOWN=2]="UNKNOWN",pn[pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pn[pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pn[pn.NOT_FOUND=5]="NOT_FOUND",pn[pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",pn[pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",pn[pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",pn[pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pn[pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pn[pn.ABORTED=10]="ABORTED",pn[pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",pn[pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",pn[pn.INTERNAL=13]="INTERNAL",pn[pn.UNAVAILABLE=14]="UNAVAILABLE",pn[pn.DATA_LOSS=15]="DATA_LOSS";class aC{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Tv}static getOrCreateInstance(){return null===Tv&&(Tv=new aC),Tv}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let Tv=null;function AT(){return new TextEncoder}const MT=new nh([4294967295,4294967295],0);function lC(n){const t=AT().encode(n),e=new UD;return e.update(t),new Uint8Array(e.digest())}function cC(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new nh([e,i],0),new nh([r,s],0)]}class Iv{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new kp(`Invalid padding: ${e}`);if(i<0)throw new kp(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new kp(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new kp(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=nh.fromNumber(this.It)}Et(t,e,i){let r=t.add(e.multiply(nh.fromNumber(i)));return 1===r.compare(MT)&&(r=new nh([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=lC(t),[i,r]=cC(e);for(let s=0;s<this.hashCount;s++){const u=this.Et(i,r,s);if(!this.At(u))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),u=new Iv(s,r,e);return i.forEach(h=>u.insert(h)),u}insert(t){if(0===this.It)return;const e=lC(t),[i,r]=cC(e);for(let s=0;s<this.hashCount;s++){const u=this.Et(i,r,s);this.Rt(u)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class kp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Op{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Pp.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Op(Dt.min(),r,new Un(Bt),ao(),Kt())}}class Pp{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Pp(i,e,Kt(),Kt(),Kt())}}class jg{constructor(t,e,i,r){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=r}}class uC{constructor(t,e){this.targetId=t,this.Vt=e}}class Sv{constructor(t,e,i=Hi.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class Av{constructor(){this.St=0,this.Dt=kT(),this.Ct=Hi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=Kt(),e=Kt(),i=Kt();return this.Dt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:dt()}}),new Pp(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=kT()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class gh{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=ao(),this.zt=RT(),this.Wt=new Un(Bt)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:dt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,r)=>{this.te(r)&&e(r)})}ne(t){var e;const i=t.targetId,r=t.Vt.count,s=this.se(i);if(s){const u=s.target;if(Dp(u))if(0===r){const h=new nt(u.path);this.Yt(i,h,Wn.newNoDocument(h,Dt.min()))}else gt(1===r);else{const h=this.ie(i);if(h!==r){const _=this.re(t,h);0!==_&&(this.ee(i),this.Wt=this.Wt.insert(i,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=aC.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(b,E,S){var O,B,z,q,W,Re;const We={localCacheCount:E,existenceFilterCount:S.count},Pe=S.unchangedNames;return Pe&&(We.bloomFilter={applied:0===b,hashCount:null!==(O=Pe?.hashCount)&&void 0!==O?O:0,bitmapLength:null!==(q=null===(z=null===(B=Pe?.bits)||void 0===B?void 0:B.bitmap)||void 0===z?void 0:z.length)&&void 0!==q?q:0,padding:null!==(Re=null===(W=Pe?.bits)||void 0===W?void 0:W.padding)&&void 0!==Re?Re:0}),We}(_,h,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:r}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let _,b;try{_=gc(s).toUint8Array()}catch(E){if(E instanceof rT)return da("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw E}try{b=new Iv(_,u,h)}catch(E){return da(E instanceof kp?"BloomFilter error: ":"Applying bloom filter failed: ",E),1}return 0===b.It?1:r!==e-this.oe(t.targetId,b)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let r=0;return i.forEach(s=>{const u=this.Gt.ue(),h=`projects/${u.projectId}/databases/${u.database}/documents/${s.path.canonicalString()}`;e.vt(h)||(this.Yt(t,s,null),r++)}),r}ce(t){const e=new Map;this.Qt.forEach((s,u)=>{const h=this.se(u);if(h){if(s.current&&Dp(h.target)){const _=new nt(h.target.path);null!==this.jt.get(_)||this.ae(u,_)||this.Yt(u,_,Wn.newNoDocument(_,t))}s.Mt&&(e.set(u,s.Ot()),s.Ft())}});let i=Kt();this.zt.forEach((s,u)=>{let h=!0;u.forEachWhile(_=>{const b=this.se(_);return!b||"TargetPurposeLimboResolution"===b.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.jt.forEach((s,u)=>u.setReadTime(t));const r=new Op(t,e,this.Wt,this.jt,i);return this.jt=ao(),this.zt=RT(),this.Wt=new Un(Bt),r}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const r=this.Zt(t);this.ae(t,e)?r.Bt(e,1):r.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new Av,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new oi(Bt),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||Be("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new Av),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function RT(){return new Un(nt.comparator)}function kT(){return new Un(nt.comparator)}const Np={asc:"ASCENDING",desc:"DESCENDING"},EP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dC={and:"AND",or:"OR"};class DP{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Mv(n,t){return n.useProto3Json||oh(t)?t:{value:t}}function _h(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Nt(n,t){return _h(n,t.toTimestamp())}function ji(n){return gt(!!n),Dt.fromTimestamp(function(t){const e=ha(t);return new mi(e.seconds,e.nanos)}(n))}function hC(n,t){return(e=n,new fn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function OT(n){const t=fn.fromString(n);return gt(Bp(t)),t}function dl(n,t){return hC(n.databaseId,t.path)}function hl(n,t){const e=OT(t);if(e.get(1)!==n.databaseId.projectId)throw new De(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new De(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new nt(y1(e))}function Fp(n,t){return hC(n.databaseId,t)}function $g(n){const t=OT(n);return 4===t.length?fn.emptyPath():y1(t)}function Kn(n){return new fn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function y1(n){return gt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function fC(n,t,e){return{name:dl(n,t),fields:e.value.mapValue.fields}}function pC(n,t,e){const i=hl(n,t.name),r=ji(t.updateTime),s=t.createTime?ji(t.createTime):Dt.min(),u=new $r({mapValue:{fields:t.fields}}),h=Wn.newFoundDocument(i,r,s,u);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function Lp(n,t){let e;if(t instanceof mh)e={update:fC(n,t.key,t.value)};else if(t instanceof Rp)e={delete:dl(n,t.key)};else if(t instanceof ul)e={update:fC(n,t.key,t.data),updateMask:C1(t.fieldMask)};else{if(!(t instanceof iC))return dt();e={verify:dl(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const u=s.transform;if(u instanceof Sp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Lu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof cl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof ph)return{fieldPath:s.field.canonicalString(),increment:u.gt};throw dt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:Nt(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:dt()),e;var r}function Rv(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Hn.updateTime(ji(r.updateTime)):void 0!==r.exists?Hn.exists(r.exists):Hn.none():Hn.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,u){let h=null;"setToServerValue"in u?(gt("REQUEST_TIME"===u.setToServerValue),h=new Sp):"appendMissingElements"in u?h=new Lu(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new cl(u.removeAllFromArray.values||[]):"increment"in u?h=new ph(s,u.increment):dt();const _=Ti.fromServerFormat(u.fieldPath);return new Hg(_,h)}(n,r)):[];var r;if(t.update){const r=hl(n,t.update.name),s=new $r({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new Go((t.updateMask.fieldPaths||[]).map(b=>Ti.fromServerFormat(b)));return new ul(r,s,u,e,i)}return new mh(r,s,e,i)}if(t.delete){const r=hl(n,t.delete);return new Rp(r,e)}if(t.verify){const r=hl(n,t.verify);return new iC(r,e)}return dt()}function FT(n,t){return{documents:[Fp(n,t.path)]}}function mC(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=Fp(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=Fp(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0!==_.length)return gC(An.create(_,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(_){if(0!==_.length)return _.map(b=>{return{field:vc((E=b).field),direction:b1(E.dir)};var E})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const u=Mv(n,t.limit);var h,_;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(_=t.endAt).inclusive,values:_.position}),e}function LT(n){let t=$g(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){gt(1===i);const E=e.from[0];E.allDescendants?r=E.collectionId:t=t.child(E.collectionId)}let s=[];e.where&&(s=function(E){const S=BT(E);return S instanceof An&&gv(S)?S.getFilters():[S]}(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(E=>{return new ku(yh((S=E).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let h=null;e.limit&&(h=function(E){let S;return S="object"==typeof E?E.value:E,oh(S)?null:S}(e.limit));let _=null;var E;e.startAt&&(_=new al((E=e.startAt).values||[],!!E.before));let b=null;return e.endAt&&(b=function(E){return new al(E.values||[],!E.before)}(e.endAt)),fT(t,r,u,s,h,"F",_,b)}function BT(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=yh(t.unaryFilter.field);return cn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=yh(t.unaryFilter.field);return cn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=yh(t.unaryFilter.field);return cn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=yh(t.unaryFilter.field);return cn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}(n):void 0!==n.fieldFilter?cn.create(yh((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return An.create(t.compositeFilter.filters.map(e=>BT(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return dt()}}(t.compositeFilter.op))}(n):dt();var t}function b1(n){return Np[n]}function w1(n){return EP[n]}function kv(n){return dC[n]}function vc(n){return{fieldPath:n.canonicalString()}}function yh(n){return Ti.fromServerFormat(n.fieldPath)}function gC(n){return n instanceof cn?function(t){if("=="===t.op){if(Nw(t.value))return{unaryFilter:{field:vc(t.field),op:"IS_NAN"}};if(uv(t.value))return{unaryFilter:{field:vc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Nw(t.value))return{unaryFilter:{field:vc(t.field),op:"IS_NOT_NAN"}};if(uv(t.value))return{unaryFilter:{field:vc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vc(t.field),op:w1(t.op),value:t.value}}}(n):n instanceof An?function(t){const e=t.getFilters().map(i=>gC(i));return 1===e.length?e[0]:{compositeFilter:{op:kv(t.op),filters:e}}}(n):dt()}function C1(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Bp(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ms{constructor(t,e,i,r,s=Dt.min(),u=Dt.min(),h=Hi.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=_}withSequenceNumber(t){return new ms(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class VT{constructor(t){this.fe=t}}function UT(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:qg(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:dl(r=n.fe,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:_h(r,s.version.toTimestamp()),createTime:_h(r,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Bu(t.version)};else{if(!t.isUnknownDocument())return dt();i.unknownDocument={path:e.path.toArray(),version:Bu(t.version)}}var r,s;return i}function qg(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Bu(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Vu(n){const t=new mi(n.seconds,n.nanoseconds);return Dt.fromTimestamp(t)}function vh(n,t){const e=(t.baseMutations||[]).map(s=>Rv(n.fe,s));for(let s=0;s<t.mutations.length-1;++s)s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(t.mutations[s].updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s);const i=t.mutations.map(s=>Rv(n.fe,s)),r=mi.fromMillis(t.localWriteTimeMs);return new rC(t.batchId,r,e,i)}function Vp(n){const t=Vu(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Vu(n.lastLimboFreeSnapshotVersion):Dt.min();let i;var r;return void 0!==n.query.documents?(gt(1===(r=n.query).documents.length),i=So(Tp($g(r.documents[0])))):i=So(LT(n.query)),new ms(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Hi.fromBase64String(n.resumeToken))}function HT(n,t){const e=Bu(t.snapshotVersion),i=Bu(t.lastLimboFreeSnapshotVersion);let r;r=Dp(t.target)?FT(n.fe,t.target):mC(n.fe,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:yc(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function _C(n){const t=LT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?xv(t,t.limit,"L"):t}function zT(n,t){return new sC(t.largestBatchId,Rv(n.fe,t.overlayMutation))}function E1(n,t){const e=t.path.lastSegment();return[n,Ui(t.path.popLast()),e]}function D1(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Bu(i.readTime),documentKey:Ui(i.documentKey.path),largestBatchId:i.largestBatchId}}class TP{getBundleMetadata(t,e){return yC(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Vu(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return yC(t).put({bundleId:(i=e).id,createTime:Bu(ji(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return Zg(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:_C(r.bundledQuery),readTime:Vu(r.readTime)};var r})}saveNamedQuery(t,e){return Zg(t).put({name:(i=e).name,readTime:Bu(ji(i.readTime)),bundledQuery:i.bundledQuery});var i}}function yC(n){return nr(n,"bundles")}function Zg(n){return nr(n,"namedQueries")}class Ov{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new Ov(t,e.uid||"")}getOverlay(t,e){return Yg(t).get(E1(this.userId,e)).next(i=>i?zT(this.serializer,i):null)}getOverlays(t,e){const i=ma();return ae.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,u)=>{const h=new sC(e,u);r.push(this.we(t,h))}),ae.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(Ui(u.getCollectionPath())));const s=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);s.push(Yg(t).J("collectionPathOverlayIndex",h))}),ae.waitFor(s)}getOverlaysForCollection(t,e,i){const r=ma(),s=Ui(e),u=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Yg(t).j("collectionPathOverlayIndex",u).next(h=>{for(const _ of h){const b=zT(this.serializer,_);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=ma();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Yg(t).X({index:"collectionGroupOverlayIndex",range:h},(_,b,E)=>{const S=zT(this.serializer,b);s.size()<r||S.largestBatchId===u?(s.set(S.getKey(),S),u=S.largestBatchId):E.done()}).next(()=>s)}we(t,e){return Yg(t).put(function(i,r,s){const[u,h,_]=E1(r,s.mutation.key);return{userId:r,collectionPath:h,documentId:_,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Lp(i.fe,s.mutation)}}(this.serializer,this.userId,e))}}function Yg(n){return nr(n,"documentOverlays")}class Uu{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(zi(t.integerValue));else if("doubleValue"in t){const i=zi(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),ol(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(gc(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?aT(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):dt()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const r of Object.keys(i))this.Te(r,e),this.me(i[r],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const r of i)this.me(r,e)}ve(t,e){this.ye(e,37),nt.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function Wg(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function jT(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=Wg(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}Uu.Ve=new Uu;class T1{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.De(i.value),i=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ne(i.value),i=e.next();this.ke()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=e.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=e.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(t){const e=this.Fe(t),i=jT(e);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Le(t){const e=this.Fe(t),i=jT(e);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class I1{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class S1{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class Pv{constructor(){this.je=new T1,this.ze=new I1(this.je),this.We=new S1(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class bh{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new bh(this.indexId,this.documentKey,this.arrayValue,i)}}function bc(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=$T(n.arrayValue,t.arrayValue),0!==e?e:(e=$T(n.directionalValue,t.directionalValue),0!==e?e:nt.comparator(n.documentKey,t.documentKey)))}function $T(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class A1{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(t){gt(t.collectionGroup===this.collectionId);const e=Mg(t);if(void 0!==e&&!this.en(e))return!1;const i=ih(t);let r=0,s=0;for(;r<i.length&&this.en(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ze){const u=i[r];if(!this.nn(this.Ze,u)||!this.sn(this.Ye[s++],u))return!1;++r}for(;r<i.length;++r)if(s>=this.Ye.length||!this.sn(this.Ye[s++],i[r]))return!1;return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function Up(n){var t,e;if(gt(n instanceof cn||n instanceof An),n instanceof cn){if(n instanceof $w){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>cn.create(n.field,"==",s)))||[];return An.create(r,"or")}return n}const i=n.filters.map(r=>Up(r));return An.create(i,n.op)}function M1(n){if(0===n.getFilters().length)return[];const t=wC(Up(n));return gt(bC(t)),Nv(t)||vC(t)?[t]:t.getFilters()}function Nv(n){return n instanceof cn}function vC(n){return n instanceof An&&gv(n)}function bC(n){return Nv(n)||vC(n)||function(t){if(t instanceof An&&Vw(t)){for(const e of t.getFilters())if(!Nv(e)&&!vC(e))return!1;return!0}return!1}(n)}function wC(n){if(gt(n instanceof cn||n instanceof An),n instanceof cn)return n;if(1===n.filters.length)return wC(n.filters[0]);const t=n.filters.map(i=>wC(i));let e=An.create(t,n.op);return e=Hp(e),bC(e)?e:(gt(e instanceof An),gt(hh(e)),gt(e.filters.length>1),e.filters.reduce((i,r)=>Fv(i,r)))}function Fv(n,t){let e;return gt(n instanceof cn||n instanceof An),gt(t instanceof cn||t instanceof An),e=n instanceof cn?t instanceof cn?An.create([n,t],"and"):GT(n,t):t instanceof cn?GT(t,n):function(i,r){if(gt(i.filters.length>0&&r.filters.length>0),hh(i)&&hh(r))return Hw(i,r.getFilters());const s=Vw(i)?i:r,u=Vw(i)?r:i,h=s.filters.map(_=>Fv(_,u));return An.create(h,"or")}(n,t),Hp(e)}function GT(n,t){if(hh(t))return Hw(t,n.getFilters());{const e=t.filters.map(i=>Fv(n,i));return An.create(e,"or")}}function Hp(n){if(gt(n instanceof cn||n instanceof An),n instanceof cn)return n;const t=n.getFilters();if(1===t.length)return Hp(t[0]);if(Uw(n))return n;const e=t.map(r=>Hp(r)),i=[];return e.forEach(r=>{r instanceof cn?i.push(r):r instanceof An&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:An.create(i,n.op)}class R1{constructor(){this.rn=new Lv}addToCollectionParentIndex(t,e){return this.rn.add(e),ae.resolve()}getCollectionParents(t,e){return ae.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return ae.resolve()}deleteFieldIndex(t,e){return ae.resolve()}getDocumentsMatchingTarget(t,e){return ae.resolve(null)}getIndexType(t,e){return ae.resolve(0)}getFieldIndexes(t,e){return ae.resolve([])}getNextCollectionGroupToUpdate(t){return ae.resolve(null)}getMinOffset(t,e){return ae.resolve(ps.min())}getMinOffsetFromCollectionGroup(t,e){return ae.resolve(ps.min())}updateCollectionGroup(t,e,i){return ae.resolve()}updateIndexEntries(t,e){return ae.resolve()}}class Lv{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new oi(fn.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new oi(fn.comparator)).toArray()}}const Kg=new Uint8Array(0);class k1{constructor(t,e){this.user=t,this.databaseId=e,this.on=new Lv,this.un=new ll(i=>yc(i),(i,r)=>pa(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const s={collectionId:i,parent:Ui(r)};return qT(t).put(s)}return ae.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[YM(e),""],!1,!0);return qT(t).j(r).next(s=>{for(const u of s){if(u.collectionId!==e)break;i.push(Io(u.parent))}return i})}addFieldIndex(t,e){const i=zp(t),r={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const s=i.add(r);if(e.indexState){const u=Jg(t);return s.next(h=>{u.put(D1(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=zp(t),r=Jg(t),s=Qg(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Qg(t);let r=!0;const s=new Map;return ae.forEach(this.cn(e),u=>this.an(t,u).next(h=>{r&&(r=!!h),s.set(u,h)})).next(()=>{if(r){let u=Kt();const h=[];return ae.forEach(s,(_,b)=>{var E;Be("IndexedDbIndexManager",`Using index ${E=_,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(Pe=>`${Pe.fieldPath}:${Pe.kind}`).join(",")}`} to execute ${yc(e)}`);const S=function(Pe,Ge){const It=Mg(Ge);if(void 0===It)return null;for(const Pt of vv(Pe,It.fieldPath))switch(Pt.op){case"array-contains-any":return Pt.value.arrayValue.values||[];case"array-contains":return[Pt.value]}return null}(b,_),O=function(Pe,Ge){const It=new Map;for(const Pt of ih(Ge))for(const gn of vv(Pe,Pt.fieldPath))switch(gn.op){case"==":case"in":It.set(Pt.fieldPath.canonicalString(),gn.value);break;case"not-in":case"!=":return It.set(Pt.fieldPath.canonicalString(),gn.value),Array.from(It.values())}return null}(b,_),B=function(Pe,Ge){const It=[];let Pt=!0;for(const gn of ih(Ge)){const Gi=0===gn.kind?bv(Pe,gn.fieldPath,Pe.startAt):u1(Pe,gn.fieldPath,Pe.startAt);It.push(Gi.value),Pt&&(Pt=Gi.inclusive)}return new al(It,Pt)}(b,_),z=function(Pe,Ge){const It=[];let Pt=!0;for(const gn of ih(Ge)){const Gi=0===gn.kind?u1(Pe,gn.fieldPath,Pe.endAt):bv(Pe,gn.fieldPath,Pe.endAt);It.push(Gi.value),Pt&&(Pt=Gi.inclusive)}return new al(It,Pt)}(b,_),q=this.hn(_,b,B),W=this.hn(_,b,z),Re=this.ln(_,b,O),We=this.fn(_.indexId,S,q,B.inclusive,W,z.inclusive,Re);return ae.forEach(We,Pe=>i.H(Pe,e.limit).next(Ge=>{Ge.forEach(It=>{const Pt=nt.fromSegments(It.documentKey);u.has(Pt)||(u=u.add(Pt),h.push(Pt))})}))}).next(()=>h)}return ae.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:M1(An.create(t.filters,"and")).map(i=>Gw(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,i,r,s,u,h){const _=(null!=e?e.length:1)*Math.max(i.length,s.length),b=_/(null!=e?e.length:1),E=[];for(let S=0;S<_;++S){const O=e?this.dn(e[S/b]):Kg,B=this.wn(t,O,i[S%b],r),z=this._n(t,O,s[S%b],u),q=h.map(W=>this.wn(t,O,W,!0));E.push(...this.createRange(B,z,q))}return E}wn(t,e,i,r){const s=new bh(t,nt.empty(),e,i);return r?s:s.Je()}_n(t,e,i,r){const s=new bh(t,nt.empty(),e,i);return r?s.Je():s}an(t,e){const i=new A1(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let u=null;for(const h of s)i.tn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(t,e){let i=2;const r=this.cn(e);return ae.forEach(r,s=>this.an(t,s).next(u=>{u?0!==i&&u.fields.length<function(h){let _=new oi(Ti.comparator),b=!1;for(const E of h.filters)for(const S of E.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?b=!0:_=_.add(S.field));for(const E of h.orderBy)E.field.isKeyField()||(_=_.add(E.field));return _.size+(b?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}mn(t,e){const i=new Pv;for(const r of ih(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const u=i.He(r.kind);Uu.Ve._e(s,u)}return i.Qe()}dn(t){const e=new Pv;return Uu.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const i=new Pv;return Uu.Ve._e(dh(this.databaseId,e),i.He(function(r){const s=ih(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.Qe()}ln(t,e,i){if(null===i)return[];let r=[];r.push(new Pv);let s=0;for(const u of ih(t)){const h=i[s++];for(const _ of r)if(this.yn(e,u.fieldPath)&&Ru(h))r=this.pn(r,u,h);else{const b=_.He(u.kind);Uu.Ve._e(h,b)}}return this.In(r)}hn(t,e,i){return this.ln(t,e,i.position)}In(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Qe();return e}pn(t,e,i){const r=[...t],s=[];for(const u of i.arrayValue.values||[])for(const h of r){const _=new Pv;_.seed(h.Qe()),Uu.Ve._e(u,_.He(e.kind)),s.push(_)}return s}yn(t,e){return!!t.filters.find(i=>i instanceof cn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=zp(t),r=Jg(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(s=>{const u=[];return ae.forEach(s,h=>r.get([h.indexId,this.uid]).next(_=>{u.push(function(b,E){const S=E?new Rg(E.sequenceNumber,new ps(Vu(E.readTime),new nt(Io(E.documentKey)),E.largestBatchId)):Rg.empty(),O=b.fields.map(([B,z])=>new sv(Ti.fromServerFormat(B),z));return new Ag(b.indexId,b.collectionGroup,O,S)}(h,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Bt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=zp(t),s=Jg(t);return this.Tn(t).next(u=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>ae.forEach(h,_=>s.put(D1(_.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return ae.forEach(e,(r,s)=>{const u=i.get(r.collectionGroup);return(u?ae.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),ae.forEach(h,_=>this.En(t,r,_).next(b=>{const E=this.An(s,_);return b.isEqual(E)?ae.resolve():this.vn(t,s,_,b,E)}))))})}Rn(t,e,i,r){return Qg(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,i,r){return Qg(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,e.key),e.key.path.toArray()])}En(t,e,i){const r=Qg(t);let s=new oi(bc);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,e)])},(u,h)=>{s=s.add(new bh(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>s)}An(t,e){let i=new oi(bc);const r=this.mn(e,t);if(null==r)return i;const s=Mg(e);if(null!=s){const u=t.data.field(s.fieldPath);if(Ru(u))for(const h of u.arrayValue.values||[])i=i.add(new bh(e.indexId,t.key,this.dn(h),r))}else i=i.add(new bh(e.indexId,t.key,Kg,r));return i}vn(t,e,i,r,s){Be("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,_,b,E,S){const O=h.getIterator(),B=_.getIterator();let z=wp(O),q=wp(B);for(;z||q;){let W=!1,Re=!1;if(z&&q){const We=b(z,q);We<0?Re=!0:We>0&&(W=!0)}else null!=z?Re=!0:W=!0;W?(E(q),q=wp(B)):Re?(S(z),z=wp(O)):(z=wp(O),q=wp(B))}}(r,s,bc,h=>{u.push(this.Rn(t,e,i,h))},h=>{u.push(this.Pn(t,e,i,h))}),ae.waitFor(u)}Tn(t){let e=1;return Jg(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>bc(u,h)).filter((u,h,_)=>!h||0!==bc(u,_[h-1]));const r=[];r.push(t);for(const u of i){const h=bc(u,t),_=bc(u,e);if(0===h)r[0]=t.Je();else if(h>0&&_<0)r.push(u),r.push(u.Je());else if(_>0)break}r.push(e);const s=[];for(let u=0;u<r.length;u+=2){if(this.bn(r[u],r[u+1]))return[];s.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,Kg,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,Kg,[]]))}return s}bn(t,e){return bc(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(CC)}getMinOffset(t,e){return ae.mapArray(this.cn(e),i=>this.an(t,i).next(r=>r||dt())).next(CC)}}function qT(n){return nr(n,"collectionParents")}function Qg(n){return nr(n,"indexEntries")}function zp(n){return nr(n,"indexConfiguration")}function Jg(n){return nr(n,"indexState")}function CC(n){gt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Aw(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new ps(t.readTime,t.documentKey,e)}const ZT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class lo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new lo(t,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function YT(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],u=IDBKeyRange.only(e.batchId);let h=0;const _=i.X({range:u},(E,S,O)=>(h++,O.delete()));s.push(_.next(()=>{gt(1===h)}));const b=[];for(const E of e.mutations){const S=ch(t,E.key.path,e.batchId);s.push(r.delete(S)),b.push(E.key)}return ae.waitFor(s).next(()=>b)}function Bv(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw dt();t=n.noDocument}return JSON.stringify(t).length}lo.DEFAULT_COLLECTION_PERCENTILE=10,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lo.DEFAULT=new lo(41943040,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lo.DISABLED=new lo(-1,0,0);class Vv{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(t,e,i,r){gt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new Vv(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hu(t).X({index:"userMutationsIndex",range:i},(r,s,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=jp(t),u=Hu(t);return u.add({}).next(h=>{gt("number"==typeof h);const _=new rC(h,e,i,r),b=function(O,B,z){const q=z.baseMutations.map(Re=>Lp(O.fe,Re)),W=z.mutations.map(Re=>Lp(O.fe,Re));return{userId:B,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:q,mutations:W}}(this.serializer,this.userId,_),E=[];let S=new oi((O,B)=>Bt(O.canonicalString(),B.canonicalString()));for(const O of r){const B=ch(this.userId,O.key.path,h);S=S.add(O.key.path.popLast()),E.push(u.put(b)),E.push(s.put(B,YD))}return S.forEach(O=>{E.push(this.indexManager.addToCollectionParentIndex(t,O))}),t.addOnCommittedListener(()=>{this.Vn[h]=_.keys()}),ae.waitFor(E).next(()=>_)})}lookupMutationBatch(t,e){return Hu(t).get(e).next(i=>i?(gt(i.userId===this.userId),vh(this.serializer,i)):null)}Sn(t,e){return this.Vn[e]?ae.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Vn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Hu(t).X({index:"userMutationsIndex",range:r},(u,h,_)=>{h.userId===this.userId&&(gt(h.batchId>=i),s=vh(this.serializer,h)),_.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Hu(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,s,u)=>{i=s.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hu(t).j("userMutationsIndex",e).next(i=>i.map(r=>vh(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=mc(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return jp(t).X({range:r},(u,h,_)=>{const[b,E,S]=u,O=Io(E);if(b===this.userId&&e.path.isEqual(O))return Hu(t).get(S).next(B=>{if(!B)throw dt();gt(B.userId===this.userId),s.push(vh(this.serializer,B))});_.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new oi(Bt);const r=[];return e.forEach(s=>{const u=mc(this.userId,s.path),h=IDBKeyRange.lowerBound(u),_=jp(t).X({range:h},(b,E,S)=>{const[O,B,z]=b,q=Io(B);O===this.userId&&s.path.isEqual(q)?i=i.add(z):S.done()});r.push(_)}),ae.waitFor(r).next(()=>this.Dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=mc(this.userId,i),u=IDBKeyRange.lowerBound(s);let h=new oi(Bt);return jp(t).X({range:u},(_,b,E)=>{const[S,O,B]=_,z=Io(O);S===this.userId&&i.isPrefixOf(z)?z.length===r&&(h=h.add(B)):E.done()}).next(()=>this.Dn(t,h))}Dn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(Hu(t).get(s).next(u=>{if(null===u)throw dt();gt(u.userId===this.userId),i.push(vh(this.serializer,u))}))}),ae.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return YT(t.ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),ae.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ae.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return jp(t).X({range:i},(s,u,h)=>{if(s[0]===this.userId){const _=Io(s[1]);r.push(_)}else h.done()}).next(()=>{gt(0===r.length)})})}containsKey(t,e){return WT(t,this.userId,e)}xn(t){return xC(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function WT(n,t,e){const i=mc(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let u=!1;return jp(n).X({range:s,Y:!0},(h,_,b)=>{const[E,S,O]=h;E===t&&S===r&&(u=!0),b.done()}).next(()=>u)}function Hu(n){return nr(n,"mutations")}function jp(n){return nr(n,"documentMutations")}function xC(n){return nr(n,"mutationQueues")}class zu{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new zu(0)}static Mn(){return new zu(-1)}}class O1{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const i=new zu(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>Dt.fromTimestamp(new mi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.$n(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(i=>(i.targetCount+=1,this.Bn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>$p(t).delete(e.targetId)).next(()=>this.$n(t)).next(i=>(gt(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return $p(t).X((u,h)=>{const _=Vp(h);_.sequenceNumber<=e&&null===i.get(_.targetId)&&(r++,s.push(this.removeTargetData(t,_)))}).next(()=>ae.waitFor(s)).next(()=>r)}forEachTarget(t,e){return $p(t).X((i,r)=>{const s=Vp(r);e(s)})}$n(t){return EC(t).get("targetGlobalKey").next(e=>(gt(null!==e),e))}On(t,e){return EC(t).put("targetGlobalKey",e)}Fn(t,e){return $p(t).put(HT(this.serializer,e))}Bn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const i=yc(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return $p(t).X({range:r,index:"queryTargetsIndex"},(u,h,_)=>{const b=Vp(h);pa(e,b.target)&&(s=b,_.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=ju(t);return e.forEach(u=>{const h=Ui(u.path);r.push(s.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),ae.waitFor(r)}removeMatchingKeys(t,e,i){const r=ju(t);return ae.forEach(e,s=>{const u=Ui(s.path);return ae.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=ju(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=ju(t);let s=Kt();return r.X({range:i,Y:!0},(u,h,_)=>{const b=Io(u[1]),E=new nt(b);s=s.add(E)}).next(()=>s)}containsKey(t,e){const i=Ui(e.path),r=IDBKeyRange.bound([i],[YM(i)],!1,!0);let s=0;return ju(t).X({index:"documentTargetsIndex",Y:!0,range:r},([u,h],_,b)=>{0!==u&&(s++,b.done())}).next(()=>s>0)}le(t,e){return $p(t).get(e).next(i=>i?Vp(i):null)}}function $p(n){return nr(n,"targets")}function EC(n){return nr(n,"targetGlobal")}function ju(n){return nr(n,"targetDocuments")}function KT([n,t],[e,i]){const r=Bt(n,e);return 0===r?Bt(t,i):r}class P1{constructor(t){this.Ln=t,this.buffer=new oi(KT),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();KT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Uv{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;Be("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,ge.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){rl(i)?Be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Tu(i)}yield e.Qn(3e5)}))}}class DC{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ae.resolve(gi.ct);const i=new P1(e);return this.jn.forEachTarget(t,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(t,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(ZT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZT):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let i,r,s,u,h,_,b;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,u=Date.now(),this.nthSequenceNumber(t,r))).next(S=>(i=S,h=Date.now(),this.removeTargets(t,i,e))).next(S=>(s=S,_=Date.now(),this.removeOrphanedDocuments(t,i))).next(S=>(b=Date.now(),Dg()<=Fs.in.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-E}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${s} targets in `+(_-h)+`ms\n\tRemoved ${S} documents in `+(b-_)+`ms\nTotal Duration: ${b-E}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:S})))}}class IC{constructor(t,e){this.db=t,this.garbageCollector=function TC(n,t){return new DC(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Jn(t){let e=0;return this.Wn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(i,r)=>e(r))}addReference(t,e,i){return Hv(t,i)}removeReference(t,e,i){return Hv(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return Hv(t,e)}Xn(t,e){return function(i,r){let s=!1;return xC(i).Z(u=>WT(i,u,r).next(h=>(h&&(s=!0),ae.resolve(!h)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(t,(u,h)=>{if(h<=e){const _=this.Xn(t,u).next(b=>{if(!b)return s++,i.getEntry(t,u).next(()=>(i.removeEntry(u,Dt.min()),ju(t).delete([0,Ui(u.path)])))});r.push(_)}}).next(()=>ae.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return Hv(t,e)}Yn(t,e){const i=ju(t);let r,s=gi.ct;return i.X({index:"documentTargetsIndex"},([u,h],{path:_,sequenceNumber:b})=>{0===u?(s!==gi.ct&&e(new nt(Io(r)),s),s=b,r=_):s=gi.ct}).next(()=>{s!==gi.ct&&e(new nt(Io(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Hv(n,t){return ju(n).put((i=n.currentSequenceNumber,{targetId:0,path:Ui(t.path),sequenceNumber:i}));var i}class QT{constructor(){this.changes=new ll(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Wn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ae.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class SC{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return $u(t).put(i)}removeEntry(t,e,i){return $u(t).delete(function(r,s){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],qg(s),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Zn(t,i)))}getEntry(t,e){let i=Wn.newInvalidDocument(e);return $u(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Xg(e))},(r,s)=>{i=this.ts(e,s)}).next(()=>i)}es(t,e){let i={size:0,document:Wn.newInvalidDocument(e)};return $u(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Xg(e))},(r,s)=>{i={document:this.ts(e,s),size:Bv(s)}}).next(()=>i)}getEntries(t,e){let i=ao();return this.ns(t,e,(r,s)=>{const u=this.ts(r,s);i=i.insert(r,u)}).next(()=>i)}ss(t,e){let i=ao(),r=new Un(nt.comparator);return this.ns(t,e,(s,u)=>{const h=this.ts(s,u);i=i.insert(s,h),r=r.insert(s,Bv(u))}).next(()=>({documents:i,rs:r}))}ns(t,e,i){if(e.isEmpty())return ae.resolve();let r=new oi(zv);e.forEach(_=>r=r.add(_));const s=IDBKeyRange.bound(Xg(r.first()),Xg(r.last())),u=r.getIterator();let h=u.getNext();return $u(t).X({index:"documentKeyIndex",range:s},(_,b,E)=>{const S=nt.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;h&&zv(h,S)<0;)i(h,null),h=u.getNext();h&&h.isEqual(S)&&(i(h,b),h=u.hasNext()?u.getNext():null),h?E.G(Xg(h)):E.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const s=e.path,u=[s.popLast().toArray(),s.lastSegment(),qg(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],h=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $u(t).j(IDBKeyRange.bound(u,h,!0)).next(_=>{let b=ao();for(const E of _){const S=this.ts(nt.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);S.isFoundDocument()&&(Ug(e,S)||r.has(S.key))&&(b=b.insert(S.key,S))}return b})}getAllFromCollectionGroup(t,e,i,r){let s=ao();const u=N1(e,i),h=N1(e,ps.max());return $u(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(_,b,E)=>{const S=this.ts(nt.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);s=s.insert(S.key,S),s.size===r&&E.done()}).next(()=>s)}newChangeBuffer(t){return new XT(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return wh(t).get("remoteDocumentGlobalKey").next(e=>(gt(!!e),e))}Zn(t,e){return wh(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const i=function x1(n,t){let e;if(t.document)e=pC(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=nt.fromSegments(t.noDocument.path),r=Vu(t.noDocument.readTime);e=Wn.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return dt();{const i=nt.fromSegments(t.unknownDocument.path),r=Vu(t.unknownDocument.version);e=Wn.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new mi(i[0],i[1]);return Dt.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(Dt.min()))return i}return Wn.newInvalidDocument(t)}}function JT(n){return new SC(n)}class XT extends QT{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new ll(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new oi((s,u)=>Bt(s.canonicalString(),u.canonicalString()));return this.changes.forEach((s,u)=>{const h=this.us.get(s);if(e.push(this.os.removeEntry(t,s,h.readTime)),u.isValidDocument()){const _=UT(this.os.serializer,u);r=r.add(s.path.popLast());const b=Bv(_);i+=b-h.size,e.push(this.os.addEntry(t,s,_))}else if(i-=h.size,this.trackRemovals){const _=UT(this.os.serializer,u.convertToNoDocument(Dt.min()));e.push(this.os.addEntry(t,s,_))}}),r.forEach(s=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.os.updateMetadata(t,i)),ae.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(i=>(this.us.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:i,rs:r})=>(r.forEach((s,u)=>{this.us.set(s,{size:u,readTime:i.get(s).readTime})}),i))}}function wh(n){return nr(n,"remoteDocumentGlobal")}function $u(n){return nr(n,"remoteDocumentsV14")}function Xg(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function N1(n,t){const e=t.documentKey.path.toArray();return[n,qg(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function zv(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=Bt(e[s],i[s]),r)return r;return r=Bt(e.length,i.length),r||(r=Bt(e[e.length-2],i[i.length-2]),r||Bt(e[e.length-1],i[i.length-1]))}class AC{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class eI{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&Mp(i.mutation,r,Go.empty(),mi.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Kt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Kt()){const r=ma();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let u=qo();return s.forEach((h,_)=>{u=u.insert(h,_.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=ma();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Kt()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let s=ao();const u=Ao(),h=Ao();return e.forEach((_,b)=>{const E=i.get(b.key);r.has(b.key)&&(void 0===E||E.mutation instanceof ul)?s=s.insert(b.key,b):void 0!==E?(u.set(b.key,E.mutation.getFieldMask()),Mp(E.mutation,b,E.mutation.getFieldMask(),mi.now())):u.set(b.key,Go.empty())}),this.recalculateAndSaveOverlays(t,s).next(_=>(_.forEach((b,E)=>u.set(b,E)),e.forEach((b,E)=>{var S;return h.set(b,new AC(E,null!==(S=u.get(b))&&void 0!==S?S:null))}),h))}recalculateAndSaveOverlays(t,e){const i=Ao();let r=new Un((u,h)=>u-h),s=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(_=>{const b=e.get(_);if(null===b)return;let E=i.get(_)||Go.empty();E=h.applyToLocalView(b,E),i.set(_,E);const S=(r.get(h.batchId)||Kt()).add(_);r=r.insert(h.batchId,S)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const _=h.getNext(),b=_.key,E=_.value,S=ga();E.forEach(O=>{if(!s.has(O)){const B=tC(e.get(O),i.get(O));null!==B&&S.set(O,B),s=s.add(O)}}),u.push(this.documentOverlayCache.saveOverlays(t,b,S))}return ae.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return nt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):wv(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const u=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):ae.resolve(ma());let h=-1,_=s;return u.next(b=>ae.forEach(b,(E,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),s.get(E)?ae.resolve():this.remoteDocumentCache.getEntry(t,E).next(O=>{_=_.insert(E,O)}))).next(()=>this.populateOverlays(t,b,s)).next(()=>this.computeViews(t,_,b,Kt())).next(E=>({batchId:h,changes:mT(E)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new nt(e)).next(i=>{let r=qo();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=qo();return this.indexManager.getCollectionParents(t,r).next(u=>ae.forEach(u,h=>{const _=(b=e,E=h.child(r),new Pu(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,E;return this.getDocumentsMatchingCollectionQuery(t,_,i).next(b=>{b.forEach((E,S)=>{s=s.insert(E,S)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(s=>{r.forEach((h,_)=>{const b=_.getKey();null===s.get(b)&&(s=s.insert(b,Wn.newInvalidDocument(b)))});let u=qo();return s.forEach((h,_)=>{const b=r.get(h);void 0!==b&&Mp(b.mutation,_,Go.empty(),mi.now()),Ug(e,_)&&(u=u.insert(h,_))}),u})}}class tI{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return ae.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:ji(i.createTime)}),ae.resolve()}getNamedQuery(t,e){return ae.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:_C(i.bundledQuery),readTime:ji(i.readTime)}),ae.resolve();var i}}class nI{constructor(){this.overlays=new Un(nt.comparator),this.ls=new Map}getOverlay(t,e){return ae.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ma();return ae.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.we(t,e,s)}),ae.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),ae.resolve()}getOverlaysForCollection(t,e,i){const r=ma(),s=e.length+1,u=new nt(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const _=h.getNext().value,b=_.getKey();if(!e.isPrefixOf(b.path))break;b.path.length===s&&_.largestBatchId>i&&r.set(_.getKey(),_)}return ae.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Un((b,E)=>b-E);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===e&&b.largestBatchId>i){let E=s.get(b.largestBatchId);null===E&&(E=ma(),s=s.insert(b.largestBatchId,E)),E.set(b.getKey(),b)}}const h=ma(),_=s.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,E)=>h.set(b,E)),!(h.size()>=r)););return ae.resolve(h)}we(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new sC(e,i));let s=this.ls.get(e);void 0===s&&(s=Kt(),this.ls.set(e,s)),this.ls.set(e,s.add(i.key))}}class MC{constructor(){this.fs=new oi(hr.ds),this.ws=new oi(hr._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new hr(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new hr(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new nt(new fn([])),i=new hr(e,t),r=new hr(e,t+1),s=[];return this.ws.forEachInRange([i,r],u=>{this.ys(u),s.push(u.key)}),s}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new nt(new fn([])),i=new hr(e,t),r=new hr(e,t+1);let s=Kt();return this.ws.forEachInRange([i,r],u=>{s=s.add(u.key)}),s}containsKey(t){const e=new hr(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class hr{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return nt.comparator(t.key,e.key)||Bt(t.As,e.As)}static _s(t,e){return Bt(t.As,e.As)||nt.comparator(t.key,e.key)}}class RC{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new oi(hr.ds)}checkEmpty(t){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.vs;this.vs++;const u=new rC(s,e,i,r);this.mutationQueue.push(u);for(const h of r)this.Rs=this.Rs.add(new hr(h.key,s)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(t,e){return ae.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.bs(e+1),s=r<0?0:r;return ae.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new hr(e,0),r=new hr(e,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],u=>{const h=this.Ps(u.As);s.push(h)}),ae.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new oi(Bt);return e.forEach(r=>{const s=new hr(r,0),u=new hr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,u],h=>{i=i.add(h.As)})}),ae.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;nt.isDocumentKey(s)||(s=s.child(""));const u=new hr(new nt(s),0);let h=new oi(Bt);return this.Rs.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(h=h.add(_.As)),!0)},u),ae.resolve(this.Vs(h))}Vs(t){const e=[];return t.forEach(i=>{const r=this.Ps(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){gt(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ae.forEach(e.mutations,r=>{const s=new hr(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new hr(e,0),r=this.Rs.firstAfterOrEqual(i);return ae.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ae.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class iI{constructor(t){this.Ds=t,this.docs=new Un(nt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,u=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ae.resolve(i?i.document.mutableCopy():Wn.newInvalidDocument(e))}getEntries(t,e){let i=ao();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Wn.newInvalidDocument(r))}),ae.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=ao();const u=e.path,h=new nt(u.child("")),_=this.docs.getIteratorFrom(h);for(;_.hasNext();){const{key:b,value:{document:E}}=_.getNext();if(!u.isPrefixOf(b.path))break;b.path.length>u.length+1||Aw(qD(E),i)<=0||(r.has(E.key)||Ug(e,E))&&(s=s.insert(E.key,E.mutableCopy()))}return ae.resolve(s)}getAllFromCollectionGroup(t,e,i,r){dt()}Cs(t,e){return ae.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new rI(this)}getSize(t){return ae.resolve(this.size)}}class rI extends QT{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.os.addEntry(t,r)):this.os.removeEntry(i)}),ae.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class oI{constructor(t){this.persistence=t,this.xs=new ll(e=>yc(e),pa),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new MC,this.targetCount=0,this.Ms=zu.kn()}forEachTarget(t,e){return this.xs.forEach((i,r)=>e(r)),ae.resolve()}getLastRemoteSnapshotVersion(t){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ae.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),ae.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new zu(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,ae.resolve()}updateTargetData(t,e){return this.Fn(e),ae.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,ae.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.xs.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.xs.delete(u),s.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),ae.waitFor(s).next(()=>r)}getTargetCount(t){return ae.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return ae.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),ae.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(u=>{s.push(r.markPotentiallyOrphaned(t,u))}),ae.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),ae.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return ae.resolve(i)}containsKey(t,e){return ae.resolve(this.ks.containsKey(e))}}class jv{constructor(t,e){this.$s={},this.overlays={},this.Os=new gi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new oI(this),this.indexManager=new R1,this.remoteDocumentCache=new iI(i=>this.referenceDelegate.Ls(i)),this.serializer=new VT(e),this.qs=new tI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new nI,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new RC(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){Be("MemoryPersistence","Starting transaction:",t);const r=new F1(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(t,e){return ae.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class F1 extends Rw{constructor(t){super(),this.currentSequenceNumber=t}}class $v{constructor(t){this.persistence=t,this.Qs=new MC,this.js=null}static zs(t){return new $v(t)}get Ws(){if(this.js)return this.js;throw dt()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),ae.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),ae.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ws,i=>{const r=nt.fromPath(i);return this.Hs(t,r).next(s=>{s||e.removeEntry(r,Dt.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return ae.or([()=>ae.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class L1{constructor(t){this.serializer=t}O(t,e,i,r){const s=new kw("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",lh,{unique:!0}),h.createObjectStore("documentMutations"),kC(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=ae.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),kC(t)),u=u.next(()=>function(h){const _=h.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(s))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,_){return _.store("mutations").j().next(b=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",lh,{unique:!0});const E=_.store("mutations"),S=b.map(O=>E.put(O));return ae.waitFor(S)})}(t,s))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Ys(s))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(s)))),i<7&&r>=7&&(u=u.next(()=>this.Zs(s))),i<8&&r>=8&&(u=u.next(()=>this.ti(t,s))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.ei(s))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const _=h.createObjectStore("documentOverlays",{keyPath:CP});_.createIndex("collectionPathOverlayIndex",e1,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",t1,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(h){const _=h.createObjectStore("remoteDocumentsV14",{keyPath:WD});_.createIndex("documentKeyIndex",KD),_.createIndex("collectionGroupIndex",QD)}(t)).next(()=>this.ni(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.si(t,s))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:nT}).createIndex("sequenceNumberIndex",Ow,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:XM}).createIndex("documentKeyIndex",wP,{unique:!1})}(t))),u}Xs(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=Bv(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>ae.forEach(r,s=>{const u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",u).next(h=>ae.forEach(h,_=>{gt(_.userId===s.userId);const b=vh(this.serializer,_);return YT(t,s.userId,b).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((u,h)=>{const _=new fn(u),b=[0,Ui(_)];s.push(e.get(b).next(E=>E?ae.resolve():e.put({targetId:0,path:Ui(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ae.waitFor(s))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:tT});const i=e.store("collectionParents"),r=new Lv,s=u=>{if(r.add(u)){const h=u.lastSegment(),_=u.popLast();return i.put({collectionId:h,parent:Ui(_)})}};return e.store("remoteDocuments").X({Y:!0},(u,h)=>{const _=new fn(u);return s(_.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([u,h,_],b)=>{const E=Io(h);return s(E.popLast())}))}ei(t){const e=t.store("targets");return e.X((i,r)=>{const s=Vp(r),u=HT(this.serializer,s);return e.put(u)})}ni(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((s,u)=>{const h=e.store("remoteDocumentsV14"),_=(b=u,b.document?new nt(fn.fromString(b.document.name).popFirst(5)):b.noDocument?nt.fromSegments(b.noDocument.path):b.unknownDocument?nt.fromSegments(b.unknownDocument.path):dt()).path.toArray();var b;const E={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(E))}).next(()=>ae.waitFor(r))}si(t,e){const i=e.store("mutations"),r=JT(this.serializer),s=new jv($v.zs,this.serializer.fe);return i.j().next(u=>{const h=new Map;return u.forEach(_=>{var b;let E=null!==(b=h.get(_.userId))&&void 0!==b?b:Kt();vh(this.serializer,_).keys().forEach(S=>E=E.add(S)),h.set(_.userId,E)}),ae.forEach(h,(_,b)=>{const E=new Yn(b),S=Ov.de(this.serializer,E),O=s.getIndexManager(E),B=Vv.de(E,this.serializer,O,s.referenceDelegate);return new eI(r,B,S,O).recalculateAndSaveOverlaysForDocumentKeys(new Pw(e,gi.ct),_).next()})})}}function kC(n){n.createObjectStore("targetDocuments",{keyPath:XD}).createIndex("documentTargetsIndex",eT,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",JD,{unique:!0}),n.createObjectStore("targetGlobal")}const sI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class qv{constructor(t,e,i,r,s,u,h,_,b,E,S=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ii=s,this.window=u,this.document=h,this.ri=b,this.oi=E,this.ui=S,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=O=>Promise.resolve(),!qv.D())throw new De(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new IC(this,r),this.di=e+"main",this.serializer=new VT(_),this.wi=new $o(this.di,this.ui,new L1(this.serializer)),this.Bs=new O1(this.referenceDelegate,this.serializer),this.remoteDocumentCache=JT(this.serializer),this.qs=new TP,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===E&&Vi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new De(de.FAILED_PRECONDITION,sI);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new gi(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var i=(0,ge.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,ge.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,ge.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Zv(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(rl(t))return Be("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return e_(t).get("owner").next(e=>ae.resolve(this.Ri(e)))}Pi(t){return Zv(t).delete(this.clientId)}bi(){var t=this;return(0,ge.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=nr(i,"clientMetadata");return r.j().next(s=>{const u=t.Si(s,18e5),h=s.filter(_=>-1===u.indexOf(_));return ae.forEach(h,_=>r.delete(_.clientId)).next(()=>h)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?ae.resolve(!0):e_(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new De(de.FAILED_PRECONDITION,sI);return!1}}return!(!this.networkEnabled||!this.inForeground)||Zv(t).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Be("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ge.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new Pw(e,gi.ct);return t.Ai(i).next(()=>t.Pi(i))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(i=>this.Vi(i.updateTimeMs,e)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>Zv(t).j().next(e=>this.Si(e,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return Vv.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new k1(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return Ov.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,i){Be("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(u=this.ui)?s1:14===u?iT:13===u?o1:12===u?r1:11===u?n1:void dt();var u;let h;return this.wi.runTransaction(t,r,s,_=>(h=new Pw(_,this.Os?this.Os.next():gi.ct),"readwrite-primary"===e?this.Ti(h).next(b=>!!b||this.Ei(h)).next(b=>{if(!b)throw Vi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new De(de.FAILED_PRECONDITION,Mw);return i(h)}).next(b=>this.vi(h).next(()=>b)):this.Oi(h).next(()=>i(h)))).then(_=>(h.raiseOnCommittedEvent(),_))}Oi(t){return e_(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new De(de.FAILED_PRECONDITION,sI)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return e_(t).put("owner",e)}static D(){return $o.D()}Ai(t){const e=e_(t);return e.get("owner").next(i=>this.Ri(i)?(Be("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ae.resolve())}Vi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Vi(`Detected an update time that is in the future: ${t} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,qt.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return Be("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Vi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){Vi("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function e_(n){return nr(n,"owner")}function Zv(n){return nr(n,"clientMetadata")}function aI(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class OC{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=r}static Li(t,e){let i=Kt(),r=Kt();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new OC(t,e.fromCache,i,r)}}class lI{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ki(t,e).next(s=>s||this.Gi(t,e,r,i)).next(s=>s||this.Qi(t,e))}Ki(t,e){if(qw(e))return ae.resolve(null);let i=So(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=xv(e,null,"F"),i=So(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const u=Kt(...s);return this.Ui.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(_=>{const b=this.ji(e,h);return this.zi(e,b,u,_.readTime)?this.Ki(t,xv(e,null,"F")):this.Wi(t,b,e,_)}))})))}Gi(t,e,i,r){return qw(e)||r.isEqual(Dt.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(s=>{const u=this.ji(e,s);return this.zi(e,u,i,r)?this.Qi(t,e):(Dg()<=Fs.in.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Nu(e)),this.Wi(t,u,e,GD(r,-1)))})}ji(t,e){let i=new oi(Ww(t));return e.forEach((r,s)=>{Ug(t,s)&&(i=i.add(s))}),i}zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(t,e){return Dg()<=Fs.in.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",Nu(e)),this.Ui.getDocumentsMatchingQuery(t,e,ps.min())}Wi(t,e,i,r){return this.Ui.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(u=>{s=s.insert(u.key,u)}),s))}}class cI{constructor(t,e,i,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new Un(Bt),this.Yi=new ll(s=>yc(s),pa),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eI(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function uI(n,t,e,i){return new cI(n,t,e,i)}function dI(n,t){return PC.apply(this,arguments)}function PC(){return PC=(0,ge.Z)(function*(n,t){const e=et(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const u=[],h=[];let _=Kt();for(const b of r){u.push(b.batchId);for(const E of b.mutations)_=_.add(E.key)}for(const b of s){h.push(b.batchId);for(const E of b.mutations)_=_.add(E.key)}return e.localDocuments.getDocuments(i,_).next(b=>({er:b,removedBatchIds:u,addedBatchIds:h}))})})}),PC.apply(this,arguments)}function hI(n){const t=et(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function fI(n,t,e){let i=Kt(),r=Kt();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let u=ao();return e.forEach((h,_)=>{const b=s.get(h);_.isFoundDocument()!==b.isFoundDocument()&&(r=r.add(h)),_.isNoDocument()&&_.version.isEqual(Dt.min())?(t.removeEntry(h,_.readTime),u=u.insert(h,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(t.addEntry(_),u=u.insert(h,_)):Be("LocalStore","Ignoring outdated watch update for ",h,". Current version:",b.version," Watch version:",_.version)}),{nr:u,sr:r}})}function U1(n,t){const e=et(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Gp(n,t){const e=et(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Bs.getTargetData(i,t).next(s=>s?(r=s,ae.resolve(r)):e.Bs.allocateTargetId(i).next(u=>(r=new ms(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function fl(n,t,e){return Yv.apply(this,arguments)}function Yv(){return Yv=(0,ge.Z)(function*(n,t,e){const i=et(n),r=i.Ji.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!rl(u))throw u;Be("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}),Yv.apply(this,arguments)}function t_(n,t,e){const i=et(n);let r=Dt.min(),s=Kt();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,_,b){const E=et(h),S=E.Yi.get(b);return void 0!==S?ae.resolve(E.Ji.get(S)):E.Bs.getTargetData(_,b)}(i,u,So(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(u,h.targetId).next(_=>{s=_})}).next(()=>i.Hi.getDocumentsMatchingQuery(u,t,e?r:Dt.min(),e?s:Kt())).next(h=>(LC(i,pT(t),h),{documents:h,ir:s})))}function NC(n,t){const e=et(n),i=et(e.Bs),r=e.Ji.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.le(s,t).next(u=>u?u.target:null))}function FC(n,t){const e=et(n),i=e.Xi.get(t)||Dt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Zi.getAllFromCollectionGroup(r,t,GD(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(LC(e,t,r),r))}function LC(n,t,e){let i=n.Xi.get(t)||Dt.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(t,i)}function BC(){return BC=(0,ge.Z)(function*(n,t,e,i){const r=et(n);let s=Kt(),u=ao();for(const b of e){const E=t.rr(b.metadata.name);b.document&&(s=s.add(E));const S=t.ur(b);S.setReadTime(t.cr(b.metadata.readTime)),u=u.insert(E,S)}const h=r.Zi.newChangeBuffer({trackRemovals:!0}),_=yield Gp(r,(b=i,So(Tp(fn.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>fI(b,h,u).next(E=>(h.apply(b),E)).next(E=>r.Bs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>r.Bs.addMatchingKeys(b,s,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(b,E.nr,E.sr)).next(()=>E.nr)))}),BC.apply(this,arguments)}function IP(n,t){return Wv.apply(this,arguments)}function Wv(){return Wv=(0,ge.Z)(function*(n,t,e=Kt()){const i=yield Gp(n,So(_C(t.bundledQuery))),r=et(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const u=ji(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.qs.saveNamedQuery(s,t);const h=i.withResumeToken(Hi.EMPTY_BYTE_STRING,u);return r.Ji=r.Ji.insert(h.targetId,h),r.Bs.updateTargetData(s,h).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,e,i.targetId)).next(()=>r.qs.saveNamedQuery(s,t))})}),Wv.apply(this,arguments)}function VC(n,t){return`firestore_clients_${n}_${t}`}function UC(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function HC(n,t){return`firestore_targets_${n}_${t}`}class Kv{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static ar(t,e,i){const r=JSON.parse(i);let s,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new De(r.error.code,r.error.message))),u?new Kv(t,e,r.state,s):(Vi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class wc{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static ar(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new De(i.error.code,i.error.message))),s?new wc(t,i.state,r):(Vi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Qv{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=Kw();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=sh(i.activeTargetIds[u]),s=s.add(i.activeTargetIds[u]);return r?new Qv(t,s):(Vi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class n_{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new n_(e.clientId,e.onlineState):(Vi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Vs{constructor(){this.activeTargetIds=Kw()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zC{constructor(t,e,i,r,s){this.window=t,this.ii=e,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Un(Bt),this.started=!1,this.yr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=VC(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Vs),this.Tr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ge.Z)(function*(){const e=yield t.syncEngine.$i();for(const r of e){if(r===t.wr)continue;const s=t.getItem(VC(t.persistenceKey,r));if(s){const u=Qv.ar(r,s);u&&(t.gr=t.gr.insert(u.clientId,u))}}t.Pr();const i=t.storage.getItem(t.vr);if(i){const r=t.br(i);r&&t.Vr(r)}for(const r of t.yr)t.mr(r);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,i){this.Dr(t,e,i),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(HC(this.persistenceKey,t));if(i){const r=wc.ar(t,i);r&&(e=r.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(HC(this.persistenceKey,t))}updateQueryState(t,e,i){this.kr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Cr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Be("SharedClientState","READ",t,e),e}setItem(t,e){Be("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Be("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Be("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void Vi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ge.Z)(function*(){if(e.started){if(null!==i.key)if(e.Tr.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.Fr(r,null)}{const r=e.Br(i.key,i.newValue);if(r)return e.Fr(r.clientId,r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.Lr(i.key,i.newValue);if(r)return e.qr(r)}}else if(e.Ar.test(i.key)){if(null!==i.newValue){const r=e.Ur(i.key,i.newValue);if(r)return e.Kr(r)}}else if(i.key===e.vr){if(null!==i.newValue){const r=e.br(i.newValue);if(r)return e.Vr(r)}}else if(i.key===e.Ir){const r=function(s){let u=gi.ct;if(null!=s)try{const h=JSON.parse(s);gt("number"==typeof h),u=h}catch(h){Vi("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==gi.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Gr(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Qr(s)))}}else e.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,i){const r=new Kv(this.currentUser,t,e,i),s=UC(this.persistenceKey,this.currentUser,t);this.setItem(s,r.hr())}Cr(t){const e=UC(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,i){const r=HC(this.persistenceKey,t),s=new wc(t,e,i);this.setItem(r,s.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const i=this.Or(t);return Qv.ar(i,e)}Lr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return Kv.ar(new Yn(void 0!==i[2]?i[2]:null),r,e)}Ur(t,e){const i=this.Ar.exec(t),r=Number(i[1]);return wc.ar(r,e)}br(t){return n_.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,ge.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);Be("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const i=e?this.gr.insert(t,e):this.gr.remove(t),r=this.Sr(this.gr),s=this.Sr(i),u=[],h=[];return s.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{s.has(_)||h.push(_)}),this.syncEngine.Wr(u,h).then(()=>{this.gr=i})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=Kw();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class i_{constructor(){this.Hr=new Vs,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new Vs,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class r_{Yr(t){}shutdown(){}}class mI{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Jv=null;function jC(){return null===Jv?Jv=268435456+Math.round(2147483648*Math.random()):Jv++,"0x"+Jv.toString(16)}const Xv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gI{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const co="WebChannelConnection";class H1 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,r,s){const u=jC(),h=this.To(t,e);Be("RestConnection",`Sending RPC '${t}' ${u}:`,h,i);const _={};return this.Eo(_,r,s),this.Ao(t,h,_,i).then(b=>(Be("RestConnection",`Received RPC '${t}' ${u}: `,b),b),b=>{throw da("RestConnection",`RPC '${t}' ${u} failed with error: `,b,"url: ",h,"request:",i),b})}vo(t,e,i,r,s,u){return this.Io(t,e,i,r,s)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+mp,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}To(t,e){return`${this.mo}/v1/${e}:${Xv[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,r){const s=jC();return new Promise((u,h)=>{const _=new VD;_.setWithCredentials(!0),_.listenOnce(BD.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case tv.NO_ERROR:const E=_.getResponseJson();Be(co,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(E)),u(E);break;case tv.TIMEOUT:Be(co,`RPC '${t}' ${s} timed out`),h(new De(de.DEADLINE_EXCEEDED,"Request time out"));break;case tv.HTTP_ERROR:const S=_.getStatus();if(Be(co,`RPC '${t}' ${s} failed with status:`,S,"response text:",_.getResponseText()),S>0){let O=_.getResponseJson();Array.isArray(O)&&(O=O[0]);const B=O?.error;if(B&&B.status&&B.message){const z=function(q){const W=q.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(W)>=0?W:de.UNKNOWN}(B.status);h(new De(z,B.message))}else h(new De(de.UNKNOWN,"Server responded with status "+_.getStatus()))}else h(new De(de.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{Be(co,`RPC '${t}' ${s} completed.`)}});const b=JSON.stringify(r);Be(co,`RPC '${t}' ${s} sending request:`,r),_.send(e,"POST",b,i,15)})}Ro(t,e,i){const r=jC(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=LD(),h=HM(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;void 0!==b&&(_.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(_.xmlHttpFactory=new bP({})),this.Eo(_.initMessageHeaders,e,i),_.encodeInitMessageHeaders=!0;const E=s.join("");Be(co,`Creating RPC '${t}' stream ${r}: ${E}`,_);const S=u.createWebChannel(E,_);let O=!1,B=!1;const z=new gI({ro:W=>{B?Be(co,`Not sending because RPC '${t}' stream ${r} is closed:`,W):(O||(Be(co,`Opening RPC '${t}' stream ${r} transport.`),S.open(),O=!0),Be(co,`RPC '${t}' stream ${r} sending:`,W),S.send(W))},oo:()=>S.close()}),q=(W,Re,We)=>{W.listen(Re,Pe=>{try{We(Pe)}catch(Ge){setTimeout(()=>{throw Ge},0)}})};return q(S,Eg.EventType.OPEN,()=>{B||Be(co,`RPC '${t}' stream ${r} transport opened.`)}),q(S,Eg.EventType.CLOSE,()=>{B||(B=!0,Be(co,`RPC '${t}' stream ${r} transport closed`),z.wo())}),q(S,Eg.EventType.ERROR,W=>{B||(B=!0,da(co,`RPC '${t}' stream ${r} transport errored:`,W),z.wo(new De(de.UNAVAILABLE,"The operation could not be completed")))}),q(S,Eg.EventType.MESSAGE,W=>{var Re;if(!B){const We=W.data[0];gt(!!We);const Ge=We.error||(null===(Re=We[0])||void 0===Re?void 0:Re.error);if(Ge){Be(co,`RPC '${t}' stream ${r} received error:`,Ge);const It=Ge.status;let Pt=function(Gi){const Ko=ir[Gi];if(void 0!==Ko)return ST(Ko)}(It),gn=Ge.message;void 0===Pt&&(Pt=de.INTERNAL,gn="Unknown error status: "+It+" with message "+Ge.message),B=!0,z.wo(new De(Pt,gn)),S.close()}else Be(co,`RPC '${t}' stream ${r} received:`,We),z._o(We)}}),q(h,nv.STAT_EVENT,W=>{W.stat===iv.PROXY?Be(co,`RPC '${t}' stream ${r} detected buffering proxy`):W.stat===iv.NOPROXY&&Be(co,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{z.fo()},0),z}}function eb(){return typeof window<"u"?window:null}function tb(){return typeof document<"u"?document:null}function o_(n){return new DP(n,!0)}class nb{constructor(t,e,i=1e3,r=1.5,s=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-i);r>0&&Be("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class _I{constructor(t,e,i,r,s,u,h,_){this.ii=t,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new nb(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,ge.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,ge.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,ge.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===de.RESOURCE_EXHAUSTED?(Vi(e.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===de.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===e&&this.Zo(i,r)},i=>{t(()=>{const r=new De(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var t=this;this.state=5,this.qo.No((0,ge.Z)(function*(){t.state=0,t.start()}))}tu(t){return Be("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z1 extends _I{constructor(t,e,i,r,s,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.serializer=s}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function PT(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(_=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:dt(),r=t.targetChange.targetIds||[],s=function(_,b){return _.useProto3Json?(gt(void 0===b||"string"==typeof b),Hi.fromBase64String(b||"")):(gt(void 0===b||b instanceof Uint8Array),Hi.fromUint8Array(b||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(_){const b=void 0===_.code?de.UNKNOWN:ST(_.code);return new De(b,_.message||"")}(u);e=new Sv(i,r,s,h||null)}else if("documentChange"in t){const i=t.documentChange,r=hl(n,i.document.name),s=ji(i.document.updateTime),u=i.document.createTime?ji(i.document.createTime):Dt.min(),h=new $r({mapValue:{fields:i.document.fields}}),_=Wn.newFoundDocument(r,s,u,h);e=new jg(i.targetIds||[],i.removedTargetIds||[],_.key,_)}else if("documentDelete"in t){const i=t.documentDelete,r=hl(n,i.document),s=i.readTime?ji(i.readTime):Dt.min(),u=Wn.newNoDocument(r,s);e=new jg([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=hl(n,i.document);e=new jg([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return dt();{const i=t.filter,{count:r=0,unchangedNames:s}=i,u=new g1(r,s);e=new uC(i.targetId,u)}}var _;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return Dt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Dt.min():s.readTime?ji(s.readTime):Dt.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=Kn(this.serializer),e.addTarget=function(r,s){let u;const h=s.target;if(u=Dp(h)?{documents:FT(r,h)}:{query:mC(r,h)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=_1(r,s.resumeToken);const _=Mv(r,s.expectedCount);null!==_&&(u.expectedCount=_)}else if(s.snapshotVersion.compareTo(Dt.min())>0){u.readTime=_h(r,s.snapshotVersion.toTimestamp());const _=Mv(r,s.expectedCount);null!==_&&(u.expectedCount=_)}return u}(this.serializer,t);const i=function Gg(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=Kn(this.serializer),e.removeTarget=t,this.Wo(e)}}class yI extends _I{constructor(t,e,i,r,s,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(gt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function NT(n,t){return n&&n.length>0?(gt(void 0!==t),n.map(e=>function(i,r){let s=ji(i.updateTime?i.updateTime:r);return s.isEqual(Dt.min())&&(s=ji(r)),new eC(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=ji(t.commitTime);return this.listener.cu(i,e)}return gt(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=Kn(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Lp(this.serializer,i))};this.Wo(e)}}class ib extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new De(de.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new De(de.UNKNOWN,r.toString())})}vo(t,e,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.vo(t,e,i,s,u,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new De(de.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class vI{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Vi(e),this.mu=!1):Be("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class bI{constructor(t,e,i,r,s){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(h=>{i.enqueueAndForget((0,ge.Z)(function*(){var _;pl(u)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ge.Z)(function*(b){const E=et(b);E.vu.add(4),yield qp(E),E.bu.set("Unknown"),E.vu.delete(4),yield Ch(E)}),function(b){return _.apply(this,arguments)})(u))}))}),this.bu=new vI(i,r)}}function Ch(n){return rb.apply(this,arguments)}function rb(){return rb=(0,ge.Z)(function*(n){if(pl(n))for(const t of n.Ru)yield t(!0)}),rb.apply(this,arguments)}function qp(n){return ob.apply(this,arguments)}function ob(){return ob=(0,ge.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),ob.apply(this,arguments)}function s_(n,t){const e=et(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),ab(e)?l_(e):Yp(e).Ko()&&GC(e,t))}function a_(n,t){const e=et(n),i=Yp(e);e.Au.delete(t),i.Ko()&&sb(e,t),0===e.Au.size&&(i.Ko()?i.jo():pl(e)&&e.bu.set("Unknown"))}function GC(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Dt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Yp(n).su(t)}function sb(n,t){n.Vu.qt(t),Yp(n).iu(t)}function l_(n){n.Vu=new gh({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),Yp(n).start(),n.bu.gu()}function ab(n){return pl(n)&&!Yp(n).Uo()&&n.Au.size>0}function pl(n){return 0===et(n).vu.size}function lb(n){n.Vu=void 0}function $1(n){return qC.apply(this,arguments)}function qC(){return qC=(0,ge.Z)(function*(n){n.Au.forEach((t,e)=>{GC(n,t)})}),qC.apply(this,arguments)}function G1(n,t){return ZC.apply(this,arguments)}function ZC(){return ZC=(0,ge.Z)(function*(n,t){lb(n),ab(n)?(n.bu.Iu(t),l_(n)):n.bu.set("Unknown")}),ZC.apply(this,arguments)}function wI(n,t,e){return c_.apply(this,arguments)}function c_(){return c_=(0,ge.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof Sv&&2===t.state&&t.cause)try{yield(i=(0,ge.Z)(function*(r,s){const u=s.cause;for(const h of s.targetIds)r.Au.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.Au.delete(h),r.Vu.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){Be("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield u_(n,i)}else if(t instanceof jg?n.Vu.Ht(t):t instanceof uC?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(Dt.min()))try{const i=yield hI(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const u=r.Vu.ce(s);return u.targetChanges.forEach((h,_)=>{if(h.resumeToken.approximateByteSize()>0){const b=r.Au.get(_);b&&r.Au.set(_,b.withResumeToken(h.resumeToken,s))}}),u.targetMismatches.forEach((h,_)=>{const b=r.Au.get(h);if(!b)return;r.Au.set(h,b.withResumeToken(Hi.EMPTY_BYTE_STRING,b.snapshotVersion)),sb(r,h);const E=new ms(b.target,h,_,b.sequenceNumber);GC(r,E)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){Be("RemoteStore","Failed to raise snapshot:",i),yield u_(n,i)}var i}),c_.apply(this,arguments)}function u_(n,t,e){return cb.apply(this,arguments)}function cb(){return cb=(0,ge.Z)(function*(n,t,e){if(!rl(t))throw t;n.vu.add(1),yield qp(n),n.bu.set("Offline"),e||(e=()=>hI(n.localStore)),n.asyncQueue.enqueueRetryable((0,ge.Z)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield Ch(n)}))}),cb.apply(this,arguments)}function YC(n,t){return t().catch(e=>u_(n,e,t))}function xh(n){return WC.apply(this,arguments)}function WC(){return WC=(0,ge.Z)(function*(n){const t=et(n),e=Cc(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;CI(t);)try{const r=yield U1(t.localStore,i);if(null===r){0===t.Eu.length&&e.jo();break}i=r.batchId,xI(t,r)}catch(r){yield u_(t,r)}EI(t)&&KC(t)}),WC.apply(this,arguments)}function CI(n){return pl(n)&&n.Eu.length<10}function xI(n,t){n.Eu.push(t);const e=Cc(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function EI(n){return pl(n)&&!Cc(n).Uo()&&n.Eu.length>0}function KC(n){Cc(n).start()}function DI(n){return Gr.apply(this,arguments)}function Gr(){return Gr=(0,ge.Z)(function*(n){Cc(n).hu()}),Gr.apply(this,arguments)}function Zp(n){return QC.apply(this,arguments)}function QC(){return QC=(0,ge.Z)(function*(n){const t=Cc(n);for(const e of n.Eu)t.uu(e.mutations)}),QC.apply(this,arguments)}function q1(n,t,e){return TI.apply(this,arguments)}function TI(){return TI=(0,ge.Z)(function*(n,t,e){const i=n.Eu.shift(),r=oC.from(i,t,e);yield YC(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield xh(n)}),TI.apply(this,arguments)}function SP(n,t){return ub.apply(this,arguments)}function ub(){return ub=(0,ge.Z)(function*(n,t){var e;t&&Cc(n).ou&&(yield(e=(0,ge.Z)(function*(i,r){if(IT(s=r.code)&&s!==de.ABORTED){const u=i.Eu.shift();Cc(i).Qo(),yield YC(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield xh(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),EI(n)&&KC(n)}),ub.apply(this,arguments)}function db(n,t){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,ge.Z)(function*(n,t){const e=et(n);e.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const i=pl(e);e.vu.add(3),yield qp(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield Ch(e)}),Eh.apply(this,arguments)}function JC(n,t){return d_.apply(this,arguments)}function d_(){return d_=(0,ge.Z)(function*(n,t){const e=et(n);t?(e.vu.delete(2),yield Ch(e)):t||(e.vu.add(2),yield qp(e),e.bu.set("Unknown"))}),d_.apply(this,arguments)}function Yp(n){return n.Su||(n.Su=function(t,e,i){const r=et(t);return r.fu(),new z1(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:$1.bind(null,n),ao:G1.bind(null,n),nu:wI.bind(null,n)}),n.Ru.push(function(){var t=(0,ge.Z)(function*(e){e?(n.Su.Qo(),ab(n)?l_(n):n.bu.set("Unknown")):(yield n.Su.stop(),lb(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function Cc(n){return n.Du||(n.Du=function(t,e,i){const r=et(t);return r.fu(),new yI(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:DI.bind(null,n),ao:SP.bind(null,n),au:Zp.bind(null,n),cu:q1.bind(null,n)}),n.Ru.push(function(){var t=(0,ge.Z)(function*(e){e?(n.Du.Qo(),yield xh(n)):(yield n.Du.stop(),n.Eu.length>0&&(Be("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class XC{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,s){const u=Date.now()+i,h=new XC(t,e,u,r,s);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new De(de.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wp(n,t){if(Vi("AsyncQueue",`${t}: ${n}`),rl(n))return new De(de.UNAVAILABLE,`${t}: ${n}`);throw n}class Kp{constructor(t){this.comparator=t?(e,i)=>t(e,i)||nt.comparator(e.key,i.key):(e,i)=>nt.comparator(e.key,i.key),this.keyedMap=qo(),this.sortedSet=new Un(this.comparator)}static emptySet(t){return new Kp(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Kp)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Kp;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class hb{constructor(){this.Cu=new Un(nt.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):dt():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Dh{constructor(t,e,i,r,s,u,h,_,b){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=_,this.hasCachedResults=b}static fromInitialDocuments(t,e,i,r,s){const u=[];return e.forEach(h=>{u.push({type:0,doc:h})}),new Dh(t,e,Kp.emptySet(e),u,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ip(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class Z1{constructor(){this.Nu=void 0,this.listeners=[]}}class fb{constructor(){this.queries=new ll(t=>Yw(t),Ip),this.onlineState="Unknown",this.ku=new Set}}function h_(n,t){return II.apply(this,arguments)}function II(){return II=(0,ge.Z)(function*(n,t){const e=et(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new Z1),r)try{s.Nu=yield e.onListen(i)}catch(u){const h=Wp(u,`Initialization of query '${Nu(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,s),s.listeners.push(t),t.Mu(e.onlineState),s.Nu&&t.$u(s.Nu)&&tx(e)}),II.apply(this,arguments)}function pb(n,t){return ex.apply(this,arguments)}function ex(){return ex=(0,ge.Z)(function*(n,t){const e=et(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const u=s.listeners.indexOf(t);u>=0&&(s.listeners.splice(u,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),ex.apply(this,arguments)}function SI(n,t){const e=et(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.$u(r)&&(i=!0);u.Nu=r}}i&&tx(e)}function Qp(n,t,e){const i=et(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function tx(n){n.ku.forEach(t=>{t.next()})}class mb{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Dh(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=Dh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class nx{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class Y1{constructor(t){this.serializer=t}rr(t){return hl(this.serializer,t)}ur(t){return t.metadata.exists?pC(this.serializer,t.document,!1):Wn.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return ji(t)}}class W1{constructor(t,e,i){this.ju=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=K1(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const i=fn.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,i=new Y1(this.serializer);for(const r of t)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||Kt()).add(s);e.set(u,h)}}return e}complete(){var t=this;return(0,ge.Z)(function*(){const e=yield function pI(n,t,e,i){return BC.apply(this,arguments)}(t.localStore,new Y1(t.serializer),t.documents,t.ju.id),i=t.Wu(t.documents);for(const r of t.queries)yield IP(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function K1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class AI{constructor(t){this.key=t}}class MI{constructor(t){this.key=t}}class RI{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Kt(),this.mutatedKeys=Kt(),this.tc=Ww(t),this.ec=new Kp(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new hb,r=e?e.ec:this.ec;let s=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,b="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((E,S)=>{const O=r.get(E),B=Ug(this.query,S)?S:null,z=!!O&&this.mutatedKeys.has(O.key),q=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let W=!1;O&&B?O.data.isEqual(B.data)?z!==q&&(i.track({type:3,doc:B}),W=!0):this.rc(O,B)||(i.track({type:2,doc:B}),W=!0,(_&&this.tc(B,_)>0||b&&this.tc(B,b)<0)&&(h=!0)):!O&&B?(i.track({type:0,doc:B}),W=!0):O&&!B&&(i.track({type:1,doc:O}),W=!0,(_||b)&&(h=!0)),W&&(B?(u=u.add(B),s=q?s.add(E):s.delete(E)):(u=u.delete(E),s=s.delete(E)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const E="F"===this.query.limitType?u.last():u.first();u=u.delete(E.key),s=s.delete(E.key),i.track({type:1,doc:E})}return{ec:u,ic:i,zi:h,mutatedKeys:s}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const s=t.ic.xu();s.sort((b,E)=>function(S,O){const B=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return B(S)-B(O)}(b.type,E.type)||this.tc(b.doc,E.doc)),this.oc(i);const u=e?this.uc():[],h=0===this.Zu.size&&this.current?1:0,_=h!==this.Xu;return this.Xu=h,0!==s.length||_?{snapshot:new Dh(this.query,t.ec,r,s,t.mutatedKeys,0===h,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new hb,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=Kt(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new MI(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new AI(i))}),e}hc(t){this.Yu=t.ir,this.Zu=Kt();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return Dh.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class kI{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class OI{constructor(t){this.key=t,this.fc=!1}}class Q1{constructor(t,e,i,r,s,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new ll(h=>Yw(h),Ip),this._c=new Map,this.mc=new Set,this.gc=new Un(nt.comparator),this.yc=new Map,this.Ic=new MC,this.Tc={},this.Ec=new Map,this.Ac=zu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function PI(n,t){return gb.apply(this,arguments)}function gb(){return gb=(0,ge.Z)(function*(n,t){const e=qr(n);let i,r;const s=e.wc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const u=yield Gp(e.localStore,So(t)),h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield ix(e,t,i,"current"===h,u.resumeToken),e.isPrimaryClient&&s_(e.remoteStore,u)}return r}),gb.apply(this,arguments)}function ix(n,t,e,i,r){return rx.apply(this,arguments)}function rx(){return rx=(0,ge.Z)(function*(n,t,e,i,r){n.Rc=(S,O,B)=>{return(z=(0,ge.Z)(function*(q,W,Re,We){let Pe=W.view.sc(Re);Pe.zi&&(Pe=yield t_(q.localStore,W.query,!1).then(({documents:Pt})=>W.view.sc(Pt,Pe)));const Ge=We&&We.targetChanges.get(W.targetId),It=W.view.applyChanges(Pe,q.isPrimaryClient,Ge);return vb(q,W.targetId,It.cc),It.snapshot}),function(q,W,Re,We){return z.apply(this,arguments)})(n,S,O,B);var z};const s=yield t_(n.localStore,t,!0),u=new RI(t,s.ir),h=u.sc(s.documents),_=Pp.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),b=u.applyChanges(h,n.isPrimaryClient,_);vb(n,e,b.cc);const E=new kI(t,e,u);return n.wc.set(t,E),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),b.snapshot}),rx.apply(this,arguments)}function NI(n,t){return ox.apply(this,arguments)}function ox(){return ox=(0,ge.Z)(function*(n,t){const e=et(n),i=e.wc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(s=>!Ip(s,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield fl(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),a_(e.remoteStore,i.targetId),f_(e,i.targetId)}).catch(Tu))):(f_(e,i.targetId),yield fl(e.localStore,i.targetId,!0))}),ox.apply(this,arguments)}function _b(){return _b=(0,ge.Z)(function*(n,t,e){const i=dx(n);try{const r=yield function(s,u){const h=et(s),_=mi.now(),b=u.reduce((O,B)=>O.add(B.key),Kt());let E,S;return h.persistence.runTransaction("Locally write mutations","readwrite",O=>{let B=ao(),z=Kt();return h.Zi.getEntries(O,b).next(q=>{B=q,B.forEach((W,Re)=>{Re.isValidDocument()||(z=z.add(W))})}).next(()=>h.localDocuments.getOverlayedDocuments(O,B)).next(q=>{E=q;const W=[];for(const Re of u){const We=xT(Re,E.get(Re.key).overlayedDocument);null!=We&&W.push(new ul(Re.key,We,lT(We.value.mapValue),Hn.exists(!0)))}return h.mutationQueue.addMutationBatch(O,_,W,u)}).next(q=>{S=q;const W=q.applyToLocalDocumentSet(E,z);return h.documentOverlayCache.saveOverlays(O,q.batchId,W)})}).then(()=>({batchId:S.batchId,changes:mT(E)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,u,h){let _=s.Tc[s.currentUser.toKey()];_||(_=new Un(Bt)),_=_.insert(u,h),s.Tc[s.currentUser.toKey()]=_}(i,r.batchId,e),yield xc(i,r.changes),yield xh(i.remoteStore)}catch(r){const s=Wp(r,"Failed to persist write");e.reject(s)}}),_b.apply(this,arguments)}function sx(n,t){return yb.apply(this,arguments)}function yb(){return yb=(0,ge.Z)(function*(n,t){const e=et(n);try{const i=yield function V1(n,t){const e=et(n),i=t.snapshotVersion;let r=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=e.Zi.newChangeBuffer({trackRemovals:!0});r=e.Ji;const h=[];t.targetChanges.forEach((E,S)=>{const O=r.get(S);if(!O)return;h.push(e.Bs.removeMatchingKeys(s,E.removedDocuments,S).next(()=>e.Bs.addMatchingKeys(s,E.addedDocuments,S)));let B=O.withSequenceNumber(s.currentSequenceNumber);var z,q,W;null!==t.targetMismatches.get(S)?B=B.withResumeToken(Hi.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):E.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(E.resumeToken,i)),r=r.insert(S,B),q=B,W=E,(0===(z=O).resumeToken.approximateByteSize()||q.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8||W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0)&&h.push(e.Bs.updateTargetData(s,B))});let _=ao(),b=Kt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(s,E))}),h.push(fI(s,u,t.documentUpdates).next(E=>{_=E.nr,b=E.sr})),!i.isEqual(Dt.min())){const E=e.Bs.getLastRemoteSnapshotVersion(s).next(S=>e.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(E)}return ae.waitFor(h).next(()=>u.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,_,b)).next(()=>_)}).then(s=>(e.Ji=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const u=e.yc.get(s);u&&(gt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.fc=!0:r.modifiedDocuments.size>0?gt(u.fc):r.removedDocuments.size>0&&(gt(u.fc),u.fc=!1))}),yield xc(e,i,t)}catch(i){yield Tu(i)}}),yb.apply(this,arguments)}function LI(n,t,e){const i=et(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.wc.forEach((s,u)=>{const h=u.view.Mu(t);h.snapshot&&r.push(h.snapshot)}),function(s,u){const h=et(s);h.onlineState=u;let _=!1;h.queries.forEach((b,E)=>{for(const S of E.listeners)S.Mu(u)&&(_=!0)}),_&&tx(h)}(i.eventManager,t),r.length&&i.dc.nu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function J1(n,t,e){return BI.apply(this,arguments)}function BI(){return BI=(0,ge.Z)(function*(n,t,e){const i=et(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.yc.get(t),s=r&&r.key;if(s){let u=new Un(nt.comparator);u=u.insert(s,Wn.newNoDocument(s,Dt.min()));const h=Kt().add(s),_=new Op(Dt.min(),new Map,new Un(Bt),u,h);yield sx(i,_),i.gc=i.gc.remove(s),i.yc.delete(t),bb(i)}else yield fl(i.localStore,t,!1).then(()=>f_(i,t,e)).catch(Tu)}),BI.apply(this,arguments)}function VI(n,t){return UI.apply(this,arguments)}function UI(){return UI=(0,ge.Z)(function*(n,t){const e=et(n),i=t.batch.batchId;try{const r=yield function B1(n,t){const e=et(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Zi.newChangeBuffer({trackRemovals:!0});return function(u,h,_,b){const E=_.batch,S=E.keys();let O=ae.resolve();return S.forEach(B=>{O=O.next(()=>b.getEntry(h,B)).next(z=>{const q=_.docVersions.get(B);gt(null!==q),z.version.compareTo(q)<0&&(E.applyToRemoteDocument(z,_),z.isValidDocument()&&(z.setReadTime(_.commitVersion),b.addEntry(z)))})}),O.next(()=>u.mutationQueue.removeMutationBatch(h,E))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Kt();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(h=h.add(u.batch.mutations[_].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);$I(e,i,null),jI(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield xc(e,r)}catch(r){yield Tu(r)}}),UI.apply(this,arguments)}function AP(n,t,e){return HI.apply(this,arguments)}function HI(){return HI=(0,ge.Z)(function*(n,t,e){const i=et(n);try{const r=yield function(s,u){const h=et(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return h.mutationQueue.lookupMutationBatch(_,u).next(E=>(gt(null!==E),b=E.keys(),h.mutationQueue.removeMutationBatch(_,E))).next(()=>h.mutationQueue.performConsistencyCheck(_)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(_,b,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>h.localDocuments.getDocuments(_,b))})}(i.localStore,t);$I(i,t,e),jI(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield xc(i,r)}catch(r){yield Tu(r)}}),HI.apply(this,arguments)}function zI(){return zI=(0,ge.Z)(function*(n,t){const e=et(n);pl(e.remoteStore)||Be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const u=et(s);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Ec.get(i)||[];r.push(t),e.Ec.set(i,r)}catch(i){const r=Wp(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),zI.apply(this,arguments)}function jI(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function $I(n,t,e){const i=et(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function f_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),e&&n.dc.Pc(i,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||X1(n,i)})}function X1(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(a_(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),bb(n))}function vb(n,t,e){for(const i of e)i instanceof AI?(n.Ic.addReference(i.key,t),ax(n,i)):i instanceof MI?(Be("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||X1(n,i.key)):dt()}function ax(n,t){const e=t.key,i=e.path.canonicalString();n.gc.get(e)||n.mc.has(i)||(Be("SyncEngine","New document in limbo: "+e),n.mc.add(i),bb(n))}function bb(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new nt(fn.fromString(t)),i=n.Ac.next();n.yc.set(i,new OI(e)),n.gc=n.gc.insert(e,i),s_(n.remoteStore,new ms(So(Tp(e.path)),i,"TargetPurposeLimboResolution",gi.ct))}}function xc(n,t,e){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,ge.Z)(function*(n,t,e){const i=et(n),r=[],s=[],u=[];var h;i.wc.isEmpty()||(i.wc.forEach((h,_)=>{u.push(i.Rc(_,t,e).then(b=>{if((b||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,b?.fromCache?"not-current":"current"),b){r.push(b);const E=OC.Li(_.targetId,b);s.push(E)}}))}),yield Promise.all(u),i.dc.nu(r),yield(h=(0,ge.Z)(function*(_,b){const E=et(_);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ae.forEach(b,O=>ae.forEach(O.Fi,B=>E.persistence.referenceDelegate.addReference(S,O.targetId,B)).next(()=>ae.forEach(O.Bi,B=>E.persistence.referenceDelegate.removeReference(S,O.targetId,B)))))}catch(S){if(!rl(S))throw S;Be("LocalStore","Failed to update sequence numbers: "+S)}for(const S of b){const O=S.targetId;if(!S.fromCache){const B=E.Ji.get(O),q=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);E.Ji=E.Ji.insert(O,q)}}}),function(_,b){return h.apply(this,arguments)})(i.localStore,s))}),Jp.apply(this,arguments)}function eR(n,t){return GI.apply(this,arguments)}function GI(){return GI=(0,ge.Z)(function*(n,t){const e=et(n);if(!e.currentUser.isEqual(t)){Be("SyncEngine","User change. New user:",t.toKey());const i=yield dI(e.localStore,t);e.currentUser=t,(r=e).Ec.forEach(u=>{u.forEach(h=>{h.reject(new De(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield xc(e,i.er)}var r}),GI.apply(this,arguments)}function RP(n,t){const e=et(n),i=e.yc.get(t);if(i&&i.fc)return Kt().add(i.key);{let r=Kt();const s=e._c.get(t);if(!s)return r;for(const u of s){const h=e.wc.get(u);r=r.unionWith(h.view.nc)}return r}}function kP(n,t){return wb.apply(this,arguments)}function wb(){return wb=(0,ge.Z)(function*(n,t){const e=et(n),i=yield t_(e.localStore,t.query,!0),r=t.view.hc(i);return e.isPrimaryClient&&vb(e,t.targetId,r.cc),r}),wb.apply(this,arguments)}function tR(n,t){return lx.apply(this,arguments)}function lx(){return lx=(0,ge.Z)(function*(n,t){const e=et(n);return FC(e.localStore,t).then(i=>xc(e,i))}),lx.apply(this,arguments)}function nR(n,t,e,i){return qI.apply(this,arguments)}function qI(){return qI=(0,ge.Z)(function*(n,t,e,i){const r=et(n),s=yield function(u,h){const _=et(u),b=et(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",E=>b.Sn(E,h).next(S=>S?_.localDocuments.getDocuments(E,S):ae.resolve(null)))}(r.localStore,t);var h;null!==s?("pending"===e?yield xh(r.remoteStore):"acknowledged"===e||"rejected"===e?($I(r,t,i||null),jI(r,t),h=t,et(et(r.localStore).mutationQueue).Cn(h)):dt(),yield xc(r,s)):Be("SyncEngine","Cannot apply mutation batch with id: "+t)}),qI.apply(this,arguments)}function Cb(){return Cb=(0,ge.Z)(function*(n,t){const e=et(n);if(qr(e),dx(e),!0===t&&!0!==e.vc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield cx(e,i.toArray());e.vc=!0,yield JC(e.remoteStore,!0);for(const s of r)s_(e.remoteStore,s)}else if(!1===t&&!1!==e.vc){const i=[];let r=Promise.resolve();e._c.forEach((s,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(f_(e,u),fl(e.localStore,u,!0))),a_(e.remoteStore,u)}),yield r,yield cx(e,i),function(s){const u=et(s);u.yc.forEach((h,_)=>{a_(u.remoteStore,_)}),u.Ic.Ts(),u.yc=new Map,u.gc=new Un(nt.comparator)}(e),e.vc=!1,yield JC(e.remoteStore,!1)}}),Cb.apply(this,arguments)}function cx(n,t,e){return ZI.apply(this,arguments)}function ZI(){return ZI=(0,ge.Z)(function*(n,t,e){const i=et(n),r=[],s=[];for(const u of t){let h;const _=i._c.get(u);if(_&&0!==_.length){h=yield Gp(i.localStore,So(_[0]));for(const b of _){const E=i.wc.get(b),S=yield kP(i,E);S.snapshot&&s.push(S.snapshot)}}else{const b=yield NC(i.localStore,u);h=yield Gp(i.localStore,b),yield ix(i,Us(b),u,!1,h.resumeToken)}r.push(h)}return i.dc.nu(s),r}),ZI.apply(this,arguments)}function Us(n){return fT(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function rR(n){const t=et(n);return et(et(t.localStore).persistence).$i()}function ux(n,t,e,i){return xb.apply(this,arguments)}function xb(){return xb=(0,ge.Z)(function*(n,t,e,i){const r=et(n);if(r.vc)return void Be("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const u=yield FC(r.localStore,pT(s[0])),h=Op.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Hi.EMPTY_BYTE_STRING);yield xc(r,u,h);break}case"rejected":yield fl(r.localStore,t,!0),f_(r,t,i);break;default:dt()}}),xb.apply(this,arguments)}function oR(n,t,e){return YI.apply(this,arguments)}function YI(){return YI=(0,ge.Z)(function*(n,t,e){const i=qr(n);if(i.vc){for(const r of t){if(i._c.has(r)){Be("SyncEngine","Adding an already active target "+r);continue}const s=yield NC(i.localStore,r),u=yield Gp(i.localStore,s);yield ix(i,Us(s),u.targetId,!1,u.resumeToken),s_(i.remoteStore,u)}for(const r of e)i._c.has(r)&&(yield fl(i.localStore,r,!1).then(()=>{a_(i.remoteStore,r),f_(i,r)}).catch(Tu))}}),YI.apply(this,arguments)}function qr(n){const t=et(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=sx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=J1.bind(null,t),t.dc.nu=SI.bind(null,t.eventManager),t.dc.Pc=Qp.bind(null,t.eventManager),t}function dx(n){const t=et(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=VI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=AP.bind(null,t),t}class p_{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ge.Z)(function*(){e.serializer=o_(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return uI(this.persistence,new lI,t.initialUser,this.serializer)}createPersistence(t){return new jv($v.zs,this.serializer)}createSharedClientState(t){return new i_}terminate(){var t=this;return(0,ge.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class m_ extends p_{constructor(t,e,i){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ge.Z)(function*(){yield e().call(i,t),yield i.Vc.initialize(i,t),yield dx(i.Vc.syncEngine),yield xh(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return uI(this.persistence,new lI,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new Uv(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new av(e,this.persistence);return new rh(t.asyncQueue,i)}createPersistence(t){const e=aI(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?lo.withCacheSize(this.cacheSizeBytes):lo.DEFAULT;return new qv(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,eb(),tb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new i_}}class fx extends m_{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ge.Z)(function*(){yield e().call(i,t);const r=i.Vc.syncEngine;i.sharedClientState instanceof zC&&(i.sharedClientState.syncEngine={jr:nR.bind(null,r),zr:ux.bind(null,r),Wr:oR.bind(null,r),$i:rR.bind(null,r),Qr:tR.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,ge.Z)(function*(u){yield function iR(n,t){return Cb.apply(this,arguments)}(i.Vc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return s.apply(this,arguments)}}())})()}createSharedClientState(t){const e=eb();if(!zC.D(e))throw new De(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=aI(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new zC(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Th{initialize(t,e){var i=this;return(0,ge.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>LI(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=eR.bind(null,i.syncEngine),yield JC(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new fb}createDatastore(t){const e=o_(t.databaseInfo.databaseId),i=new H1(t.databaseInfo);return new ib(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=h=>LI(this.syncEngine,h,0),u=mI.D()?new mI:new r_,new bI(e,i,r,s,u);var e,i,r,s,u}createSyncEngine(t,e){return function(i,r,s,u,h,_,b){const E=new Q1(i,r,s,u,h,_);return b&&(E.vc=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ge.Z)(function*(e){const i=et(e);Be("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield qp(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function WI(n,t=10240){let e=0;return{read:()=>(0,ge.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ge.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class g_{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):Vi("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class KI{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new Di,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,ge.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,ge.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,ge.Z)(function*(){const e=yield t.kc();if(null===e)return null;const i=t.xc.decode(e),r=Number(i);isNaN(r)&&t.Mc(`length string (${i}) is not valid number`);const s=yield t.$c(r);return new nx(JSON.parse(s),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,ge.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}$c(t){var e=this;return(0,ge.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const i=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,ge.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class QI{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ge.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new De(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ge.Z)(function*(s,u){const h=et(s),_=Kn(h.serializer)+"/documents",b={documents:u.map(B=>dl(h.serializer,B))},E=yield h.vo("BatchGetDocuments",_,b,u.length),S=new Map;E.forEach(B=>{const z=function v1(n,t){return"found"in t?function(e,i){gt(!!i.found);const r=hl(e,i.found.name),s=ji(i.found.updateTime),u=i.found.createTime?ji(i.found.createTime):Dt.min(),h=new $r({mapValue:{fields:i.found.fields}});return Wn.newFoundDocument(r,s,u,h)}(n,t):"missing"in t?function(e,i){gt(!!i.missing),gt(!!i.readTime);const r=hl(e,i.missing),s=ji(i.readTime);return Wn.newNoDocument(r,s)}(n,t):dt()}(h.serializer,B);S.set(z.key.toString(),z)});const O=[];return u.forEach(B=>{const z=S.get(B.toString());gt(!!z),O.push(z)}),O}),function(s,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Rp(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ge.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=nt.fromPath(r);t.mutations.push(new iC(s,t.precondition(s)))}),yield(i=(0,ge.Z)(function*(r,s){const u=et(r),h=Kn(u.serializer)+"/documents",_={writes:s.map(b=>Lp(u.serializer,b))};yield u.Io("Commit",h,_)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw dt();e=Dt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new De(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Dt.min())?Hn.exists(!1):Hn.updateTime(e):Hn.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Dt.min()))throw new De(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Hn.updateTime(e)}return Hn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class JI{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new nb(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,ge.Z)(function*(){const e=new QI(t.datastore),i=t.qc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Uc(s)}))}).catch(r=>{t.Uc(r)})}))}qc(t){try{const e=this.updateFunction(t);return!oh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!IT(e)}return!1}}class aR{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Yn.UNAUTHENTICATED,this.clientId=$D.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,ge.Z)(function*(h){Be("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Be("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,ge.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new De(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Wp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function __(n,t){return px.apply(this,arguments)}function px(){return px=(0,ge.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ge.Z)(function*(s){i.isEqual(s)||(yield dI(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),px.apply(this,arguments)}function y_(n,t){return ml.apply(this,arguments)}function ml(){return ml=(0,ge.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield v_(n);Be("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>db(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>db(t.remoteStore,s)),n._onlineComponents=t}),ml.apply(this,arguments)}function mx(n){return"FirebaseError"===n.name?n.code===de.FAILED_PRECONDITION||n.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function v_(n){return b_.apply(this,arguments)}function b_(){return b_=(0,ge.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Be("FirestoreClient","Using user provided OfflineComponentProvider");try{yield __(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!mx(e))throw e;da("Error using user provided cache. Falling back to memory cache: "+e),yield __(n,new p_)}}else Be("FirestoreClient","Using default OfflineComponentProvider"),yield __(n,new p_);return n._offlineComponents}),b_.apply(this,arguments)}function Eb(n){return XI.apply(this,arguments)}function XI(){return XI=(0,ge.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Be("FirestoreClient","Using user provided OnlineComponentProvider"),yield y_(n,n._uninitializedComponentsProvider._online)):(Be("FirestoreClient","Using default OnlineComponentProvider"),yield y_(n,new Th))),n._onlineComponents}),XI.apply(this,arguments)}function gx(n){return v_(n).then(t=>t.persistence)}function Db(n){return v_(n).then(t=>t.localStore)}function eS(n){return Eb(n).then(t=>t.remoteStore)}function _x(n){return Eb(n).then(t=>t.syncEngine)}function Ih(n){return nS.apply(this,arguments)}function nS(){return nS=(0,ge.Z)(function*(n){const t=yield Eb(n),e=t.eventManager;return e.onListen=PI.bind(null,t.syncEngine),e.onUnlisten=NI.bind(null,t.syncEngine),e}),nS.apply(this,arguments)}function cR(n,t,e={}){const i=new Di;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(r,s,u,h,_){const b=new g_({next:S=>{s.enqueueAndForget(()=>pb(r,E));const O=S.docs.has(u);!O&&S.fromCache?_.reject(new De(de.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&S.fromCache&&h&&"server"===h.source?_.reject(new De(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(S)},error:S=>_.reject(S)}),E=new mb(Tp(u.path),b,{includeMetadataChanges:!0,Ku:!0});return h_(r,E)}(yield Ih(n),n.asyncQueue,t,e,i)})),i.promise}function vx(n,t,e={}){const i=new Di;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(r,s,u,h,_){const b=new g_({next:S=>{s.enqueueAndForget(()=>pb(r,E)),S.fromCache&&"server"===h.source?_.reject(new De(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(S)},error:S=>_.reject(S)}),E=new mb(u,b,{includeMetadataChanges:!0,Ku:!0});return h_(r,E)}(yield Ih(n),n.asyncQueue,t,e,i)})),i.promise}function Sh(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const w_=new Map;function Tb(n,t,e){if(!e)throw new De(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function bx(n,t,e,i){if(!0===t&&!0===i)throw new De(de.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function lS(n){if(!nt.isDocumentKey(n))throw new De(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cS(n){if(nt.isDocumentKey(n))throw new De(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wx(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":dt()}function un(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new De(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=wx(n);throw new De(de.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function uS(n,t){if(t<=0)throw new De(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class dS{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new De(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new De(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}bx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Sh(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new De(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new De(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new De(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ib{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new De(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new De(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dS(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new jM;switch(e.type){case"firstParty":return new Ig(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new De(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=w_.get(t);e&&(Be("ComponentProvider","Removing Datastore"),w_.delete(t),e.terminate())}(this),Promise.resolve()}}class _i{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _i(this.firestore,t,this._key)}}class Dr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Dr(this.firestore,t,this._query)}}class gl extends Dr{constructor(t,e,i){super(t,e,Tp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _i(this.firestore,null,new nt(t))}withConverter(t){return new gl(this.firestore,t,this._path)}}function hS(n,t,...e){if(n=(0,qt.m9)(n),Tb("collection","path",t),n instanceof Ib){const i=fn.fromString(t,...e);return cS(i),new gl(n,null,i)}{if(!(n instanceof _i||n instanceof gl))throw new De(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fn.fromString(t,...e));return cS(i),new gl(n.firestore,null,i)}}function Cx(n,t,...e){if(n=(0,qt.m9)(n),1===arguments.length&&(t=$D.A()),Tb("doc","path",t),n instanceof Ib){const i=fn.fromString(t,...e);return lS(i),new _i(n,null,new nt(i))}{if(!(n instanceof _i||n instanceof gl))throw new De(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fn.fromString(t,...e));return lS(i),new _i(n.firestore,n instanceof gl?n.converter:null,new nt(i))}}function fR(n,t){return n=(0,qt.m9)(n),t=(0,qt.m9)(t),(n instanceof _i||n instanceof gl)&&(t instanceof _i||t instanceof gl)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function fS(n,t){return n=(0,qt.m9)(n),t=(0,qt.m9)(t),n instanceof Dr&&t instanceof Dr&&n.firestore===t.firestore&&Ip(n._query,t._query)&&n.converter===t.converter}class OP{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new nb(this,"async_queue_retry"),this.Xc=()=>{const e=tb();e&&Be("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=tb();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=tb();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new Di;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,ge.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!rl(e))throw e;Be("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,Vi("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const r=XC.createAndSchedule(this,t,e,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&dt()}verifyOperationInProgress(){}sa(){var t=this;return(0,ge.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function pS(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class pR{constructor(){this._progressObserver={},this._taskCompletionResolver=new Di,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class si extends Ib{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new OP,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||xx(this),this._firestoreClient.terminate()}}function zn(n){return n._firestoreClient||xx(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function xx(n){var t,e,i;const r=n._freezeSettings(),s=(h=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new oT(n._databaseId,h,n._persistenceKey,(b=r).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,Sh(b.experimentalLongPollingOptions),b.useFetchStreams));var h,b;n._firestoreClient=new aR(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(e=r.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function mS(n,t,e){const i=new Di;return n.asyncQueue.enqueue((0,ge.Z)(function*(){try{yield __(n,e),yield y_(n,t),i.resolve()}catch(r){const s=r;if(!mx(s))throw s;da("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function _S(n){if(n._initialized||n._terminated)throw new De(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class _l{constructor(t){this._byteString=t}static fromBase64String(t){try{return new _l(Hi.fromBase64String(t))}catch(e){throw new De(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new _l(Hi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class yl{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new De(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ti(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Gu{constructor(t){this._methodName=t}}class Mb{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new De(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new De(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Bt(this._lat,t._lat)||Bt(this._long,t._long)}}const yR=/^__.*__$/;class yS{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new ul(t,this.data,this.fieldMask,e,this.fieldTransforms):new mh(t,this.data,e,this.fieldTransforms)}}class Rb{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new ul(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function vR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class x_{constructor(t,e,i,r,s,u){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new x_(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.fa(t),r}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return Vb(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(vR(this.ca)&&yR.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class Sx{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||o_(t)}ya(t,e,i,r=!1){return new x_({ca:t,methodName:e,ga:i,path:Ti.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ah(n){const t=n._freezeSettings(),e=o_(n._databaseId);return new Sx(n._databaseId,!!t.ignoreUndefinedProperties,e)}function kb(n,t,e,i,r,s={}){const u=n.ya(s.merge||s.mergeFields?2:0,t,e,r);Lb("Data must be an object, but it was:",u,i);const h=Fb(i,u);let _,b;if(s.merge)_=new Go(u.fieldMask),b=u.fieldTransforms;else if(s.mergeFields){const E=[];for(const S of s.mergeFields){const O=E_(t,S,e);if(!u.contains(O))throw new De(de.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);kx(E,O)||E.push(O)}_=new Go(E),b=u.fieldTransforms.filter(S=>_.covers(S.field))}else _=null,b=u.fieldTransforms;return new yS(new $r(h),_,b)}class Ob extends Gu{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ob}}function bR(n,t,e){return new x_({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Ax extends Gu{_toFieldTransform(t){return new Hg(t.path,new Sp)}isEqual(t){return t instanceof Ax}}class wR extends Gu{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=bR(this,t,!0),i=this.pa.map(s=>Mh(s,e)),r=new Lu(i);return new Hg(t.path,r)}isEqual(t){return this===t}}class CR extends Gu{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=bR(this,t,!0),i=this.pa.map(s=>Mh(s,e)),r=new cl(i);return new Hg(t.path,r)}isEqual(t){return this===t}}class xR extends Gu{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new ph(t.serializer,Dv(t.serializer,this.Ia));return new Hg(t.path,e)}isEqual(t){return this===t}}function Pb(n,t,e,i){const r=n.ya(1,t,e);Lb("Data must be an object, but it was:",r,i);const s=[],u=$r.empty();sl(i,(_,b)=>{const E=Bb(t,_,e);b=(0,qt.m9)(b);const S=r.da(E);if(b instanceof Ob)s.push(E);else{const O=Mh(b,S);null!=O&&(s.push(E),u.set(E,O))}});const h=new Go(s);return new Rb(u,h,r.fieldTransforms)}function Nb(n,t,e,i,r,s){const u=n.ya(1,t,e),h=[E_(t,i,e)],_=[r];if(s.length%2!=0)throw new De(de.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<s.length;O+=2)h.push(E_(t,s[O])),_.push(s[O+1]);const b=[],E=$r.empty();for(let O=h.length-1;O>=0;--O)if(!kx(b,h[O])){const B=h[O];let z=_[O];z=(0,qt.m9)(z);const q=u.da(B);if(z instanceof Ob)b.push(B);else{const W=Mh(z,q);null!=W&&(b.push(B),E.set(B,W))}}const S=new Go(b);return new Rb(E,S,u.fieldTransforms)}function ER(n,t,e,i=!1){return Mh(e,n.ya(i?4:3,t))}function Mh(n,t){if(Mx(n=(0,qt.m9)(n)))return Lb("Unsupported field value:",t,n),Fb(n,t);if(n instanceof Gu)return function(e,i){if(!vR(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const u of e){let h=Mh(u,i.wa(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,qt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Dv(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=mi.fromDate(e);return{timestampValue:_h(i.serializer,r)}}if(e instanceof mi){const r=new mi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:_h(i.serializer,r)}}if(e instanceof Mb)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof _l)return{bytesValue:_1(i.serializer,e._byteString)};if(e instanceof _i){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:hC(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${wx(e)}`)}(n,t)}function Fb(n,t){const e={};return Og(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sl(n,(i,r)=>{const s=Mh(r,t.ha(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function Mx(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof mi||n instanceof Mb||n instanceof _l||n instanceof _i||n instanceof Gu)}function Lb(n,t,e){if(!Mx(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=wx(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function E_(n,t,e){if((t=(0,qt.m9)(t))instanceof yl)return t._internalPath;if("string"==typeof t)return Bb(n,t);throw Vb("Field path arguments must be of type string or ",n,!1,void 0,e)}const Rx=new RegExp("[~\\*/\\[\\]]");function Bb(n,t,e){if(t.search(Rx)>=0)throw Vb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new yl(...t.split("."))._internalPath}catch{throw Vb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Vb(n,t,e,i,r){const s=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let _="";return(s||u)&&(_+=" (found",s&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new De(de.INVALID_ARGUMENT,h+n+_)}function kx(n,t){return n.some(e=>e.isEqual(t))}class Xp{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _i(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new LP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Ub("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class LP extends Xp{data(){return super.data()}}function Ub(n,t){return"string"==typeof t?Bb(n,t):t instanceof yl?t._internalPath:t._delegate._internalPath}function D_(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new De(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vS{}class T_ extends vS{}function Rh(n,t,...e){let i=[];t instanceof vS&&i.push(t),i=i.concat(e),function(r){const s=r.filter(h=>h instanceof I_).length,u=r.filter(h=>h instanceof Hb).length;if(s>1||s>0&&u>0)throw new De(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Hb extends T_{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Hb(t,e,i)}_apply(t){const e=this._parse(t);return m(t._query,e),new Dr(t.firestore,t.converter,Cv(t._query,e))}_parse(t){const e=Ah(t.firestore);return function(r,s,u,h,_,b,E){let S;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new De(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){f(E,b);const O=[];for(const B of E)O.push(d(h,r,B));S={arrayValue:{values:O}}}else S=d(h,r,E)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||f(E,b),S=ER(u,"where",E,"in"===b||"not-in"===b);return cn.create(_,b,S)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class I_ extends vS{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new I_(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:An.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let s=i;const u=r.getFlattenedFilters();for(const h of u)m(s,h),s=Cv(s,h)}(t._query,e),new Dr(t.firestore,t.converter,Cv(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class bS extends T_{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new bS(t,e)}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new De(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new De(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new ku(r,s);return function(h,_){if(null===Zw(h)){const b=Ii(h);null!==b&&y(0,b,_.field)}}(i,u),u}(t._query,this._field,this._direction);return new Dr(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Pu(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class Ox extends T_{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new Ox(t,e,i)}_apply(t){return new Dr(t.firestore,t.converter,xv(t._query,this._limit,this._limitType))}}class Px extends T_{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new Px(t,e,i)}_apply(t){const e=c(t,this.type,this._docOrFields,this._inclusive);return new Dr(t.firestore,t.converter,(r=e,new Pu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class Nx extends T_{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new Nx(t,e,i)}_apply(t){const e=c(t,this.type,this._docOrFields,this._inclusive);return new Dr(t.firestore,t.converter,(r=e,new Pu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function c(n,t,e,i){if(e[0]=(0,qt.m9)(e[0]),e[0]instanceof Xp)return function(r,s,u,h,_){if(!h)throw new De(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const E of fh(r))if(E.field.isKeyField())b.push(dh(s,h.key));else{const S=h.data.field(E.field);if(cv(S))throw new De(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const O=E.field.canonicalString();throw new De(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}b.push(S)}return new al(b,_)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Ah(n.firestore);return function(s,u,h,_,b,E){const S=s.explicitOrderBy;if(b.length>S.length)throw new De(de.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let B=0;B<b.length;B++){const z=b[B];if(S[B].field.isKeyField()){if("string"!=typeof z)throw new De(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof z}`);if(!wv(s)&&-1!==z.indexOf("/"))throw new De(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${z}' contains a slash.`);const q=s.path.child(fn.fromString(z));if(!nt.isDocumentKey(q))throw new De(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${q}' is not because it contains an odd number of segments.`);const W=new nt(q);O.push(dh(u,W))}else{const q=ER(h,_,z);O.push(q)}}return new al(O,E)}(n._query,n.firestore._databaseId,r,t,e,i)}}function d(n,t,e){if("string"==typeof(e=(0,qt.m9)(e))){if(""===e)throw new De(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wv(t)&&-1!==e.indexOf("/"))throw new De(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(fn.fromString(e));if(!nt.isDocumentKey(i))throw new De(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return dh(n,new nt(i))}if(e instanceof _i)return dh(n,e._key);throw new De(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wx(e)}.`)}function f(n,t){if(!Array.isArray(n)||0===n.length)throw new De(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function m(n,t){if(t.isInequality()){const i=Ii(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new De(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=Zw(n);null!==s&&y(0,r,s)}const e=function(i,r){for(const s of i)for(const u of s.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new De(de.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function y(n,t,e){if(!e.isEqual(t))throw new De(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class D{convertValue(t,e="none"){switch(_c(t)){case 0:return null;case 1:return t.booleanValue;case 2:return zi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(gc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw dt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return sl(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new Mb(zi(t.latitude),zi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Cp(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Pg(t));default:return null}}convertTimestamp(t){const e=ha(t);return new mi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=fn.fromString(t);gt(Bp(i));const r=new Su(i.get(1),i.get(3)),s=new nt(i.popFirst(5));return r.isEqual(e)||Vi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function A(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class k extends D{constructor(t){super(),this.firestore=t}convertBytes(t){return new _l(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new _i(this.firestore,null,e)}}class je{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ht extends Xp{constructor(t,e,i,r,s,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new xe(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Ub("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class xe extends ht{data(t={}){return super.data(t)}}class Tt{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new je(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new xe(this._firestore,this._userDataWriter,i.key,i,new je(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new De(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new xe(i._firestore,i._userDataWriter,u.doc.key,u.doc,new je(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new xe(i._firestore,i._userDataWriter,u.doc.key,u.doc,new je(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,b=-1;return 0!==u.type&&(_=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),1!==u.type&&(s=s.add(u.doc),b=s.indexOf(u.doc.key)),{type:on(u.type),doc:h,oldIndex:_,newIndex:b}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function on(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function xn(n,t){return n instanceof ht&&t instanceof ht?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Tt&&t instanceof Tt&&n._firestore===t._firestore&&fS(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Ec extends D{constructor(t){super(),this.firestore=t}convertBytes(t){return new _l(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new _i(this.firestore,null,e)}}function HP(n,t,e){n=un(n,_i);const i=un(n.firestore,si),r=A(n.converter,t,e);return zb(i,[kb(Ah(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Hn.none())])}function zP(n,t,e,...i){n=un(n,_i);const r=un(n.firestore,si),s=Ah(r);let u;return u="string"==typeof(t=(0,qt.m9)(t))||t instanceof yl?Nb(s,"updateDoc",n._key,t,e,i):Pb(s,"updateDoc",n._key,t),zb(r,[u.toMutation(n._key,Hn.exists(!0))])}function jP(n,...t){var e,i,r;n=(0,qt.m9)(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||pS(t[u])||(s=t[u],u++);const h={includeMetadataChanges:s.includeMetadataChanges};if(pS(t[u])){const S=t[u];t[u]=null===(e=S.next)||void 0===e?void 0:e.bind(S),t[u+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),t[u+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let _,b,E;if(n instanceof _i)b=un(n.firestore,si),E=Tp(n._key.path),_={next:S=>{t[u]&&t[u](SR(b,n,S))},error:t[u+1],complete:t[u+2]};else{const S=un(n,Dr);b=un(S.firestore,si),E=S._query;const O=new Ec(b);_={next:B=>{t[u]&&t[u](new Tt(b,O,S,B))},error:t[u+1],complete:t[u+2]},D_(n._query)}return function(S,O,B,z){const q=new g_(z),W=new mb(O,q,B);return S.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return h_(yield Ih(S),W)})),()=>{q.Dc(),S.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return pb(yield Ih(S),W)}))}}(zn(b),E,h,_)}function zb(n,t){return function(e,i){const r=new Di;return e.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function FI(n,t,e){return _b.apply(this,arguments)}(yield _x(e),i,r)})),r.promise}(zn(n),t)}function SR(n,t,e){const i=e.docs.get(t._key),r=new Ec(n);return new ht(n,r,t._key,i,new je(e.hasPendingWrites,e.fromCache),t.converter)}const rU={maxAttempts:5};class $P{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ah(t)}set(t,e,i){this._verifyNotCommitted();const r=em(t,this._firestore),s=A(r.converter,e,i),u=kb(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Hn.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=em(t,this._firestore);let u;return u="string"==typeof(e=(0,qt.m9)(e))||e instanceof yl?Nb(this._dataReader,"WriteBatch.update",s._key,e,i,r):Pb(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(u.toMutation(s._key,Hn.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=em(t,this._firestore);return this._mutations=this._mutations.concat(new Rp(e._key,Hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new De(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function em(n,t){if((n=(0,qt.m9)(n)).firestore!==t)throw new De(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class oU extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Ah(t)}get(t){const e=em(t,this._firestore),i=new k(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return dt();const s=r[0];if(s.isFoundDocument())return new Xp(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new Xp(this._firestore,i,e._key,null,e.converter);throw dt()})}set(t,e,i){const r=em(t,this._firestore),s=A(r.converter,e,i),u=kb(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const s=em(t,this._firestore);let u;return u="string"==typeof(e=(0,qt.m9)(e))||e instanceof yl?Nb(this._dataReader,"Transaction.update",s._key,e,i,r):Pb(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,u),this}delete(t){const e=em(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=em(t,this._firestore),i=new Ec(this._firestore);return super.get(t).then(r=>new ht(this._firestore,i,e._key,r._document,new je(!1,!1),e.converter))}}function AR(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new De("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function qP(){if(typeof Uint8Array>"u")throw new De("unimplemented","Uint8Arrays are not available in this environment.")}function ZP(){if(!function a1(){return typeof atob<"u"}())throw new De("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){mp=us.SDK_VERSION,(0,us._registerComponent)(new jf.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),u=new si(new Iw(e.getProvider("auth-internal")),new jD(e.getProvider("app-check-internal")),function(h,_){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new De(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Su(h.options.projectId,_)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,us.registerVersion)(rv,"3.12.1",n),(0,us.registerVersion)(rv,"3.12.1","esm2017")}();class Fx{constructor(t){this._delegate=t}static fromBase64String(t){return ZP(),new Fx(_l.fromBase64String(t))}static fromUint8Array(t){return qP(),new Fx(_l.fromUint8Array(t))}toBase64(){return ZP(),this._delegate.toBase64()}toUint8Array(){return qP(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function MR(n){return function pU(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class mU{enableIndexedDbPersistence(t,e){return function Ex(n,t){_S(n=un(n,si));const e=zn(n);if(e._uninitializedComponentsProvider)throw new De(de.FAILED_PRECONDITION,"SDK cache is already specified.");da("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Th;return mS(e,r,new m_(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function Dx(n){_S(n=un(n,si));const t=zn(n);if(t._uninitializedComponentsProvider)throw new De(de.FAILED_PRECONDITION,"SDK cache is already specified.");da("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new Th;return mS(t,i,new fx(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function Tx(n){if(n._initialized&&!n._terminated)throw new De(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Di;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{yield(e=(0,ge.Z)(function*(i){if(!$o.D())return Promise.resolve();const r=i+"main";yield $o.delete(r)}),function(i){return e.apply(this,arguments)})(aI(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class YP{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Su||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&da("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function dR(n,t,e,i={}){var r;const s=(n=un(n,Ib))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&da("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=Yn.MOCK_USER;else{u=(0,qt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new De(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Yn(_)}n._authCredentials=new $M(new HD(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function Ab(n){return function iS(n){return n.asyncQueue.enqueue((0,ge.Z)(function*(){const t=yield gx(n),e=yield eS(n);return t.setNetworkEnabled(!0),function(i){const r=et(i);return r.vu.delete(0),Ch(r)}(e)}))}(zn(n=un(n,si)))}(this._delegate)}disableNetwork(){return function NP(n){return function lR(n){return n.asyncQueue.enqueue((0,ge.Z)(function*(){const t=yield gx(n),e=yield eS(n);return t.setNetworkEnabled(!1),(i=(0,ge.Z)(function*(r){const s=et(r);s.vu.add(0),yield qp(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(zn(n=un(n,si)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,bx("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Ix(n){return function(t){const e=new Di;return t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function MP(n,t){return zI.apply(this,arguments)}(yield _x(t),e)})),e.promise}(zn(n=un(n,si)))}(this._delegate)}onSnapshotsInSync(t){return function WV(n,t){return function oS(n,t){const e=new g_(t);return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return i=yield Ih(n),r=e,et(i).ku.add(r),void r.next();var i,r})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return i=yield Ih(n),r=e,void et(i).ku.delete(r);var i,r}))}}(zn(n=un(n,si)),pS(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new De("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new jb(this,hS(this._delegate,t))}catch(e){throw gs(e,"collection()","Firestore.collection()")}}doc(t){try{return new vl(this,Cx(this._delegate,t))}catch(e){throw gs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new _s(this,function hR(n,t){if(n=un(n,Ib),Tb("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new De(de.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Dr(n,null,(e=t,new Pu(fn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw gs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function sU(n,t,e){n=un(n,si);const i=Object.assign(Object.assign({},rU),e);return function(r){if(r.maxAttempts<1)throw new De(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,u){const h=new Di;return r.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){const _=yield function tS(n){return Eb(n).then(t=>t.datastore)}(r);new JI(r.asyncQueue,_,u,s,h).run()})),h.promise}(zn(n),r=>t(new oU(n,r)),i)}(this._delegate,e=>t(new WP(this,e)))}batch(){return zn(this._delegate),new KP(new $P(this._delegate,t=>zb(this._delegate,t)))}loadBundle(t){return function FP(n,t){const e=zn(n=un(n,si)),i=new pR;return function uR(n,t,e,i){const r=function(s,u){let h;return h="string"==typeof s?AT().encode(s):s,_=function(_,b){if(_ instanceof Uint8Array)return WI(_,b);if(_ instanceof ArrayBuffer)return WI(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new KI(_,u);var _}(e,o_(t));n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){!function hx(n,t,e){const i=et(n);var r;(r=(0,ge.Z)(function*(s,u,h){try{const _=yield u.getMetadata();if(yield function(O,B){const z=et(O),q=ji(B.createTime);return z.persistence.runTransaction("hasNewerBundle","readonly",W=>z.qs.getBundleMetadata(W,B.id)).then(W=>!!W&&W.createTime.compareTo(q)>=0)}(s.localStore,_))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(O=_).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);h._updateProgress(K1(_));const b=new W1(_,s.localStore,u.serializer);let E=yield u.bc();for(;E;){const O=yield b.zu(E);O&&h._updateProgress(O),E=yield u.bc()}const S=yield b.complete();return yield xc(s,S.Ju,void 0),yield function(O,B){const z=et(O);return z.persistence.runTransaction("Save bundle","readwrite",q=>z.qs.saveBundleMetadata(q,B))}(s.localStore,_),h._completeWith(S.progress),Promise.resolve(S.Hu)}catch(_){return da("SyncEngine",`Loading bundle failed with ${_}`),h._failWith(_),Promise.resolve(new Set)}var O}),function(s,u,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield _x(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function gS(n,t){return function sS(n,t){return n.asyncQueue.enqueue((0,ge.Z)(function*(){return function(e,i){const r=et(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield Db(n),t)}))}(zn(n=un(n,si)),t).then(e=>e?new Dr(n,null,e.query):null)}(this._delegate,t).then(e=>e?new _s(this,e):null)}}class wS extends D{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fx(new _l(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return vl.forKey(e,this.firestore,null)}}class WP{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new wS(t)}get(t){const e=A_(t);return this._delegate.get(e).then(i=>new Lx(this._firestore,new ht(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=A_(t);return i?(AR("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=A_(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=A_(t);return this._delegate.delete(e),this}}class KP{constructor(t){this._delegate=t}set(t,e,i){const r=A_(t);return i?(AR("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=A_(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=A_(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class S_{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new xe(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Bx(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=S_.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new S_(t,new wS(t),e),r.set(e,s)),s}}S_.INSTANCES=new WeakMap;class vl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new wS(t)}static forPath(t,e,i){if(t.length%2!=0)throw new De("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new vl(e,new _i(e._delegate,i,new nt(t)))}static forKey(t,e,i){return new vl(e,new _i(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new jb(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new jb(this.firestore,hS(this._delegate,t))}catch(e){throw gs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,qt.m9)(t))instanceof _i&&fR(this._delegate,t)}set(t,e){e=AR("DocumentReference.set",e);try{return e?HP(this._delegate,t,e):HP(this._delegate,t)}catch(i){throw gs(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?zP(this._delegate,t):zP(this._delegate,t,e,...i)}catch(r){throw gs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function ZV(n){return zb(un(n.firestore,si),[new Rp(n._key,Hn.none())])}(this._delegate)}onSnapshot(...t){const e=QP(t),i=JP(t,r=>new Lx(this.firestore,new ht(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return jP(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function zV(n){n=un(n,_i);const t=un(n.firestore,si),e=zn(t),i=new Ec(t);return function rS(n,t){const e=new Di;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(i=(0,ge.Z)(function*(r,s,u){try{const h=yield function(_,b){const E=et(_);return E.persistence.runTransaction("read document","readonly",S=>E.localDocuments.getDocument(S,b))}(r,s);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new De(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const _=Wp(h,`Failed to get document '${s} from cache`);u.reject(_)}}),function(r,s,u){return i.apply(this,arguments)})(yield Db(n),t,e);var i})),e.promise}(e,n._key).then(r=>new ht(t,i,n._key,r,new je(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function jV(n){n=un(n,_i);const t=un(n.firestore,si);return cR(zn(t),n._key,{source:"server"}).then(e=>SR(t,n,e))}(this._delegate):function ya(n){n=un(n,_i);const t=un(n.firestore,si);return cR(zn(t),n._key).then(e=>SR(t,n,e))}(this._delegate),e.then(i=>new Lx(this.firestore,new ht(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new vl(this.firestore,this._delegate.withConverter(t?S_.getInstance(this.firestore,t):null))}}function gs(n,t,e){return n.message=n.message.replace(t,e),n}function QP(n){for(const t of n)if("object"==typeof t&&!MR(t))return t;return{}}function JP(n,t){var e,i;let r;return r=MR(n[0])?n[0]:MR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Lx{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new vl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return xn(this._delegate,t._delegate)}}class Bx extends Lx{data(t){const e=this._delegate.data(t);return function Tg(n,t){n||dt()}(void 0!==e),e}}class _s{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new wS(t)}where(t,e,i){try{return new _s(this.firestore,Rh(this._delegate,function DR(n,t,e){const i=t,r=Ub("where",n);return Hb._create(r,i,e)}(t,e,i)))}catch(r){throw gs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new _s(this.firestore,Rh(this._delegate,function TR(n,t="asc"){const e=t,i=Ub("orderBy",n);return bS._create(i,e)}(t,e)))}catch(i){throw gs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new _s(this.firestore,Rh(this._delegate,function BP(n){return uS("limit",n),Ox._create("limit",n,"F")}(t)))}catch(e){throw gs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new _s(this.firestore,Rh(this._delegate,function VP(n){return uS("limitToLast",n),Ox._create("limitToLast",n,"L")}(t)))}catch(e){throw gs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new _s(this.firestore,Rh(this._delegate,function UP(...n){return Px._create("startAt",n,!0)}(...t)))}catch(e){throw gs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new _s(this.firestore,Rh(this._delegate,function IR(...n){return Px._create("startAfter",n,!1)}(...t)))}catch(e){throw gs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new _s(this.firestore,Rh(this._delegate,function a(...n){return Nx._create("endBefore",n,!1)}(...t)))}catch(e){throw gs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new _s(this.firestore,Rh(this._delegate,function l(...n){return Nx._create("endAt",n,!0)}(...t)))}catch(e){throw gs(e,"endAt()","Query.endAt()")}}isEqual(t){return fS(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function GV(n){n=un(n,Dr);const t=un(n.firestore,si),e=zn(t),i=new Ec(t);return function yx(n,t){const e=new Di;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(i=(0,ge.Z)(function*(r,s,u){try{const h=yield t_(r,s,!0),_=new RI(s,h.ir),b=_.sc(h.documents),E=_.applyChanges(b,!1);u.resolve(E.snapshot)}catch(h){const _=Wp(h,`Failed to execute query '${s} against cache`);u.reject(_)}}),function(r,s,u){return i.apply(this,arguments)})(yield Db(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Tt(t,i,n,r))}(this._delegate):"server"===t?.source?function qV(n){n=un(n,Dr);const t=un(n.firestore,si),e=zn(t),i=new Ec(t);return vx(e,n._query,{source:"server"}).then(r=>new Tt(t,i,n,r))}(this._delegate):function $V(n){n=un(n,Dr);const t=un(n.firestore,si),e=zn(t),i=new Ec(t);return D_(n._query),vx(e,n._query).then(r=>new Tt(t,i,n,r))}(this._delegate),e.then(i=>new RR(this.firestore,new Tt(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=QP(t),i=JP(t,r=>new RR(this.firestore,new Tt(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return jP(this._delegate,e,i)}withConverter(t){return new _s(this.firestore,this._delegate.withConverter(t?S_.getInstance(this.firestore,t):null))}}class _U{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Bx(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class RR{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new _s(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Bx(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new _U(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Bx(this._firestore,i))})}isEqual(t){return xn(this._delegate,t._delegate)}}class jb extends _s{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new vl(this.firestore,t):null}doc(t){try{return new vl(this.firestore,void 0===t?Cx(this._delegate):Cx(this._delegate,t))}catch(e){throw gs(e,"doc()","CollectionReference.doc()")}}add(t){return function YV(n,t){const e=un(n.firestore,si),i=Cx(n),r=A(n.converter,t);return zb(e,[kb(Ah(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Hn.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new vl(this.firestore,e))}isEqual(t){return fR(this._delegate,t._delegate)}withConverter(t){return new jb(this.firestore,this._delegate.withConverter(t?S_.getInstance(this.firestore,t):null))}}function A_(n){return un(n,_i)}class kR{constructor(...t){this._delegate=new yl(...t)}static documentId(){return new kR(Ti.keyField().canonicalString())}isEqual(t){return(t=(0,qt.m9)(t))instanceof yl&&this._delegate._internalPath.isEqual(t._internalPath)}}class M_{constructor(t){this._delegate=t}static serverTimestamp(){const t=function lU(){return new Ax("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new M_(t)}static delete(){const t=function aU(){return new Ob("deleteField")}();return t._methodName="FieldValue.delete",new M_(t)}static arrayUnion(...t){const e=function cU(...n){return new wR("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new M_(e)}static arrayRemove(...t){const e=function uU(...n){return new CR("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new M_(e)}static increment(t){const e=function dU(n){return new xR("increment",n)}(t);return e._methodName="FieldValue.increment",new M_(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const yU={Firestore:YP,GeoPoint:Mb,Timestamp:mi,Blob:Fx,Transaction:WP,WriteBatch:KP,DocumentReference:vl,DocumentSnapshot:Lx,Query:_s,QueryDocumentSnapshot:Bx,QuerySnapshot:RR,CollectionReference:jb,FieldPath:kR,FieldValue:M_,setLogLevel:function gU(n){!function zM(n){Du.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function bU(n){(function vU(n,t){n.INTERNAL.registerComponent(new jf.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},yU)))})(n,(t,e)=>new YP(t,e,new mU)),n.registerVersion("@firebase/firestore-compat","0.3.10")}(pM.Z);var Rt=P(7579),Dc=P(6451),CS=P(5363);function rr(n,t){return(0,Hr.e)((e,i)=>{let r=null,s=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,Sn.x)(i,_=>{r?.unsubscribe();let b=0;const E=s++;(0,Rs.Xf)(n(_,E)).subscribe(r=(0,Sn.x)(i,S=>i.next(t?t(_,S,E,b++):S),()=>{r=null,h()}))},()=>{u=!0,h()}))})}var wU=P(6063);class CU extends Rt.x{constructor(t=1/0,e=1/0,i=wU.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:u}=this;e||(i.push(t),!r&&i.push(s.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let u=0;u<s.length&&!t.closed;u+=i?1:2)t.next(s[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const u=e.now();let h=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)h=_;h&&i.splice(0,h+1)}}}var XP=P(3099);function OR(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,XP.B)({connector:()=>new CU(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const xS=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var qu=P(515);function Tr(n){return n<=0?()=>qu.E:(0,Hr.e)((t,e)=>{let i=0;t.subscribe((0,Sn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function ES(n){return(0,Hr.e)((t,e)=>{let i=!1;t.subscribe((0,Sn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function eN(n=EU){return(0,Hr.e)((t,e)=>{let i=!1;t.subscribe((0,Sn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function EU(){return new xS}var DS=P(4671);function tm(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Vn((r,s)=>n(r,s,i)):DS.y,Tr(1),e?ES(t):eN(()=>new xS))}var bl=P(576);function tN(n,t){return(0,bl.m)(t)?rr(()=>n,t):rr(()=>n)}var PR=P(9468);P(259);const FR=new Map,iN={activated:!1,tokenObservers:[]},AU={initialized:!1,enabled:!1};function or(n){return FR.get(n)||Object.assign({},iN)}function IS(){return AU}const LR="https://content-firebaseappcheck.googleapis.com/v1",OU="exchangeDebugToken",rN={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class NU{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ge.Z)(function*(){e.stop();try{e.pending=new qt.BH,yield function FU(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new qt.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Mo=new qt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function BR(n){if(!or(n).activated)throw Mo.create("use-before-activation",{appName:n.name})}function MS(n,t){return UR.apply(this,arguments)}function UR(){return UR=(0,ge.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const S=yield r.getHeartbeatsHeader();S&&(i["X-Firebase-Client"]=S)}const s={method:"POST",body:JSON.stringify(t),headers:i};let u,h;try{u=yield fetch(n,s)}catch(S){throw Mo.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==u.status)throw Mo.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(S){throw Mo.create("fetch-parse-error",{originalErrorMessage:S?.message})}const _=h.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Mo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const b=1e3*Number(_[1]),E=Date.now();return{token:h.token,expireTimeMillis:E+b,issuedAtTimeMillis:E}}),UR.apply(this,arguments)}function oN(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${LR}/projects/${e}/apps/${i}:${OU}?key=${r}`,body:{debug_token:t}}}const UU="firebase-app-check-database",HU=1,Vx="firebase-app-check-store";let RS=null;function HR(){return HR=(0,ge.Z)(function*(n,t){const i=(yield function aN(){return RS||(RS=new Promise((n,t)=>{try{const e=indexedDB.open(UU,HU);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Mo.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Vx,{keyPath:"compositeKey"})}}catch(e){t(Mo.create("storage-open",{originalErrorMessage:e?.message}))}}),RS)}()).transaction(Vx,"readwrite"),s=i.objectStore(Vx).put({compositeKey:n,value:t});return new Promise((u,h)=>{s.onsuccess=_=>{u()},i.onerror=_=>{var b;h(Mo.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),HR.apply(this,arguments)}const Ux=new Fs.Yd("@firebase/app-check");function $R(n,t){return(0,qt.hl)()?function jU(n,t){return function lN(n,t){return HR.apply(this,arguments)}(function uN(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Ux.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function qR(){return IS().enabled}function ZR(){return YR.apply(this,arguments)}function YR(){return YR=(0,ge.Z)(function*(){const n=IS();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),YR.apply(this,arguments)}const WU={error:"UNKNOWN_ERROR"};function KU(n){return qt.US.encodeString(JSON.stringify(n),!1)}function kS(n){return WR.apply(this,arguments)}function WR(){return WR=(0,ge.Z)(function*(n,t=!1){const e=n.app;BR(e);const i=or(e);let s,r=i.token;if(r&&!$b(r)&&(i.token=void 0,r=void 0),!r){const _=yield i.cachedTokenPromise;_&&($b(_)?r=_:yield $R(e,void 0))}if(!t&&r&&$b(r))return{token:r.token};let h,u=!1;if(qR()){i.exchangeTokenPromise||(i.exchangeTokenPromise=MS(oN(e,yield ZR()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const _=yield i.exchangeTokenPromise;return yield $R(e,_),i.token=_,{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield or(e).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Ux.warn(_.message):Ux.error(_),s=_}return r?s?h=$b(r)?{token:r.token,internalError:s}:pN(s):(h={token:r.token},i.token=r,yield $R(e,r)):h=pN(s),u&&function fN(n,t){const e=or(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,h),h}),WR.apply(this,arguments)}function KR(){return KR=(0,ge.Z)(function*(n){const t=n.app;BR(t);const{provider:e}=or(t);if(qR()){const i=yield ZR(),{token:r}=yield MS(oN(t,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield e.getToken();return{token:i}}}),KR.apply(this,arguments)}function JR(n,t){const e=or(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function hN(n){const{app:t}=n,e=or(t);let i=e.tokenRefresher;i||(i=function QU(n){const{app:t}=n;return new NU((0,ge.Z)(function*(){let i;if(i=or(t).token?yield kS(n,!0):yield kS(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=or(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},rN.RETRIAL_MIN_WAIT,rN.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function $b(n){return n.expireTimeMillis-Date.now()>0}function pN(n){return{token:KU(WU),error:n}}class JU{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=or(this.app);for(const e of t)JR(this.app,e.next);return Promise.resolve()}}const CN="app-check-internal";!function h3(){(0,us._registerComponent)(new jf.wA("app-check",n=>function XU(n,t){return new JU(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(CN).initialize()})),(0,us._registerComponent)(new jf.wA(CN,n=>function e3(n){return{getToken:t=>kS(n,t),getLimitedUseToken:()=>function dN(n){return KR.apply(this,arguments)}(n),addTokenListener:t=>function QR(n,t,e,i){const{app:r}=n,s=or(r);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:i,type:t}],s.token&&$b(s.token)){const h=s.token;Promise.resolve().then(()=>{e({token:h.token}),hN(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>hN(n))}(n,"INTERNAL",t),removeTokenListener:t=>JR(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,us.registerVersion)("@firebase/app-check","0.8.0")}();class PS{constructor(){return(0,Zn.vb)("app-check")}}typeof window<"u"&&window;var _3=P(9260);const EN=new o.OlP("angularfire2.auth.use-emulator"),DN=new o.OlP("angularfire2.auth.settings"),TN=new o.OlP("angularfire2.auth.tenant-id"),IN=new o.OlP("angularfire2.auth.langugage-code"),SN=new o.OlP("angularfire2.auth.use-device-language"),AN=new o.OlP("angularfire.auth.persistence"),MN=(n,t,e,i,r,s,u,h)=>(0,er.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=t.runOutsideAngular(()=>n.auth());if(e&&_.useEmulator(...e),i&&(_.tenantId=i),_.languageCode=r,s&&_.useDeviceLanguage(),u)for(const[b,E]of Object.entries(u))_.settings[b]=E;return h&&_.setPersistence(h),_},[e,i,r,s,u,h]);let RN=(()=>{class n{constructor(e,i,r,s,u,h,_,b,E,S,O,B){const z=new Rt.x,q=(0,st.of)(void 0).pipe((0,CS.Q)(u.outsideAngular),rr(()=>s.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,2644)))),(0,Ke.U)(()=>(0,er.on)(e,s,i)),(0,Ke.U)(W=>MN(W,s,h,b,E,S,_,O)),OR({bufferSize:1,refCount:!1}));if(Ws(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,st.of)(null);else{q.pipe(tm()).subscribe();const Re=q.pipe(rr(Ge=>Ge.getRedirectResult().then(It=>It,()=>null)),Zn.iC,OR({bufferSize:1,refCount:!1})),We=q.pipe(rr(Ge=>new On.y(It=>({unsubscribe:s.runOutsideAngular(()=>Ge.onAuthStateChanged(Pt=>It.next(Pt),Pt=>It.error(Pt),()=>It.complete()))})))),Pe=q.pipe(rr(Ge=>new On.y(It=>({unsubscribe:s.runOutsideAngular(()=>Ge.onIdTokenChanged(Pt=>It.next(Pt),Pt=>It.error(Pt),()=>It.complete()))}))));this.authState=Re.pipe(tN(We),(0,PR.R)(u.outsideAngular),(0,CS.Q)(u.insideAngular)),this.user=Re.pipe(tN(Pe),(0,PR.R)(u.outsideAngular),(0,CS.Q)(u.insideAngular)),this.idToken=this.user.pipe(rr(Ge=>Ge?(0,ln.D)(Ge.getIdToken()):(0,st.of)(null))),this.idTokenResult=this.user.pipe(rr(Ge=>Ge?(0,ln.D)(Ge.getIdTokenResult()):(0,st.of)(null))),this.credential=(0,Dc.T)(Re,z,this.authState.pipe(Vn(Ge=>!Ge))).pipe((0,Ke.U)(Ge=>Ge?.user?Ge:null),(0,PR.R)(u.outsideAngular),(0,CS.Q)(u.insideAngular))}return(0,er.pX)(this,q,s,{spy:{apply:(W,Re,We)=>{(W.startsWith("signIn")||W.startsWith("createUser"))&&We.then(Pe=>z.next(Pe))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(er.Dh),o.LFG(er.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Zn.HU),o.LFG(EN,8),o.LFG(DN,8),o.LFG(TN,8),o.LFG(IN,8),o.LFG(SN,8),o.LFG(AN,8),o.LFG(PS,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function kN(n,t){return function v3(n,t=ac.z){return new On.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function ik(n,t){return kN(n,t).pipe((0,Ke.U)(e=>({payload:e,type:"query"})))}function NS(n,t){return ik(n,t).pipe(Ns(void 0),wy(),(0,Ke.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const _=r.find(E=>E.doc.ref.isEqual(u.ref)),b=e?.payload.docs.find(E=>E.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),s}))}function ON(n,t,e){return NS(n,e).pipe(zf((i,r)=>function w3(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function C3(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return rk(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return rk(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return rk(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),(0,lc.x)(),(0,Ke.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function rk(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function PN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class NN{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=NS(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Ke.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Ns(void 0),wy(),Vn(([i,r])=>r.length>0||!i),(0,Ke.U)(([i,r])=>r),Zn.iC)}auditTrail(t){return this.stateChanges(t).pipe(zf((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=PN(t);return ON(this.query,e,this.afs.schedulers.outsideAngular).pipe(Zn.iC)}valueChanges(t={}){return ik(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Zn.iC)}get(t){return(0,ln.D)(this.query.get(t)).pipe(Zn.iC)}add(t){return this.ref.add(t)}doc(t){return new FN(this.ref.doc(t),this.afs)}}class FN{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=VN(i,e);return new NN(r,s,this.afs)}snapshotChanges(){return function b3(n,t){return kN(n,t).pipe(Ns(void 0),wy(),(0,Ke.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Zn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Ke.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,ln.D)(this.ref.get(t)).pipe(Zn.iC)}}class x3{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?NS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Vn(e=>e.length>0),Zn.iC):NS(this.query,this.afs.schedulers.outsideAngular).pipe(Zn.iC)}auditTrail(t){return this.stateChanges(t).pipe(zf((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=PN(t);return ON(this.query,e,this.afs.schedulers.outsideAngular).pipe(Zn.iC)}valueChanges(t={}){return ik(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Zn.iC)}get(t){return(0,ln.D)(this.query.get(t)).pipe(Zn.iC)}}const LN=new o.OlP("angularfire2.enableFirestorePersistence"),BN=new o.OlP("angularfire2.firestore.persistenceSettings"),E3=new o.OlP("angularfire2.firestore.settings"),D3=new o.OlP("angularfire2.firestore.use-emulator");function VN(n,t=(e=>e)){return{query:t(n),ref:n}}let R_=(()=>{class n{constructor(e,i,r,s,u,h,_,b,E,S,O,B,z,q,W,Re,We){this.schedulers=_;const Pe=(0,er.on)(e,h,i),Ge=E;S&&MN(Pe,h,O,z,q,W,B,Re),[this.firestore,this.persistenceEnabled$]=(0,er.cc)(`${Pe.name}.firestore`,"AngularFirestore",Pe.name,()=>{const It=h.runOutsideAngular(()=>Pe.firestore());if(s&&It.settings(s),Ge&&It.useEmulator(...Ge),r&&!Ws(u)){const Pt=()=>{try{return(0,ln.D)(It.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(gn){return typeof console<"u"&&console.warn(gn),(0,st.of)(!1)}};return[It,h.runOutsideAngular(Pt)]}return[It,(0,st.of)(!1)]},[s,Ge,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:u}=VN(r,i),h=this.schedulers.ngZone.run(()=>s);return new NN(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),s=this.firestore.collectionGroup(e);return new x3(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new FN(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(er.Dh),o.LFG(er.xv,8),o.LFG(LN,8),o.LFG(E3,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Zn.HU),o.LFG(BN,8),o.LFG(D3,8),o.LFG(RN,8),o.LFG(EN,8),o.LFG(DN,8),o.LFG(TN,8),o.LFG(IN,8),o.LFG(SN,8),o.LFG(AN,8),o.LFG(PS,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),T3=(()=>{class n{constructor(){_3.Z.registerVersion("angularfire",Zn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:LN,useValue:!0},{provide:BN,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[R_]}),n})();const I3_firebase={apiKey:"AIzaSyAo206tHJEmiSPxxAMxP5-_72IUw5F3TPo",authDomain:"pixie-dus.firebaseapp.com",projectId:"pixie-dus",storageBucket:"pixie-dus.firebasestorage.app",messagingSenderId:"345783407172",appId:"1:345783407172:web:fa6ecbd252de3e3403a211",measurementId:"G-BEBBECWQ2S"};function UN(n){return!!n&&(n instanceof On.y||(0,bl.m)(n.lift)&&(0,bl.m)(n.subscribe))}var Zo=P(1135),S3=P(9672);function k_(...n){const t=(0,Ha.yG)(n),e=(0,Ha.jO)(n),{args:i,keys:r}=Ua(n);if(0===i.length)return(0,ln.D)([],t);const s=new On.y(function A3(n,t,e=DS.y){return i=>{HN(t,()=>{const{length:r}=n,s=new Array(r);let u=r,h=r;for(let _=0;_<r;_++)HN(t,()=>{const b=(0,ln.D)(n[_],t);let E=!1;b.subscribe((0,Sn.x)(i,S=>{s[_]=S,E||(E=!0,h--),h||i.next(e(s.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>ks(r,u):DS.y));return e?s.pipe(za(e)):s}function HN(n,t,e){n?(0,S3.f)(e,n,t):t()}function Hx(n){return new On.y(t=>{(0,Rs.Xf)(n()).subscribe(t)})}var M3=P(9635);function Gb(n,t){const e=(0,bl.m)(n)?n:()=>n,i=r=>r.error(e());return new On.y(t?r=>t.schedule(i,0,r):i)}var Hs=P(727);function ok(){return(0,Hr.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Sn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class sk extends On.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Hr.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Hs.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Sn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Hs.w0.EMPTY)}return t}refCount(){return ok()(this)}}var Yo=P(5577);function qb(n,t){return(0,bl.m)(t)?(0,Yo.z)(n,t,1):(0,Yo.z)(n,1)}var Zr=P(8505);function nm(n){return(0,Hr.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,Sn.x)(e,void 0,void 0,u=>{s=(0,Rs.Xf)(n(u,nm(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function ak(n){return n<=0?()=>qu.E:(0,Hr.e)((t,e)=>{let i=[];t.subscribe((0,Sn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function kh(n){return(0,Hr.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const tn="primary",zx=Symbol("RouteTitle");class O3{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Zb(n){return new O3(n)}function P3(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const u=i[s],h=n[s];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Zu(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!zN(n[r],t[r]))return!1;return!0}function zN(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function jN(n){return n.length>0?n[n.length-1]:null}function im(n){return UN(n)?n:(0,o.QGY)(n)?(0,ln.D)(Promise.resolve(n)):(0,st.of)(n)}const F3={exact:function qN(n,t,e){if(!O_(n.segments,t.segments)||!FS(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!qN(n.children[i],t.children[i],e))return!1;return!0},subset:ZN},$N={exact:function L3(n,t){return Zu(n,t)},subset:function B3(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>zN(n[e],t[e]))},ignored:()=>!0};function GN(n,t,e){return F3[e.paths](n.root,t.root,e.matrixParams)&&$N[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function ZN(n,t,e){return YN(n,t,t.segments,e)}function YN(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!O_(r,e)||t.hasChildren()||!FS(r,e,i))}if(n.segments.length===e.length){if(!O_(n.segments,e)||!FS(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!ZN(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(O_(n.segments,r)&&FS(n.segments,r,i)&&n.children[tn])&&YN(n.children[tn],t,s,i)}}function FS(n,t,e){return t.every((i,r)=>$N[e](n[r].parameters,i.parameters))}class Yb{constructor(t=new jn([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zb(this.queryParams)),this._queryParamMap}toString(){return H3.serialize(this)}}class jn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return LS(this)}}class jx{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Zb(this.parameters)),this._parameterMap}toString(){return QN(this)}}function O_(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let $x=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return new lk},providedIn:"root"}),n})();class lk{parse(t){const e=new J3(t);return new Yb(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Gx(t.root,!0)}`,i=function $3(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${BS(e)}=${BS(r)}`).join("&"):`${BS(e)}=${BS(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function z3(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const H3=new lk;function LS(n){return n.segments.map(t=>QN(t)).join("/")}function Gx(n,t){if(!n.hasChildren())return LS(n);if(t){const e=n.children[tn]?Gx(n.children[tn],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==tn&&i.push(`${r}:${Gx(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function U3(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===tn&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==tn&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===tn?[Gx(n.children[tn],!1)]:[`${r}:${Gx(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[tn]?`${LS(n)}/${e[0]}`:`${LS(n)}/(${e.join("//")})`}}function WN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function BS(n){return WN(n).replace(/%3B/gi,";")}function ck(n){return WN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function VS(n){return decodeURIComponent(n)}function KN(n){return VS(n.replace(/\+/g,"%20"))}function QN(n){return`${ck(n.path)}${function j3(n){return Object.keys(n).map(t=>`;${ck(t)}=${ck(n[t])}`).join("")}(n.parameters)}`}const G3=/^[^\/()?;#]+/;function uk(n){const t=n.match(G3);return t?t[0]:""}const q3=/^[^\/()?;=#]+/,Y3=/^[^=?&#]+/,K3=/^[^&#]+/;class J3{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jn([],{}):new jn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[tn]=new jn(t,e)),i}parseSegment(){const t=uk(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new o.vHH(4009,!1);return this.capture(t),new jx(VS(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function Z3(n){const t=n.match(q3);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=uk(this.remaining);r&&(i=r,this.capture(i))}t[VS(e)]=VS(i)}parseQueryParam(t){const e=function W3(n){const t=n.match(Y3);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function Q3(n){const t=n.match(K3);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=KN(e),s=KN(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=uk(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new o.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=tn);const u=this.parseChildren();e[s]=1===Object.keys(u).length?u[tn]:new jn([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new o.vHH(4011,!1)}}function JN(n){return n.segments.length>0?new jn([],{[tn]:n}):n}function XN(n){const t={};for(const i of Object.keys(n.children)){const s=XN(n.children[i]);if(i===tn&&0===s.segments.length&&s.hasChildren())for(const[u,h]of Object.entries(s.children))t[u]=h;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function X3(n){if(1===n.numberOfChildren&&n.children[tn]){const t=n.children[tn];return new jn(n.segments.concat(t.segments),t.children)}return n}(new jn(n.segments,t))}function P_(n){return n instanceof Yb}function eF(n){let t;const r=JN(function e(s){const u={};for(const _ of s.children){const b=e(_);u[_.outlet]=b}const h=new jn(s.url,u);return s===n&&(t=h),h}(n.root));return t??r}function tF(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return dk(r,r,r,e,i);const s=function tH(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new iF(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Object.entries(s.outlets).forEach(([_,b])=>{h[_]="string"==typeof b?b.split("/"):b}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===u?(s.split("/").forEach((h,_)=>{0==_&&"."===h||(0==_&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new iF(e,t,i)}(t);if(s.toRoot())return dk(r,r,new jn([],{}),e,i);const u=function nH(n,t,e){if(n.isAbsolute)return new HS(t,!0,0);if(!e)return new HS(t,!1,NaN);if(null===e.parent)return new HS(e,!0,0);const i=US(n.commands[0])?0:1;return function iH(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new o.vHH(4005,!1);r=i.segments.length}return new HS(i,!1,r-s)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),h=u.processChildren?Zx(u.segmentGroup,u.index,s.commands):rF(u.segmentGroup,u.index,s.commands);return dk(r,u.segmentGroup,h,e,i)}function US(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function qx(n){return"object"==typeof n&&null!=n&&n.outlets}function dk(n,t,e,i,r){let u,s={};i&&Object.entries(i).forEach(([_,b])=>{s[_]=Array.isArray(b)?b.map(E=>`${E}`):`${b}`}),u=n===t?e:nF(n,t,e);const h=JN(XN(u));return new Yb(h,s,r)}function nF(n,t,e){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===t?e:nF(s,t,e)}),new jn(n.segments,i)}class iF{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&US(i[0]))throw new o.vHH(4003,!1);const r=i.find(qx);if(r&&r!==jN(i))throw new o.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class HS{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function rF(n,t,e){if(n||(n=new jn([],{})),0===n.segments.length&&n.hasChildren())return Zx(n,t,e);const i=function oH(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const u=n.segments[r],h=e[i];if(qx(h))break;const _=`${h}`,b=i<e.length-1?e[i+1]:null;if(r>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!sF(_,b,u))return s;i+=2}else{if(!sF(_,{},u))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new jn(n.segments.slice(0,i.pathIndex),{});return s.children[tn]=new jn(n.segments.slice(i.pathIndex),n.children),Zx(s,0,r)}return i.match&&0===r.length?new jn(n.segments,{}):i.match&&!n.hasChildren()?hk(n,t,e):i.match?Zx(n,0,r):hk(n,t,e)}function Zx(n,t,e){if(0===e.length)return new jn(n.segments,{});{const i=function rH(n){return qx(n[0])?n[0].outlets:{[tn]:n}}(e),r={};if(!i[tn]&&n.children[tn]&&1===n.numberOfChildren&&0===n.children[tn].segments.length){const s=Zx(n.children[tn],t,e);return new jn(n.segments,s.children)}return Object.entries(i).forEach(([s,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(r[s]=rF(n.children[s],t,u))}),Object.entries(n.children).forEach(([s,u])=>{void 0===i[s]&&(r[s]=u)}),new jn(n.segments,r)}}function hk(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(qx(s)){const _=sH(s.outlets);return new jn(i,_)}if(0===r&&US(e[0])){i.push(new jx(n.segments[t].path,oF(e[0]))),r++;continue}const u=qx(s)?s.outlets[tn]:`${s}`,h=r<e.length-1?e[r+1]:null;u&&h&&US(h)?(i.push(new jx(u,oF(h))),r+=2):(i.push(new jx(u,{})),r++)}return new jn(i,{})}function sH(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=hk(new jn([],{}),0,i))}),t}function oF(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function sF(n,t,e){return n==e.path&&Zu(t,e.parameters)}const Yx="imperative";class Yu{constructor(t,e){this.id=t,this.url=e}}class fk extends Yu{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class N_ extends Yu{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zS extends Yu{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wx extends Yu{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class pk extends Yu{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class aH extends Yu{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lH extends Yu{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cH extends Yu{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class uH extends Yu{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dH extends Yu{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hH{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fH{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pH{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mH{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gH{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _H{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aF{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class yH{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Kx,this.attachRef=null}}let Kx=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new yH,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class lF{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=mk(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=mk(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=gk(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return gk(t,this._root).map(e=>e.value)}}function mk(n,t){if(n===t.value)return t;for(const e of t.children){const i=mk(n,e);if(i)return i}return null}function gk(n,t){if(n===t.value)return[t];for(const e of t.children){const i=gk(n,e);if(i.length)return i.unshift(t),i}return[]}class Oh{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Wb(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class cF extends lF{constructor(t,e){super(t),this.snapshot=e,_k(this,t)}toString(){return this.snapshot.toString()}}function uF(n,t){const e=function vH(n,t){const u=new jS([],{},{},"",{},tn,t,null,{});return new hF("",new Oh(u,[]))}(0,t),i=new Zo.X([new jx("",{})]),r=new Zo.X({}),s=new Zo.X({}),u=new Zo.X({}),h=new Zo.X(""),_=new Kb(i,r,u,h,s,tn,t,e.root);return _.snapshot=e.root,new cF(new Oh(_,[]),e)}class Kb{constructor(t,e,i,r,s,u,h,_){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=u,this.component=h,this._futureSnapshot=_,this.title=this.dataSubject?.pipe((0,Ke.U)(b=>b[zx]))??(0,st.of)(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ke.U)(t=>Zb(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ke.U)(t=>Zb(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dF(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function bH(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class jS{get title(){return this.data?.[zx]}constructor(t,e,i,r,s,u,h,_,b){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this.routeConfig=_,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zb(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zb(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hF extends lF{constructor(t,e){super(e),this.url=t,_k(this,e)}toString(){return fF(this._root)}}function _k(n,t){t.value._routerState=n,t.children.forEach(e=>_k(n,e))}function fF(n){const t=n.children.length>0?` { ${n.children.map(fF).join(", ")} } `:"";return`${n.value}${t}`}function yk(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Zu(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Zu(t.params,e.params)||n.paramsSubject.next(e.params),function N3(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Zu(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Zu(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function vk(n,t){const e=Zu(n.params,t.params)&&function V3(n,t){return O_(n,t)&&n.every((e,i)=>Zu(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||vk(n.parent,t.parent))}let bk=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=tn,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.parentContexts=(0,o.f3M)(Kx),this.location=(0,o.f3M)(o.s_b),this.changeDetector=(0,o.f3M)(o.sBO),this.environmentInjector=(0,o.f3M)(o.lqb),this.inputBinder=(0,o.f3M)($S,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new o.vHH(4013,!1);this._activatedRoute=e;const r=this.location,u=e.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,_=new wH(e,h,r.injector);this.activated=r.createComponent(u,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.TTD]}),n})();class wH{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Kb?this.route:t===Kx?this.childContexts:this.parent.get(t,e)}}const $S=new o.OlP("");let pF=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=k_([i.queryParams,i.params,i.data]).pipe(rr(([s,u,h],_)=>(h={...s,...u,...h},0===_?(0,st.of)(h):Promise.resolve(h)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const u=(0,o.qFp)(i.component);if(u)for(const{templateName:h}of u.inputs)e.activatedComponentRef.setInput(h,s[h]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Qx(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function xH(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Qx(n,i,r);return Qx(n,i)})}(n,t,e);return new Oh(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>Qx(n,h)),u}}const i=function EH(n){return new Kb(new Zo.X(n.url),new Zo.X(n.params),new Zo.X(n.queryParams),new Zo.X(n.fragment),new Zo.X(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Qx(n,s));return new Oh(i,r)}}const wk="ngNavigationCancelingError";function mF(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=P_(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=gF(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function gF(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[wk]=!0,i.cancellationCode=t,e&&(i.url=e),i}function _F(n){return yF(n)&&P_(n.url)}function yF(n){return n&&n[wk]}let vF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},dependencies:[bk],encapsulation:2}),n})();function Ck(n){const t=n.children&&n.children.map(Ck),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==tn&&(e.component=vF),e}function Tc(n){return n.outlet||tn}function Jx(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class RH{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),yk(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Wb(e);t.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,r[u],i),delete r[u]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Wb(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Wb(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=Wb(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new _H(s.value.snapshot))}),t.children.length&&this.forwardEvent(new mH(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(yk(r),r===s)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),yk(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=Jx(r.snapshot);u.attachRef=null,u.route=r,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class bF{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class GS{constructor(t,e){this.component=t,this.route=e}}function kH(n,t,e){const i=n._root;return Xx(i,t?t._root:null,e,[i.value])}function Qb(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,o.Z0I)(n)?t.get(n):n:i}function Xx(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Wb(t);return n.children.forEach(u=>{(function PH(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const _=function NH(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!O_(n.url,t.url);case"pathParamsOrQueryParamsChange":return!O_(n.url,t.url)||!Zu(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vk(n,t)||!Zu(n.queryParams,t.queryParams);default:return!vk(n,t)}}(u,s,s.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new bF(i)):(s.data=u.data,s._resolvedData=u._resolvedData),Xx(n,t,s.component?h?h.children:null:e,i,r),_&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new GS(h.outlet.component,u))}else u&&eE(t,h,r),r.canActivateChecks.push(new bF(i)),Xx(n,null,s.component?h?h.children:null:e,i,r)})(u,s[u.value.outlet],e,i.concat([u.value]),r),delete s[u.value.outlet]}),Object.entries(s).forEach(([u,h])=>eE(h,e.getContext(u),r)),r}function eE(n,t,e){const i=Wb(n),r=n.value;Object.entries(i).forEach(([s,u])=>{eE(u,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new GS(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function tE(n){return"function"==typeof n}function wF(n){return n instanceof xS||"EmptyError"===n?.name}const qS=Symbol("INITIAL_VALUE");function Jb(){return rr(n=>k_(n.map(t=>t.pipe(Tr(1),Ns(qS)))).pipe((0,Ke.U)(t=>{for(const e of t)if(!0!==e){if(e===qS)return qS;if(!1===e||e instanceof Yb)return e}return!0}),Vn(t=>t!==qS),Tr(1)))}function CF(n){return(0,M3.z)((0,Zr.b)(t=>{if(P_(t))throw mF(0,t)}),(0,Ke.U)(t=>!0===t))}class ZS{constructor(t){this.segmentGroup=t||null}}class xF{constructor(t){this.urlTree=t}}function Xb(n){return Gb(new ZS(n))}function EF(n){return Gb(new xF(n))}class t4{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new o.vHH(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,st.of)(i);if(r.numberOfChildren>1||!r.children[tn])return Gb(new o.vHH(4e3,!1));r=r.children[tn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Yb(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const h=s.substring(1);i[r]=e[h]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let u={};return Object.entries(e.children).forEach(([h,_])=>{u[h]=this.createSegmentGroup(t,_,i,r)}),new jn(s,u)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new o.vHH(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const xk={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function n4(n,t,e,i,r){const s=Ek(n,t,e);return s.matched?(i=function DH(n,t){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function JH(n,t,e,i){const r=t.canMatch;if(!r||0===r.length)return(0,st.of)(!0);const s=r.map(u=>{const h=Qb(u,n);return im(function HH(n){return n&&tE(n.canMatch)}(h)?h.canMatch(t,e):n.runInContext(()=>h(t,e)))});return(0,st.of)(s).pipe(Jb(),CF())}(i,t,e).pipe((0,Ke.U)(u=>!0===u?s:{...xk}))):(0,st.of)(s)}function Ek(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...xk}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||P3)(e,n,t);if(!r)return{...xk};const s={};Object.entries(r.posParams??{}).forEach(([h,_])=>{s[h]=_.path});const u=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function DF(n,t,e,i){return e.length>0&&function o4(n,t,e){return e.some(i=>YS(n,t,i)&&Tc(i)!==tn)}(n,e,i)?{segmentGroup:new jn(t,r4(i,new jn(e,n.children))),slicedSegments:[]}:0===e.length&&function s4(n,t,e){return e.some(i=>YS(n,t,i))}(n,e,i)?{segmentGroup:new jn(n.segments,i4(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new jn(n.segments,n.children),slicedSegments:e}}function i4(n,t,e,i,r){const s={};for(const u of i)if(YS(n,e,u)&&!r[Tc(u)]){const h=new jn([],{});s[Tc(u)]=h}return{...r,...s}}function r4(n,t){const e={};e[tn]=t;for(const i of n)if(""===i.path&&Tc(i)!==tn){const r=new jn([],{});e[Tc(i)]=r}return e}function YS(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class u4{constructor(t,e,i,r,s,u,h){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=u,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new t4(this.urlSerializer,this.urlTree)}noMatchError(t){return new o.vHH(4002,!1)}recognize(){const t=DF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,tn).pipe(nm(e=>{if(e instanceof xF)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof ZS?this.noMatchError(e):e}),(0,Ke.U)(e=>{const i=new jS([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},tn,this.rootComponentType,null,{}),r=new Oh(i,e),s=new hF("",r),u=function eH(n,t,e=null,i=null){return tF(eF(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(s._root),{state:s,tree:u}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,tn).pipe(nm(i=>{throw i instanceof ZS?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=dF(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,ln.D)(r).pipe(qb(s=>{const u=i.children[s],h=function AH(n,t){const e=n.filter(i=>Tc(i)===t);return e.push(...n.filter(i=>Tc(i)!==t)),e}(e,s);return this.processSegmentGroup(t,h,u,s)}),zf((s,u)=>(s.push(...u),s)),ES(null),function R3(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Vn((r,s)=>n(r,s,i)):DS.y,ak(1),e?ES(t):eN(()=>new xS))}(),(0,Yo.z)(s=>{if(null===s)return Xb(i);const u=TF(s);return function d4(n){n.sort((t,e)=>t.value.outlet===tn?-1:e.value.outlet===tn?1:t.value.outlet.localeCompare(e.value.outlet))}(u),(0,st.of)(u)}))}processSegment(t,e,i,r,s,u){return(0,ln.D)(e).pipe(qb(h=>this.processSegmentAgainstRoute(h._injector??t,e,h,i,r,s,u).pipe(nm(_=>{if(_ instanceof ZS)return(0,st.of)(null);throw _}))),tm(h=>!!h),nm(h=>{if(wF(h))return function l4(n,t,e){return 0===t.length&&!n.children[e]}(i,r,s)?(0,st.of)([]):Xb(i);throw h}))}processSegmentAgainstRoute(t,e,i,r,s,u,h){return function a4(n,t,e,i){return!!(Tc(n)===i||i!==tn&&YS(t,e,n))&&("**"===n.path||Ek(t,n,e).matched)}(i,r,s,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,u,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,u):Xb(r):Xb(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?EF(s):this.applyRedirects.lineralizeSegments(i,s).pipe((0,Yo.z)(u=>{const h=new jn(u,{});return this.processSegment(t,e,h,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u){const{matched:h,consumedSegments:_,remainingSegments:b,positionalParamSegments:E}=Ek(e,r,s);if(!h)return Xb(e);const S=this.applyRedirects.applyRedirectCommands(_,r.redirectTo,E);return r.redirectTo.startsWith("/")?EF(S):this.applyRedirects.lineralizeSegments(r,S).pipe((0,Yo.z)(O=>this.processSegment(t,i,e,O.concat(b),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,s,u){let h;if("**"===i.path){const _=r.length>0?jN(r).parameters:{},b=new jS(r,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IF(i),Tc(i),i.component??i._loadedComponent??null,i,SF(i));h=(0,st.of)({snapshot:b,consumedSegments:[],remainingSegments:[]}),e.children={}}else h=n4(e,i,r,t).pipe((0,Ke.U)(({matched:_,consumedSegments:b,remainingSegments:E,parameters:S})=>_?{snapshot:new jS(b,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IF(i),Tc(i),i.component??i._loadedComponent??null,i,SF(i)),consumedSegments:b,remainingSegments:E}:null));return h.pipe(rr(_=>null===_?Xb(e):this.getChildConfig(t=i._injector??t,i,r).pipe(rr(({routes:b})=>{const E=i._loadedInjector??t,{snapshot:S,consumedSegments:O,remainingSegments:B}=_,{segmentGroup:z,slicedSegments:q}=DF(e,O,B,b);if(0===q.length&&z.hasChildren())return this.processChildren(E,b,z).pipe((0,Ke.U)(Re=>null===Re?null:[new Oh(S,Re)]));if(0===b.length&&0===q.length)return(0,st.of)([new Oh(S,[])]);const W=Tc(i)===s;return this.processSegment(E,b,z,q,W?tn:s,!0).pipe((0,Ke.U)(Re=>[new Oh(S,Re)]))}))))}getChildConfig(t,e,i){return e.children?(0,st.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,st.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function QH(n,t,e,i){const r=t.canLoad;if(void 0===r||0===r.length)return(0,st.of)(!0);const s=r.map(u=>{const h=Qb(u,n);return im(function LH(n){return n&&tE(n.canLoad)}(h)?h.canLoad(t,e):n.runInContext(()=>h(t,e)))});return(0,st.of)(s).pipe(Jb(),CF())}(t,e,i).pipe((0,Yo.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Zr.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function e4(n){return Gb(gF(!1,3))}())):(0,st.of)({routes:[],injector:t})}}function h4(n){const t=n.value.routeConfig;return t&&""===t.path}function TF(n){const t=[],e=new Set;for(const i of n){if(!h4(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=TF(i.children);t.push(new Oh(i.value,r))}return t.filter(i=>!e.has(i))}function IF(n){return n.data||{}}function SF(n){return n.resolve||{}}function AF(n){return"string"==typeof n.title||null===n.title}function Dk(n){return rr(t=>{const e=n(t);return e?(0,ln.D)(e).pipe((0,Ke.U)(()=>t)):(0,st.of)(t)})}const e0=new o.OlP("ROUTES");let Tk=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.f3M)(o.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,st.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=im(e.loadComponent()).pipe((0,Ke.U)(MF),(0,Zr.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),kh(()=>{this.componentLoaders.delete(e)})),r=new sk(i,()=>new Rt.x).pipe(ok());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,st.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Ke.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,b;return Array.isArray(h)?b=h:(_=h.create(e).injector,b=_.get(e0,[],o.XFs.Self|o.XFs.Optional).flat()),{routes:b.map(Ck),injector:_}}),kh(()=>{this.childrenLoaders.delete(i)})),u=new sk(s,()=>new Rt.x).pipe(ok());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(e){return im(e()).pipe((0,Ke.U)(MF),(0,Yo.z)(i=>i instanceof o.YKP||Array.isArray(i)?(0,st.of)(i):(0,ln.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MF(n){return function v4(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let WS=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Rt.x,this.configLoader=(0,o.f3M)(Tk),this.environmentInjector=(0,o.f3M)(o.lqb),this.urlSerializer=(0,o.f3M)($x),this.rootContexts=(0,o.f3M)(Kx),this.inputBindingEnabled=null!==(0,o.f3M)($S,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,st.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new fH(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new hH(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new Zo.X({id:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Yx,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Vn(i=>0!==i.id),(0,Ke.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),rr(i=>{let r=!1,s=!1;return(0,st.of)(i).pipe((0,Zr.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),rr(u=>{const h=e.browserUrlTree.toString(),_=!e.navigated||u.extractedUrl.toString()!==h||h!==e.currentUrlTree.toString();if(!_&&"reload"!==(u.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const E="";return this.events.next(new Wx(u.id,e.serializeUrl(i.rawUrl),E,0)),e.rawUrlTree=u.rawUrl,u.resolve(null),qu.E}if(e.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return RF(u.source)&&(e.browserUrlTree=u.extractedUrl),(0,st.of)(u).pipe(rr(E=>{const S=this.transitions?.getValue();return this.events.next(new fk(E.id,this.urlSerializer.serialize(E.extractedUrl),E.source,E.restoredState)),S!==this.transitions?.getValue()?qu.E:Promise.resolve(E)}),function f4(n,t,e,i,r,s){return(0,Yo.z)(u=>function c4(n,t,e,i,r,s,u="emptyOnly"){return new u4(n,t,e,i,r,u,s).recognize()}(n,t,e,i,u.extractedUrl,r,s).pipe((0,Ke.U)(({state:h,tree:_})=>({...u,targetSnapshot:h,urlAfterRedirects:_}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Zr.b)(E=>{if(i.targetSnapshot=E.targetSnapshot,i.urlAfterRedirects=E.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:E.urlAfterRedirects},"eager"===e.urlUpdateStrategy){if(!E.extras.skipLocationChange){const O=e.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);e.setBrowserUrl(O,E)}e.browserUrlTree=E.urlAfterRedirects}const S=new aH(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(S)}));if(_&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:E,extractedUrl:S,source:O,restoredState:B,extras:z}=u,q=new fk(E,this.urlSerializer.serialize(S),O,B);this.events.next(q);const W=uF(0,this.rootComponentType).snapshot;return i={...u,targetSnapshot:W,urlAfterRedirects:S,extras:{...z,skipLocationChange:!1,replaceUrl:!1}},(0,st.of)(i)}{const E="";return this.events.next(new Wx(u.id,e.serializeUrl(i.extractedUrl),E,1)),e.rawUrlTree=u.rawUrl,u.resolve(null),qu.E}}),(0,Zr.b)(u=>{const h=new lH(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),(0,Ke.U)(u=>i={...u,guards:kH(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function jH(n,t){return(0,Yo.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:u}}=e;return 0===u.length&&0===s.length?(0,st.of)({...e,guardsResult:!0}):function $H(n,t,e,i){return(0,ln.D)(n).pipe((0,Yo.z)(r=>function KH(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,st.of)(!0);const u=s.map(h=>{const _=Jx(t)??r,b=Qb(h,_);return im(function UH(n){return n&&tE(n.canDeactivate)}(b)?b.canDeactivate(n,t,e,i):_.runInContext(()=>b(n,t,e,i))).pipe(tm())});return(0,st.of)(u).pipe(Jb())}(r.component,r.route,e,t,i)),tm(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Yo.z)(h=>h&&function FH(n){return"boolean"==typeof n}(h)?function GH(n,t,e,i){return(0,ln.D)(t).pipe(qb(r=>by(function ZH(n,t){return null!==n&&t&&t(new pH(n)),(0,st.of)(!0)}(r.route.parent,i),function qH(n,t){return null!==n&&t&&t(new gH(n)),(0,st.of)(!0)}(r.route,i),function WH(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(u=>function OH(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>Hx(()=>{const h=u.guards.map(_=>{const b=Jx(u.node)??e,E=Qb(_,b);return im(function VH(n){return n&&tE(n.canActivateChild)}(E)?E.canActivateChild(i,n):b.runInContext(()=>E(i,n))).pipe(tm())});return(0,st.of)(h).pipe(Jb())}));return(0,st.of)(s).pipe(Jb())}(n,r.path,e),function YH(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,st.of)(!0);const r=i.map(s=>Hx(()=>{const u=Jx(t)??e,h=Qb(s,u);return im(function BH(n){return n&&tE(n.canActivate)}(h)?h.canActivate(t,n):u.runInContext(()=>h(t,n))).pipe(tm())}));return(0,st.of)(r).pipe(Jb())}(n,r.route,e))),tm(r=>!0!==r,!0))}(i,s,n,t):(0,st.of)(h)),(0,Ke.U)(h=>({...e,guardsResult:h})))})}(this.environmentInjector,u=>this.events.next(u)),(0,Zr.b)(u=>{if(i.guardsResult=u.guardsResult,P_(u.guardsResult))throw mF(0,u.guardsResult);const h=new cH(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),Vn(u=>!!u.guardsResult||(e.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),Dk(u=>{if(u.guards.canActivateChecks.length)return(0,st.of)(u).pipe((0,Zr.b)(h=>{const _=new uH(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(_)}),rr(h=>{let _=!1;return(0,st.of)(h).pipe(function p4(n,t){return(0,Yo.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return(0,st.of)(e);let s=0;return(0,ln.D)(r).pipe(qb(u=>function m4(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!AF(r)&&(s[zx]=r.title),function g4(n,t,e,i){const r=function _4(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,st.of)({});const s={};return(0,ln.D)(r).pipe((0,Yo.z)(u=>function y4(n,t,e,i){const r=Jx(t)??i,s=Qb(n,r);return im(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[u],t,e,i).pipe(tm(),(0,Zr.b)(h=>{s[u]=h}))),ak(1),function k3(n){return(0,Ke.U)(()=>n)}(s),nm(u=>wF(u)?qu.E:Gb(u)))}(s,n,t,i).pipe((0,Ke.U)(u=>(n._resolvedData=u,n.data=dF(n,e).resolve,r&&AF(r)&&(n.data[zx]=r.title),null)))}(u.route,i,n,t)),(0,Zr.b)(()=>s++),ak(1),(0,Yo.z)(u=>s===r.length?(0,st.of)(e):qu.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Zr.b)({next:()=>_=!0,complete:()=>{_||(e.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,Zr.b)(h=>{const _=new dH(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(_)}))}),Dk(u=>{const h=_=>{const b=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,Zr.b)(E=>{_.component=E}),(0,Ke.U)(()=>{})));for(const E of _.children)b.push(...h(E));return b};return k_(h(u.targetSnapshot.root)).pipe(ES(),Tr(1))}),Dk(()=>this.afterPreactivation()),(0,Ke.U)(u=>{const h=function CH(n,t,e){const i=Qx(n,t._root,e?e._root:void 0);return new cF(i,t)}(e.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return i={...u,targetRouterState:h}}),(0,Zr.b)(u=>{e.currentUrlTree=u.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),e.routerState=u.targetRouterState,"deferred"===e.urlUpdateStrategy&&(u.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,u),e.browserUrlTree=u.urlAfterRedirects)}),((n,t,e,i)=>(0,Ke.U)(r=>(new RH(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Tr(1),(0,Zr.b)({next:u=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new N_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{r=!0}}),kh(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),nm(u=>{if(s=!0,yF(u)){_F(u)||(e.navigated=!0,e.restoreHistory(i,!0));const h=new zS(i.id,this.urlSerializer.serialize(i.extractedUrl),u.message,u.cancellationCode);if(this.events.next(h),_F(u)){const _=e.urlHandlingStrategy.merge(u.url,e.rawUrlTree),b={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||RF(i.source)};e.scheduleNavigation(_,Yx,null,b,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const h=new pk(i.id,this.urlSerializer.serialize(i.extractedUrl),u,i.targetSnapshot??void 0);this.events.next(h);try{i.resolve(e.errorHandler(u))}catch(_){i.reject(_)}}return qu.E}))}))}cancelNavigationTransition(e,i,r){const s=new zS(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function RF(n){return n!==Yx}let kF=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===tn);return i}getResolvedTitleForRoute(e){return e.data[zx]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(b4)},providedIn:"root"}),n})(),b4=(()=>{class n extends kF{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Yl))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(x4)},providedIn:"root"}),n})();class C4{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let x4=(()=>{class n extends C4{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KS=new o.OlP("",{providedIn:"root",factory:()=>({})});let E4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(D4)},providedIn:"root"}),n})(),D4=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var va=(()=>((va=va||{})[va.COMPLETE=0]="COMPLETE",va[va.FAILED=1]="FAILED",va[va.REDIRECTING=2]="REDIRECTING",va))();function OF(n,t){n.events.pipe(Vn(e=>e instanceof N_||e instanceof zS||e instanceof pk||e instanceof Wx),(0,Ke.U)(e=>e instanceof N_||e instanceof Wx?va.COMPLETE:e instanceof zS&&(0===e.code||1===e.code)?va.REDIRECTING:va.FAILED),Vn(e=>e!==va.REDIRECTING),Tr(1)).subscribe(()=>{t()})}function T4(n){throw n}function I4(n,t,e){return t.parse("/")}const S4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},A4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wl=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.f3M)(o.c2e),this.isNgZoneEnabled=!1,this.options=(0,o.f3M)(KS,{optional:!0})||{},this.pendingTasks=(0,o.f3M)(o.HDt),this.errorHandler=this.options.errorHandler||T4,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||I4,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.f3M)(E4),this.routeReuseStrategy=(0,o.f3M)(w4),this.titleStrategy=(0,o.f3M)(kF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,o.f3M)(e0,{optional:!0})?.flat()??[],this.navigationTransitions=(0,o.f3M)(WS),this.urlSerializer=(0,o.f3M)($x),this.location=(0,o.f3M)(Ye),this.componentInputBindingEnabled=!!(0,o.f3M)($S,{optional:!0}),this.isNgZoneEnabled=(0,o.f3M)(o.R0b)instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Yb,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=uF(0,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Yx,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},u=r?.navigationId?r:null;if(r){const _={...r};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(s.state=_)}const h=this.parseUrl(e);this.scheduleNavigation(h,i,u,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Ck),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:u,queryParamsHandling:h,preserveFragment:_}=i,b=_?this.currentUrlTree.fragment:u;let S,E=null;switch(h){case"merge":E={...this.currentUrlTree.queryParams,...s};break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=s||null}null!==E&&(E=this.removeEmptyProps(E));try{S=eF(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),S=this.currentUrlTree.root}return tF(S,e,E,b??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=P_(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Yx,null,i)}navigate(e,i={skipLocationChange:!1}){return function M4(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new o.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...S4}:!1===i?{...A4}:i,P_(e))return GN(this.currentUrlTree,e,r);const s=this.parseUrl(e);return GN(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,u){if(this.disposed)return Promise.resolve(!1);let h,_,b;u?(h=u.resolve,_=u.reject,b=u.promise):b=new Promise((S,O)=>{h=S,_=O});const E=this.pendingTasks.add();return OF(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(E))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:h,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(S=>Promise.reject(S))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const u={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",u)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QS=(()=>{class n{constructor(e,i,r,s,u,h){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=u,this.locationStrategy=h,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Rt.x;const _=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=e.events.subscribe(b=>{b instanceof N_&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,o.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,o.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,o.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,o.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(wl),o.Y36(Kb),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Ve))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&o.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),n})();class PF{}let O4=(()=>{class n{constructor(e,i,r,s,u){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Vn(e=>e instanceof N_),qb(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,o.MMx)(s.providers,e,`Route: ${s.path}`));const u=s._injector??e,h=s._loadedInjector??u;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(u,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(h,s.children??s._loadedRoutes))}return(0,ln.D)(r).pipe((0,_u.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,st.of)(null);const s=r.pipe((0,Yo.z)(u=>null===u?(0,st.of)(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,ln.D)([s,u]).pipe((0,_u.J)())}return s})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(wl),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(PF),o.LFG(Tk))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ik=new o.OlP("");let NF=(()=>{class n{constructor(e,i,r,s,u={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof fk?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof N_?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Wx&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof aF&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new aF(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Ph(n,t){return{\u0275kind:n,\u0275providers:t}}function LF(){const n=(0,o.f3M)(o.zs3);return t=>{const e=n.get(o.z2F);if(t!==e.components[0])return;const i=n.get(wl),r=n.get(BF);1===n.get(Sk)&&i.initialNavigation(),n.get(VF,null,o.XFs.Optional)?.setUpPreloading(),n.get(Ik,null,o.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const BF=new o.OlP("",{factory:()=>new Rt.x}),Sk=new o.OlP("",{providedIn:"root",factory:()=>1}),VF=new o.OlP("");function L4(n){return Ph(0,[{provide:VF,useExisting:O4},{provide:PF,useExisting:n}])}const UF=new o.OlP("ROUTER_FORROOT_GUARD"),V4=[Ye,{provide:$x,useClass:lk},wl,Kx,{provide:Kb,useFactory:function FF(n){return n.routerState.root},deps:[wl]},Tk,[]];function U4(){return new o.PXZ("Router",wl)}let HF=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[V4,[],{provide:e0,multi:!0,useValue:e},{provide:UF,useFactory:$4,deps:[[wl,new o.FiY,new o.tp0]]},{provide:KS,useValue:i||{}},i?.useHash?{provide:Ve,useClass:ke}:{provide:Ve,useClass:tt},{provide:Ik,useFactory:()=>{const n=(0,o.f3M)(Bo),t=(0,o.f3M)(o.R0b),e=(0,o.f3M)(KS),i=(0,o.f3M)(WS),r=(0,o.f3M)($x);return e.scrollOffset&&n.setOffset(e.scrollOffset),new NF(r,i,n,t,e)}},i?.preloadingStrategy?L4(i.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:U4},i?.initialNavigation?G4(i):[],i?.bindToComponentInputs?Ph(8,[pF,{provide:$S,useExisting:pF}]).\u0275providers:[],[{provide:zF,useFactory:LF},{provide:o.tb,multi:!0,useExisting:zF}]]}}static forChild(e){return{ngModule:n,providers:[{provide:e0,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(UF,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function $4(n){return"guarded"}function G4(n){return["disabled"===n.initialNavigation?Ph(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const t=(0,o.f3M)(wl);return()=>{t.setUpLocationChangeListener()}}},{provide:Sk,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ph(2,[{provide:Sk,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:t=>{const e=t.get(Le,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(wl),s=t.get(BF);OF(r,()=>{i(!0)}),t.get(WS).afterPreactivation=()=>(i(!0),s.closed?(0,st.of)(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const zF=new o.OlP("");let Ak;try{Ak=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ak=!1}let t0,fr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function kc(n){return n===Ta}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ak)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jF=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function $F(){if(t0)return t0;if("object"!=typeof document||!document)return t0=new Set(jF),t0;let n=document.createElement("input");return t0=new Set(jF.filter(t=>(n.setAttribute("type",t),n.type===t))),t0}let nE,F_,Mk;function n0(n){return function Z4(){if(null==nE&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>nE=!0}))}finally{nE=nE||!1}return nE}()?n:!!n.capture}function Y4(){if(null==F_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return F_=!1,F_;if("scrollBehavior"in document.documentElement.style)F_=!0;else{const n=Element.prototype.scrollTo;F_=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return F_}function Rk(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function rm(n){return n.composedPath?n.composedPath()[0]:n.target}function kk(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Nh(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Nk(n,t=ac.z){return(0,Hr.e)((e,i)=>{let r=null,s=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const b=s;s=null,i.next(b)}};function _(){const b=u+n,E=t.now();if(E<b)return r=this.schedule(void 0,b-E),void i.add(r);h()}e.subscribe((0,Sn.x)(i,b=>{s=b,u=t.now(),r||(r=t.schedule(_,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}function YF(n){return Vn((t,e)=>n<=e)}var u6=P(5032);function ai(n){return(0,Hr.e)((t,e)=>{(0,Rs.Xf)(n).subscribe((0,Sn.x)(e,()=>e.complete(),u6.Z)),!e.closed&&t.subscribe(e)})}function mn(n){return null!=n&&"false"!=`${n}`}function Wu(n,t=0){return WF(n)?Number(n):t}function WF(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function eA(n){return Array.isArray(n)?n:[n]}function Ir(n){return null==n?"":"string"==typeof n?n:`${n}px`}function om(n){return n instanceof o.SBq?n.nativeElement:n}let d6=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[d6]}),n})();const QF=new Set;let L_,h6=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):p6}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function f6(n,t){if(!QF.has(n))try{L_||(L_=document.createElement("style"),t&&(L_.nonce=t),L_.setAttribute("type","text/css"),document.head.appendChild(L_)),L_.sheet&&(L_.sheet.insertRule(`@media ${n} {body{ }}`,0),QF.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fr),o.LFG(o.Ojb,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function p6(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Fk=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Rt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return JF(eA(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=k_(JF(eA(e)).map(u=>this._registerQuery(u).observable));return s=by(s.pipe(Tr(1)),s.pipe(YF(1),Nk(0))),s.pipe((0,Ke.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:_,query:b})=>{h.matches=h.matches||_,h.breakpoints[b]=_}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new On.y(u=>{const h=_=>this._zone.run(()=>u.next(_));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(Ns(i),(0,Ke.U)(({matches:u})=>({query:e,matches:u})),ai(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(h6),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function JF(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function eL(n,t,e){const i=tA(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))}function Lk(n,t,e){const r=tA(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}function tA(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const tL="cdk-describedby-message",nA="cdk-describedby-host";let Bk=0,Vk=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Bk++,this._document=e,this._id=(0,o.f3M)(o.AFp)+"-"+Bk++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const s=Uk(i,r);"string"!=typeof i?(nL(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const s=Uk(i,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof i){const u=this._messageRegistry.get(s);u&&0===u.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${nA}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(nA);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");nL(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Uk(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=tA(e,"aria-describedby").filter(r=>0!=r.indexOf(tL));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);eL(e,"aria-describedby",r.messageElement.id),e.setAttribute(nA,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,Lk(e,"aria-describedby",r.messageElement.id),e.removeAttribute(nA)}_isElementDescribedByMessage(e,i){const r=tA(e,"aria-describedby"),s=this._messageRegistry.get(i),u=s&&s.messageElement.id;return!!u&&-1!=r.indexOf(u)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ne),o.LFG(fr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Uk(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function nL(n,t){n.id||(n.id=`${tL}-${t}-${Bk++}`)}class iL{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Rt.x,this._typeaheadSubscription=Hs.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Rt.x,this.change=new Rt.x,t instanceof o.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Zr.b)(e=>this._pressedLetters.push(e)),Nk(t),Vn(()=>this._pressedLetters.length>0),(0,Ke.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,u=i[s];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,u=this._getItemsArray().length;this._setActiveItemByIndex(s<u?s:u-1,-1);break}return;default:return void((r||Nh(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}class g6 extends iL{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class _6 extends iL{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let oE=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function v6(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function y6(n){try{return n.frameElement}catch{return null}}(function I6(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===oL(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=oL(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function D6(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function T6(n){return!function w6(n){return function x6(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function b6(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function C6(n){return function E6(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||rL(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rL(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function oL(n){if(!rL(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class S6{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Tr(1)).subscribe(t)}}let Hk=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new S6(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(oE),o.LFG(o.R0b),o.LFG(ne))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sL(n){return 0===n.buttons||0===n.detail}function aL(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const A6=new o.OlP("cdk-input-modality-detector-options"),M6={ignoreKeys:[18,17,224,91,16]},r0=n0({passive:!0,capture:!0});let R6=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Zo.X(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=rm(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(sL(u)?"keyboard":"mouse"),this._mostRecentTarget=rm(u))},this._onTouchstart=u=>{aL(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=rm(u))},this._options={...M6,...s},this.modalityDetected=this._modality.pipe(YF(1)),this.modalityChanged=this.modalityDetected.pipe((0,lc.x)()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,r0),r.addEventListener("mousedown",this._onMousedown,r0),r.addEventListener("touchstart",this._onTouchstart,r0)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,r0),document.removeEventListener("mousedown",this._onMousedown,r0),document.removeEventListener("touchstart",this._onTouchstart,r0))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fr),o.LFG(o.R0b),o.LFG(ne),o.LFG(A6,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const k6=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function O6(){return null}}),P6=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let N6=0,zk=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[s,u]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+N6++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],u=s.getAttribute("aria-owns");u?-1===u.indexOf(e)&&s.setAttribute("aria-owns",u+" "+e):s.setAttribute("aria-owns",e)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(k6,8),o.LFG(o.R0b),o.LFG(ne),o.LFG(P6,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const F6=new o.OlP("cdk-focus-monitor-default-options"),iA=n0({passive:!0,capture:!0});let B_=(()=>{class n{constructor(e,i,r,s,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Rt.x,this._rootNodeFocusAndBlurListener=h=>{for(let b=rm(h);b;b=b.parentElement)"focus"===h.type?this._onFocus(h,b):this._onBlur(h,b)},this._document=s,this._detectionMode=u?.detectionMode||0}monitor(e,i=!1){const r=om(e);if(!this._platform.isBrowser||1!==r.nodeType)return(0,st.of)();const s=function K4(n){if(function W4(){if(null==Mk){const n=typeof document<"u"?document.head:null;Mk=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Mk}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new Rt.x,rootNode:s};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=om(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=om(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,_])=>this._originChanged(h,i,_)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=rm(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,iA),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,iA)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ai(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,iA),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,iA),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let u=0;u<s.length;u++)if(s[u].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(fr),o.LFG(R6),o.LFG(ne,8),o.LFG(F6,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cL="cdk-high-contrast-black-on-white",uL="cdk-high-contrast-white-on-black",jk="cdk-high-contrast-active";let dL=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,o.f3M)(Fk).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(jk,cL,uL),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(jk,cL):2===i&&e.add(jk,uL)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fr),o.LFG(ne))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$k=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(dL))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[KF]}),n})();const L6=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function B6(){return(0,o.f3M)(ne)}}),V6=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let sm=(()=>{class n{constructor(e){this.value="ltr",this.change=new o.vpe,e&&(this.value=function U6(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?V6.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(L6,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const H6=["text"];function z6(n,t){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",6),2&n){const e=o.oxw();o.Q6J("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function j6(n,t){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",7),2&n){const e=o.oxw();o.Q6J("disabled",e.disabled)}}function $6(n,t){if(1&n&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij("(",e.group.label,")")}}const G6=[[["mat-icon"]],"*"],q6=["mat-icon","*"];let Z6=(()=>{class n{}return n.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",n.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",n.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",n.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",n})(),Y6=(()=>{class n{}return n.COMPLEX="375ms",n.ENTERING="225ms",n.EXITING="195ms",n})();const K6=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function W6(){return!0}});let Qn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!kk()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(dL),o.LFG(K6,8),o.LFG(ne))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[sE,sE]}),n})();function o0(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=mn(t)}constructor(...t){super(...t),this._disabled=!1}}}function pL(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function mL(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=mn(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function gL(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Wu(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function _L(n){return class extends n{updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}function yL(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new On.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}let vL=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class J6{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const bL=n0({passive:!0,capture:!0});class X6{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=rm(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,e,i,r){const s=this._events.get(e);if(s){const u=s.get(i);u?u.add(r):s.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,bL)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const s=r.get(e);s&&(s.delete(i),0===s.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,bL)))}}const wL={enterDuration:225,exitDuration:150},CL=n0({passive:!0,capture:!0}),xL=["mousedown","touchstart"],EL=["mouseup","mouseleave","touchend","touchcancel"];class lE{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=om(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...wL,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function tz(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,_=e-r.top,b=s.enterDuration,E=document.createElement("div");E.classList.add("mat-ripple-element"),E.style.left=h-u+"px",E.style.top=_-u+"px",E.style.height=2*u+"px",E.style.width=2*u+"px",null!=i.color&&(E.style.backgroundColor=i.color),E.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(E);const S=window.getComputedStyle(E),B=S.transitionDuration,z="none"===S.transitionProperty||"0s"===B||"0s, 0s"===B||0===r.width&&0===r.height,q=new J6(this,E,i,z);E.style.transform="scale3d(1, 1, 1)",q.state=0,i.persistent||(this._mostRecentTransientRipple=q);let W=null;return!z&&(b||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Re=()=>this._finishRippleTransition(q),We=()=>this._destroyRipple(q);E.addEventListener("transitionend",Re),E.addEventListener("transitioncancel",We),W={onTransitionEnd:Re,onTransitionCancel:We}}),this._activeRipples.set(q,W),(z||!b)&&this._finishRippleTransition(q),q}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...wL,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=om(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,xL.forEach(i=>{lE._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{EL.forEach(e=>{this._triggerElement.addEventListener(e,this,CL)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=sL(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!aL(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(xL.forEach(e=>lE._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&EL.forEach(e=>t.removeEventListener(e,this,CL)))}}lE._eventManager=new X6;const DL=new o.OlP("mat-ripple-global-options");let TL=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,s,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new lE(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(fr),o.Y36(DL,8),o.Y36(o.QbO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),IL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Qn,Qn]}),n})(),nz=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(e,i){2&e&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal","minimal"===i.appearance)("mat-pseudo-checkbox-full","full"===i.appearance)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),n})(),iz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Qn]}),n})();const SL=new o.OlP("MAT_OPTION_PARENT_COMPONENT"),AL=new o.OlP("MatOptgroup");let rz=0;class oz{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let sz=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=mn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+rz++,this.onSelectionChange=new o.vpe,this._stateChanges=new Rt.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Nh(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new oz(this,e))}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&o.Gf(H6,7),2&e){let r;o.iGM(r=o.CRH())&&(i._text=r.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),V_=(()=>{class n extends sz{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(SL,8),o.Y36(AL,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(o.Ikx("id",i.id),o.uIk("aria-selected",i.selected)("aria-disabled",i.disabled.toString()),o.ekj("mdc-list-item--selected",i.selected)("mat-mdc-option-multiple",i.multiple)("mat-mdc-option-active",i.active)("mdc-list-item--disabled",i.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:q6,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(o.F$t(G6),o.YNc(0,z6,1,2,"mat-pseudo-checkbox",0),o.Hsn(1),o.TgZ(2,"span",1,2),o.Hsn(4,1),o.qZA(),o.YNc(5,j6,1,1,"mat-pseudo-checkbox",3),o.YNc(6,$6,2,1,"span",4),o._UZ(7,"div",5)),2&e&&(o.Q6J("ngIf",i.multiple),o.xp6(5),o.Q6J("ngIf",!i.multiple&&i.selected&&!i.hideSingleSelectionIndicator),o.xp6(1),o.Q6J("ngIf",i.group&&i.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[TL,Oi,nz],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),ML=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[IL,Xn,Qn,iz]}),n})();const RL={capture:!0},kL=["focus","click","mouseenter","touchstart"],Gk="mat-ripple-loader-uninitialized",qk="mat-ripple-loader-class-name",OL="mat-ripple-loader-centered",rA="mat-ripple-loader-disabled";let cz=(()=>{class n{constructor(){this._document=(0,o.f3M)(ne,{optional:!0}),this._animationMode=(0,o.f3M)(o.QbO,{optional:!0}),this._globalRippleOptions=(0,o.f3M)(DL,{optional:!0}),this._platform=(0,o.f3M)(fr),this._ngZone=(0,o.f3M)(o.R0b),this._hosts=new Map,this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${Gk}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of kL)this._document?.addEventListener(e,this._onInteraction,RL)})}ngOnDestroy(){const e=this._hosts.keys();for(const i of e)this.destroyRipple(i);for(const i of kL)this._document?.removeEventListener(i,this._onInteraction,RL)}configureRipple(e,i){e.setAttribute(Gk,""),(i.className||!e.hasAttribute(qk))&&e.setAttribute(qk,i.className||""),i.centered&&e.setAttribute(OL,""),i.disabled&&e.setAttribute(rA,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,i){const r=this._hosts.get(e);r?r.disabled=i:i?e.setAttribute(rA,""):e.removeAttribute(rA)}_createRipple(e){if(!this._document)return;const i=this._hosts.get(e);if(i)return i;e.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(qk)),e.append(r);const s=new TL(new o.SBq(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=e,s.centered=e.hasAttribute(OL),s.disabled=e.hasAttribute(rA),this.attachRipple(e,s),s}attachRipple(e,i){e.removeAttribute(Gk),this._hosts.set(e,i)}destroyRipple(e){const i=this._hosts.get(e);i&&(i.ngOnDestroy(),this._hosts.delete(e))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uz=["mat-button",""],dz=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],hz=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],pz=["mat-icon-button",""],mz=["*"],gz=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],_z=pL(o0(mL(class{constructor(n){this._elementRef=n}})));let PL=(()=>{class n extends _z{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=mn(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=mn(e),this._updateRippleDisabled()}constructor(e,i,r,s){super(e),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,o.f3M)(B_),this._rippleLoader=(0,o.f3M)(cz),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const u=e.nativeElement.classList;for(const h of gz)this._hasHostAttributes(h.selector)&&h.mdcClasses.forEach(_=>{u.add(_)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})(),U_=(()=>{class n extends PL{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(fr),o.Y36(o.R0b),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:uz,ngContentSelectors:hz,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(o.F$t(dz),o._UZ(0,"span",0),o.Hsn(1),o.TgZ(2,"span",1),o.Hsn(3,1),o.qZA(),o.Hsn(4,2),o._UZ(5,"span",2)(6,"span",3)),2&e&&o.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),bz=(()=>{class n extends PL{constructor(e,i,r,s){super(e,i,r,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(fr),o.Y36(o.R0b),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:pz,ngContentSelectors:mz,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(o.F$t(),o._UZ(0,"span",0),o.Hsn(1),o._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),am=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Qn,IL,Qn]}),n})();var wz=P(1144);const Cz=["addListener","removeListener"],xz=["addEventListener","removeEventListener"],Ez=["on","off"];function Zk(n,t,e,i){if((0,bl.m)(e)&&(i=e,e=void 0),i)return Zk(n,t,e).pipe(za(i));const[r,s]=function Iz(n){return(0,bl.m)(n.addEventListener)&&(0,bl.m)(n.removeEventListener)}(n)?xz.map(u=>h=>n[u](t,h,e)):function Dz(n){return(0,bl.m)(n.addListener)&&(0,bl.m)(n.removeListener)}(n)?Cz.map(NL(n,t)):function Tz(n){return(0,bl.m)(n.on)&&(0,bl.m)(n.off)}(n)?Ez.map(NL(n,t)):[];if(!r&&(0,wz.z)(n))return(0,Yo.z)(u=>Zk(u,t,e))((0,Rs.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new On.y(u=>{const h=(..._)=>u.next(1<_.length?_:_[0]);return r(h),()=>s(h)})}function NL(n,t){return e=>i=>n[e](t,i)}var FL=P(4408);const cE={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=cE;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Hs.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=cE;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=cE;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var LL=P(7565);new class Az extends LL.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Sz extends FL.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=cE.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(cE.cancelAnimationFrame(e),t._scheduled=void 0)}});let Yk,Rz=1;const oA={};function BL(n){return n in oA&&(delete oA[n],!0)}const kz={setImmediate(n){const t=Rz++;return oA[t]=!0,Yk||(Yk=Promise.resolve()),Yk.then(()=>BL(t)&&n()),t},clearImmediate(n){BL(n)}},{setImmediate:Oz,clearImmediate:Pz}=kz,sA={setImmediate(...n){const{delegate:t}=sA;return(t?.setImmediate||Oz)(...n)},clearImmediate(n){const{delegate:t}=sA;return(t?.clearImmediate||Pz)(n)},delegate:void 0};new class Fz extends LL.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Nz extends FL.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=sA.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(sA.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var Vz=P(3532);function VL(n,t=ac.z){return function Bz(n){return(0,Hr.e)((t,e)=>{let i=!1,r=null,s=null,u=!1;const h=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const b=r;r=null,e.next(b)}u&&e.complete()},_=()=>{s=null,u&&e.complete()};t.subscribe((0,Sn.x)(e,b=>{i=!0,r=b,s||(0,Rs.Xf)(n(b)).subscribe(s=(0,Sn.x)(e,h,_))},()=>{u=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>function Hz(n=0,t,e=ac.P){let i=-1;return null!=t&&((0,Vz.K)(t)?e=t:i=t),new On.y(r=>{let s=function Uz(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,t))}let UL=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Rt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new On.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(VL(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,st.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Vn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=om(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Zk(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(fr),o.LFG(ne,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aA=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Rt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(VL(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fr),o.LFG(o.R0b),o.LFG(ne,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),Wk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[sE,lA,sE,lA]}),n})();class Kk{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class s0 extends Kk{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class Ic extends Kk{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Gz extends Kk{constructor(t){super(),this.element=t instanceof o.SBq?t.nativeElement:t}}class cA{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof s0?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Ic?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Gz?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class qz extends cA{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,_=this._document.createComment("dom-portal");h.parentNode.insertBefore(_,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(h,_)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let a0=(()=>{class n extends cA{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=s=>{const u=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(s,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(ne))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),n})(),l0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const HL=Y4();class Zz{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ir(-this._previousScrollPosition.left),t.style.top=Ir(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),HL&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),HL&&(i.scrollBehavior=s,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class Yz{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Vn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class zL{enable(){}disable(){}attach(){}}function Qk(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function jL(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Wz{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Qk(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Kz=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new zL,this.close=u=>new Yz(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new Zz(this._viewportRuler,this._document),this.reposition=u=>new Wz(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(UL),o.LFG(aA),o.LFG(o.R0b),o.LFG(ne))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class uA{constructor(t){if(this.scrollStrategy=new zL,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Qz{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let $L=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ne))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jz=(()=>{class n extends $L{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let u=s.length-1;u>-1;u--)if(s[u]._keydownEvents.observers.length>0){const h=s[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ne),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xz=(()=>{class n extends $L{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=rm(s)},this._clickListener=s=>{const u=rm(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let b=_.length-1;b>-1;b--){const E=_[b];if(E._outsidePointerEvents.observers.length<1||!E.hasAttached())continue;if(E.overlayElement.contains(u)||E.overlayElement.contains(h))break;const S=E._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>S.next(s)):S.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ne),o.LFG(fr),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dA=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||kk()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),kk()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ne),o.LFG(fr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class uE{constructor(t,e,i,r,s,u,h,_,b,E=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=u,this._document=h,this._location=_,this._outsideClickDispatcher=b,this._animationsDisabled=E,this._backdropElement=null,this._backdropClick=new Rt.x,this._attachments=new Rt.x,this._detachments=new Rt.x,this._locationChanges=Hs.w0.EMPTY,this._backdropClickHandler=S=>this._backdropClick.next(S),this._backdropTransitionendHandler=S=>{this._disposeBackdrop(S.target)},this._keydownEvents=new Rt.x,this._outsidePointerEvents=new Rt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Tr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Ir(this._config.width),t.height=Ir(this._config.height),t.minWidth=Ir(this._config.minWidth),t.minHeight=Ir(this._config.minHeight),t.maxWidth=Ir(this._config.maxWidth),t.maxHeight=Ir(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=eA(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(ai((0,Dc.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const GL="cdk-overlay-connected-position-bounding-box",ej=/([A-Za-z%]+)$/;class tj{get positions(){return this._preferredPositions}constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Rt.x,this._resizeSubscription=Hs.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(GL),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let u;for(let h of this._preferredPositions){let _=this._getOriginPoint(t,r,h),b=this._getOverlayPoint(_,e,h),E=this._getOverlayFit(b,e,i,h);if(E.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,_);this._canFitWithFlexibleDimensions(E,b,i)?s.push({position:h,origin:_,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(_,h)}):(!u||u.overlayFit.visibleArea<E.visibleArea)&&(u={overlayFit:E,overlayPoint:b,originPoint:_,position:h,overlayRect:e})}if(s.length){let h=null,_=-1;for(const b of s){const E=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);E>_&&(_=E,h=b)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&H_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(GL),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?u:h}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=ZL(e);let{x:u,y:h}=t,_=this._getOffset(r,"x"),b=this._getOffset(r,"y");_&&(u+=_),b&&(h+=b);let O=0-h,B=h+s.height-i.height,z=this._subtractOverflows(s.width,0-u,u+s.width-i.width),q=this._subtractOverflows(s.height,O,B),W=z*q;return{visibleArea:W,isCompletelyWithinViewport:s.width*s.height===W,fitsInViewportVertically:q===s.height,fitsInViewportHorizontally:z==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,u=qL(this._overlayRef.getConfig().minHeight),h=qL(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=u&&u<=r)&&(t.fitsInViewportHorizontally||null!=h&&h<=s)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=ZL(e),s=this._viewportRect,u=Math.max(t.x+r.width-s.width,0),h=Math.max(t.y+r.height-s.height,0),_=Math.max(s.top-i.top-t.y,0),b=Math.max(s.left-i.left-t.x,0);let E=0,S=0;return E=r.width<=s.width?b||-u:t.x<this._viewportMargin?s.left-i.left-t.x:0,S=r.height<=s.height?_||-h:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:E,y:S},{x:t.x+E,y:t.y+S}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Qz(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,u,h,E,S,O;if("top"===e.overlayY)u=t.y,s=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,s=i.height-h+this._viewportMargin;else{const B=Math.min(i.bottom-t.y+i.top,t.y),z=this._lastBoundingBoxSize.height;s=2*B,u=t.y-B,s>z&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-z/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)O=i.width-t.x+this._viewportMargin,E=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)S=t.x,E=i.right-t.x;else{const B=Math.min(i.right-t.x+i.left,t.x),z=this._lastBoundingBoxSize.width;E=2*B,S=t.x-B,E>z&&!this._isInitialRender&&!this._growAfterOpen&&(S=t.x-z/2)}return{top:u,left:S,bottom:h,right:O,width:E,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=Ir(i.height),r.top=Ir(i.top),r.bottom=Ir(i.bottom),r.width=Ir(i.width),r.left=Ir(i.left),r.right=Ir(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Ir(s)),u&&(r.maxWidth=Ir(u))}this._lastBoundingBoxSize=i,H_(this._boundingBox.style,r)}_resetBoundingBoxStyles(){H_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){H_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const E=this._viewportRuler.getViewportScrollPosition();H_(i,this._getExactOverlayY(e,t,E)),H_(i,this._getExactOverlayX(e,t,E))}else i.position="static";let h="",_=this._getOffset(e,"x"),b=this._getOffset(e,"y");_&&(h+=`translateX(${_}px) `),b&&(h+=`translateY(${b}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=Ir(u.maxHeight):s&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=Ir(u.maxWidth):s&&(i.maxWidth="")),H_(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Ir(s.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Ir(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:jL(t,i),isOriginOutsideView:Qk(t,i),isOverlayClipped:jL(e,i),isOverlayOutsideView:Qk(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&eA(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function H_(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function qL(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(ej);return e&&"px"!==e?null:parseFloat(t)}return n||null}function ZL(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const YL="cdk-global-overlay-wrapper";class nj{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(YL),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:u,maxHeight:h}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),b=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h),E=this._xPosition,S=this._xOffset,O="rtl"===this._overlayRef.getConfig().direction;let B="",z="",q="";_?q="flex-start":"center"===E?(q="center",O?z=S:B=S):O?"left"===E||"end"===E?(q="flex-end",B=S):("right"===E||"start"===E)&&(q="flex-start",z=S):"left"===E||"start"===E?(q="flex-start",B=S):("right"===E||"end"===E)&&(q="flex-end",z=S),t.position=this._cssPosition,t.marginLeft=_?"0":B,t.marginTop=b?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=_?"0":z,e.justifyContent=q,e.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(YL),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let ij=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new nj}flexibleConnectedTo(e){return new tj(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(aA),o.LFG(ne),o.LFG(fr),o.LFG(dA))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rj=0,Ro=(()=>{class n{constructor(e,i,r,s,u,h,_,b,E,S,O,B){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=u,this._injector=h,this._ngZone=_,this._document=b,this._directionality=E,this._location=S,this._outsideClickDispatcher=O,this._animationsModuleType=B}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),u=new uA(e);return u.direction=u.direction||this._directionality.value,new uE(s,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+rj++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new qz(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Kz),o.LFG(dA),o.LFG(o._Vd),o.LFG(ij),o.LFG(Jz),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(ne),o.LFG(sm),o.LFG(Ye),o.LFG(Xz),o.LFG(o.QbO,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oj=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],WL=new o.OlP("cdk-connected-overlay-scroll-strategy");let Jk=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),n})(),KL=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=mn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=mn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=mn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=mn(e)}get push(){return this._push}set push(e){this._push=mn(e)}constructor(e,i,r,s,u){this._overlay=e,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Hs.w0.EMPTY,this._attachSubscription=Hs.w0.EMPTY,this._detachSubscription=Hs.w0.EMPTY,this._positionSubscription=Hs.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new Ic(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=oj);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Nh(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new uA({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Jk?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function $z(n,t=!1){return(0,Hr.e)((e,i)=>{let r=0;e.subscribe((0,Sn.x)(i,s=>{const u=n(s,r++);(u||t)&&i.next(s),!u&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ro),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(WL),o.Y36(sm,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[o.TTD]}),n})();const aj={provide:WL,deps:[Ro],useFactory:function sj(n){return()=>n.scrollStrategies.reposition()}};let dE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Ro,aj],imports:[sE,l0,Wk,Wk]}),n})();class lj{constructor(t){this._box=t,this._destroyed=new Rt.x,this._resizeSubject=new Rt.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new On.y(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Vn(e=>e.some(i=>i.target===t)),OR({bufferSize:1,refCount:!0}),ai(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let cj=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,o.f3M)(o.R0b)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new lj(r)),this._observers.get(r).observe(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class QL{}class uj{}const Fh="*";function zs(n,t){return{type:7,name:n,definitions:t,options:{}}}function Sr(n,t=null){return{type:4,styles:t,timings:n}}function XL(n,t=null){return{type:2,steps:n,options:t}}function sn(n){return{type:6,styles:n,offset:null}}function Si(n,t,e){return{type:0,name:n,styles:t,options:e}}function hA(n){return{type:5,steps:n}}function sr(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function fA(n=null){return{type:9,options:n}}function pA(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function e2(n){Promise.resolve().then(n)}class hE{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){e2(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class t2{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?e2(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==s&&this._onFinish()}),u.onDestroy(()=>{++i==s&&this._onDestroy()}),u.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Xk="!",dj=["notch"],hj=["matFormFieldNotchedOutline",""],fj=["*"],pj=["textField"],mj=["iconPrefixContainer"],gj=["textPrefixContainer"];function _j(n,t){1&n&&o._UZ(0,"span",19)}function yj(n,t){if(1&n&&(o.TgZ(0,"label",17),o.Hsn(1,1),o.YNc(2,_j,1,0,"span",18),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),o.uIk("for",e._control.id),o.xp6(2),o.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function vj(n,t){if(1&n&&o.YNc(0,yj,3,5,"label",16),2&n){const e=o.oxw();o.Q6J("ngIf",e._hasFloatingLabel())}}function bj(n,t){1&n&&o._UZ(0,"div",20)}function wj(n,t){}function Cj(n,t){if(1&n&&o.YNc(0,wj,0,0,"ng-template",22),2&n){o.oxw(2);const e=o.MAs(1);o.Q6J("ngTemplateOutlet",e)}}function xj(n,t){if(1&n&&(o.TgZ(0,"div",21),o.YNc(1,Cj,1,1,"ng-template",9),o.qZA()),2&n){const e=o.oxw();o.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),o.xp6(1),o.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function Ej(n,t){1&n&&(o.TgZ(0,"div",23,24),o.Hsn(2,2),o.qZA())}function Dj(n,t){1&n&&(o.TgZ(0,"div",25,26),o.Hsn(2,3),o.qZA())}function Tj(n,t){}function Ij(n,t){if(1&n&&o.YNc(0,Tj,0,0,"ng-template",22),2&n){o.oxw();const e=o.MAs(1);o.Q6J("ngTemplateOutlet",e)}}function Sj(n,t){1&n&&(o.TgZ(0,"div",27),o.Hsn(1,4),o.qZA())}function Aj(n,t){1&n&&(o.TgZ(0,"div",28),o.Hsn(1,5),o.qZA())}function Mj(n,t){1&n&&o._UZ(0,"div",29)}function Rj(n,t){if(1&n&&(o.TgZ(0,"div",30),o.Hsn(1,6),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState)}}function kj(n,t){if(1&n&&(o.TgZ(0,"mat-hint",34),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("id",e._hintLabelId),o.xp6(1),o.Oqu(e.hintLabel)}}function Oj(n,t){if(1&n&&(o.TgZ(0,"div",31),o.YNc(1,kj,2,2,"mat-hint",32),o.Hsn(2,7),o._UZ(3,"div",33),o.Hsn(4,8),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",e.hintLabel)}}const Pj=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Nj=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let z_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]}),n})();const Fj=new o.OlP("MatError");let Lj=0,n2=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+Lj++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,i){2&e&&(o.Ikx("id",i.id),o.uIk("align",null),o.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const Bj=new o.OlP("MatPrefix"),Vj=new o.OlP("MatSuffix"),r2=new o.OlP("FloatingLabelParent");let o2=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,o.f3M)(cj),this._ngZone=(0,o.f3M)(o.R0b),this._parent=(0,o.f3M)(r2),this._resizeSubscription=new Hs.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function Uj(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}}),n})();const s2="mdc-line-ripple--active",mA="mdc-line-ripple--deactivating";let a2=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,u=s.contains(mA);"opacity"===r.propertyName&&u&&s.remove(s2,mA)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(mA),e.add(s2)}deactivate(){this._elementRef.nativeElement.classList.add(mA)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),l2=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(e,i){if(1&e&&o.Gf(dj,5),2&e){let r;o.iGM(r=o.CRH())&&(i._notch=r.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mdc-notched-outline--notched",i.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:hj,ngContentSelectors:fj,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(e,i){1&e&&(o.F$t(),o._UZ(0,"div",0),o.TgZ(1,"div",1,2),o.Hsn(3),o.qZA(),o._UZ(4,"div",3))},encapsulation:2,changeDetection:0}),n})();const Hj={transitionMessages:zs("transitionMessages",[Si("enter",sn({opacity:1,transform:"translateY(0%)"})),sr("void => enter",[sn({opacity:0,transform:"translateY(-5px)"}),Sr("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let eO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n}),n})();const tO=new o.OlP("MatFormField"),zj=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let c2=0,j_=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=mn(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,s,u,h,_,b){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=u,this._defaults=h,this._animationMode=_,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+c2++,this._hintLabelId="mat-mdc-hint-"+c2++,this._subscriptAnimationState="",this._destroyed=new Rt.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,h&&(h.appearance&&(this.appearance=h.appearance),this._hideRequiredMarker=!!h?.hideRequiredMarker,h.color&&(this.color=h.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(ai(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Dc.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ai(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(ai(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,u=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+u}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(sm),o.Y36(fr),o.Y36(zj,8),o.Y36(o.QbO,8),o.Y36(ne))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,z_,5),o.Suo(r,z_,7),o.Suo(r,eO,5),o.Suo(r,Bj,5),o.Suo(r,Vj,5),o.Suo(r,Fj,5),o.Suo(r,n2,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._labelChildNonStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildStatic=s.first),o.iGM(s=o.CRH())&&(i._formFieldControl=s.first),o.iGM(s=o.CRH())&&(i._prefixChildren=s),o.iGM(s=o.CRH())&&(i._suffixChildren=s),o.iGM(s=o.CRH())&&(i._errorChildren=s),o.iGM(s=o.CRH())&&(i._hintChildren=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(pj,5),o.Gf(mj,5),o.Gf(gj,5),o.Gf(o2,5),o.Gf(l2,5),o.Gf(a2,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._textField=r.first),o.iGM(r=o.CRH())&&(i._iconPrefixContainer=r.first),o.iGM(r=o.CRH())&&(i._textPrefixContainer=r.first),o.iGM(r=o.CRH())&&(i._floatingLabel=r.first),o.iGM(r=o.CRH())&&(i._notchedOutline=r.first),o.iGM(r=o.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,i){2&e&&o.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:tO,useExisting:n},{provide:r2,useExisting:n}])],ngContentSelectors:Nj,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,i){1&e&&(o.F$t(Pj),o.YNc(0,vj,1,1,"ng-template",null,0,o.W1O),o.TgZ(2,"div",1,2),o.NdJ("click",function(s){return i._control.onContainerClick(s)}),o.YNc(4,bj,1,0,"div",3),o.TgZ(5,"div",4),o.YNc(6,xj,2,2,"div",5),o.YNc(7,Ej,3,0,"div",6),o.YNc(8,Dj,3,0,"div",7),o.TgZ(9,"div",8),o.YNc(10,Ij,1,1,"ng-template",9),o.Hsn(11),o.qZA(),o.YNc(12,Sj,2,0,"div",10),o.YNc(13,Aj,2,0,"div",11),o.qZA(),o.YNc(14,Mj,1,0,"div",12),o.qZA(),o.TgZ(15,"div",13),o.YNc(16,Rj,2,1,"div",14),o.YNc(17,Oj,5,2,"div",15),o.qZA()),2&e&&(o.xp6(2),o.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),o.xp6(2),o.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),o.xp6(2),o.Q6J("ngIf",i._hasOutline()),o.xp6(1),o.Q6J("ngIf",i._hasIconPrefix),o.xp6(1),o.Q6J("ngIf",i._hasTextPrefix),o.xp6(2),o.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),o.xp6(2),o.Q6J("ngIf",i._hasTextSuffix),o.xp6(1),o.Q6J("ngIf",i._hasIconSuffix),o.xp6(1),o.Q6J("ngIf",!i._hasOutline()),o.xp6(1),o.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),o.Q6J("ngSwitch",i._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},dependencies:[Oi,Ml,Xo,Mc,n2,o2,l2,a2],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Hj.transitionMessages]},changeDetection:0}),n})(),Lh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Qn,Xn,KF,Qn]}),n})();class Gj{}function nO(n){return n&&"function"==typeof n.connect&&!(n instanceof sk)}class h2{applyChanges(t,e,i,r,s){t.forEachOperation((u,h,_)=>{let b,E;if(null==u.previousIndex){const S=i(u,h,_);b=e.createEmbeddedView(S.templateRef,S.context,S.index),E=1}else null==_?(e.remove(h),E=3):(b=e.get(h),e.move(b,_),E=2);s&&s({context:b?.context,operation:E,record:u})})}detach(){}}class qj{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Rt.x,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}let p2=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fE=new o.OlP("_ViewRepeater"),Zj=["trigger"],Yj=["panel"];function Wj(n,t){if(1&n&&(o.TgZ(0,"span",10),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.placeholder)}}function Kj(n,t){if(1&n&&(o.TgZ(0,"span",14),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.triggerValue)}}function Qj(n,t){1&n&&o.Hsn(0,0,["*ngSwitchCase","true"])}function Jj(n,t){if(1&n&&(o.TgZ(0,"span",11),o.YNc(1,Kj,2,1,"span",12),o.YNc(2,Qj,1,0,"ng-content",13),o.qZA()),2&n){const e=o.oxw();o.Q6J("ngSwitch",!!e.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function Xj(n,t){if(1&n){const e=o.EpF();o.O4$(),o.kcU(),o.TgZ(0,"div",15,16),o.NdJ("@transformPanel.done",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._handleKeydown(r))}),o.Hsn(2,1),o.qZA()}if(2&n){const e=o.oxw();o.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),o.Q6J("ngClass",e.panelClass)("@transformPanel","showing"),o.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const e5=[[["mat-select-trigger"]],"*"],t5=["mat-select-trigger","*"],n5={transformPanelWrap:zs("transformPanelWrap",[sr("* => void",pA("@transformPanel",[fA()],{optional:!0}))]),transformPanel:zs("transformPanel",[Si("void",sn({opacity:0,transform:"scale(1, 0.8)"})),sr("void => showing",Sr("120ms cubic-bezier(0, 0, 0.2, 1)",sn({opacity:1,transform:"scale(1, 1)"}))),sr("* => void",Sr("100ms linear",sn({opacity:0})))])};let m2=0;const g2=new o.OlP("mat-select-scroll-strategy"),r5=new o.OlP("MAT_SELECT_CONFIG"),o5={provide:g2,deps:[Ro],useFactory:function i5(n){return()=>n.scrollStrategies.reposition()}},s5=new o.OlP("MatSelectTrigger");class a5{constructor(t,e){this.source=t,this.value=e}}const l5=mL(gL(o0(_L(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new Rt.x}}))));let c5=(()=>{class n extends l5{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(nu.required)??!1}set required(e){this._required=mn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=mn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=mn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Wu(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,i,r,s,u,h,_,b,E,S,O,B,z,q){super(u,s,_,b,S),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=h,this._parentFormField=E,this._liveAnnouncer=z,this._defaultOptions=q,this._panelOpen=!1,this._compareWith=(W,Re)=>W===Re,this._uid="mat-select-"+m2++,this._triggerAriaLabelledBy=null,this._destroy=new Rt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+m2++,this._panelDoneAnimatingStream=new Rt.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=Hx(()=>{const W=this.options;return W?W.changes.pipe(Ns(W),rr(()=>(0,Dc.T)(...W.map(Re=>Re.onSelectionChange)))):this._ngZone.onStable.pipe(Tr(1),rr(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe(Vn(W=>W),(0,Ke.U)(()=>{})),this._closedStream=this.openedChange.pipe(Vn(W=>!W),(0,Ke.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=q?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=q.typeaheadDebounceInterval),this._scrollStrategyFactory=B,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(O)||0,this.id=this.id}ngOnInit(){this._selectionModel=new qj(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,lc.x)(),ai(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(ai(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Ns(null),ai(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=`${this.id}-panel`;this._trackedModal&&Lk(this._trackedModal,"aria-owns",i),eL(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(Lk(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&s&&!Nh(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const h=this.selected;u.onKeydown(e);const _=this.selected;_&&h!==_&&this._liveAnnouncer.announce(_.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,u=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(u||13!==r&&32!==r||!i.activeItem||Nh(e))if(!u&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const h=this.options.some(_=>!_.disabled&&!_.selected);this.options.forEach(_=>{_.disabled||(h?_.select():_.deselect())})}else{const h=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==h&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Tr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_skipPredicate(e){return e.disabled}_initKeyManager(){this._keyManager=new g6(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Dc.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(ai(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Dc.T)(...this.options.map(i=>i._stateChanges)).pipe(ai(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(aA),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(vL),o.Y36(o.SBq),o.Y36(sm,8),o.Y36(oa,8),o.Y36(mu,8),o.Y36(tO,8),o.Y36(as,10),o.$8M("tabindex"),o.Y36(g2),o.Y36(zk),o.Y36(r5,8))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&(o.Gf(Zj,5),o.Gf(Yj,5),o.Gf(KL,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.trigger=r.first),o.iGM(r=o.CRH())&&(i.panel=r.first),o.iGM(r=o.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]}),n})(),c0=(()=>{class n extends c5{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=e=>!this.panelOpen&&e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(ai(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const r=this.panel.nativeElement,s=function az(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[s]&&s++;return s}return 0}(e,this.options,this.optionGroups),u=i._getHostElement();r.scrollTop=0===e&&1===s?0:function lz(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}(u.offsetTop,u.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new a5(this,e)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof Jk?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=mn(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,s5,5),o.Suo(r,V_,5),o.Suo(r,AL,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.customTrigger=s.first),o.iGM(s=o.CRH())&&(i.options=s),o.iGM(s=o.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(e,i){1&e&&o.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(o.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),o.ekj("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[o._Bn([{provide:eO,useExisting:n},{provide:SL,useExisting:n}]),o.qOj],ngContentSelectors:t5,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(o.F$t(e5),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return i.toggle()}),o.TgZ(3,"div",2),o.YNc(4,Wj,2,1,"span",3),o.YNc(5,Jj,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5)(7,"div",6),o.O4$(),o.TgZ(8,"svg",7),o._UZ(9,"path",8),o.qZA()()()(),o.YNc(10,Xj,3,9,"ng-template",9),o.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=o.MAs(1);o.xp6(3),o.Q6J("ngSwitch",i.empty),o.uIk("id",i._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(5),o.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[ar,Xo,Mc,rd,KL,Jk],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[n5.transformPanel]},changeDetection:0}),n})(),u0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[o5],imports:[Xn,dE,ML,Qn,lA,Lh,ML,Qn]}),n})();const u5=["tooltip"],_2=new o.OlP("mat-tooltip-scroll-strategy"),f5={provide:_2,deps:[Ro],useFactory:function h5(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},m5=new o.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function p5(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),y2="tooltip-panel",v2=n0({passive:!0});let w5=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=mn(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=mn(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Wu(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Wu(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,i,r,s,u,h,_,b,E,S,O,B){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=u,this._platform=h,this._ariaDescriber=_,this._focusMonitor=b,this._dir=S,this._defaultOptions=O,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Rt.x,this._scrollStrategy=E,this._document=B,O&&(this._showDelay=O.showDelay,this._hideDelay=O.hideDelay,O.position&&(this.position=O.position),O.positionAtOrigin&&(this.positionAtOrigin=O.positionAtOrigin),O.touchGestures&&(this.touchGestures=O.touchGestures)),S.change.pipe(ai(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(ai(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,v2)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new s0(this._tooltipComponent,this._viewContainerRef);const s=this._tooltipInstance=r.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(ai(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&s._origin instanceof o.SBq)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(ai(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${y2}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(ai(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(ai(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(ai(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!Nh(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:s,y:u}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:u}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:u}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:u}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Tr(1),ai(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:s}=e;let u;if(u="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",u!==this._currentPosition){const h=this._overlayRef;if(h){const _=`${this._cssClassPrefix}-${y2}-`;h.removePanelClass(_+this._currentPosition),h.addPanelClass(_+u)}this._currentPosition=u}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(i=e),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,v2)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),b2=(()=>{class n extends w5{constructor(e,i,r,s,u,h,_,b,E,S,O,B){super(e,i,r,s,u,h,_,b,E,S,O,B),this._tooltipComponent=x5,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ro),o.Y36(o.SBq),o.Y36(UL),o.Y36(o.s_b),o.Y36(o.R0b),o.Y36(fr),o.Y36(Vk),o.Y36(B_),o.Y36(_2),o.Y36(sm,8),o.Y36(m5,8),o.Y36(ne))},n.\u0275dir=o.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-mdc-tooltip-disabled",i.disabled)},exportAs:["matTooltip"],features:[o.qOj]}),n})(),C5=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Rt.x,this._animationsDisabled="NoopAnimations"===i}show(e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(e?s:r),i.classList.add(e?r:s),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const u=getComputedStyle(i);("0s"===u.getPropertyValue("animation-duration")||"none"===u.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(o.QbO,8))},n.\u0275dir=o.lG2({type:n}),n})(),x5=(()=>{class n extends C5{constructor(e,i,r){super(e,r),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&o.Gf(u5,7),2&e){let r;o.iGM(r=o.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("mouseleave",function(s){return i._handleMouseLeave(s)}),2&e&&o.Udp("zoom",i.isVisible()?1:null)},features:[o.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0,1),o.NdJ("animationend",function(s){return i._handleAnimationEnd(s)}),o.TgZ(2,"div",2),o._uU(3),o.qZA()()),2&e&&(o.ekj("mdc-tooltip--multiline",i._isMultiline),o.Q6J("ngClass",i.tooltipClass),o.xp6(3),o.Oqu(i.message))},dependencies:[ar],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),n})(),w2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[f5],imports:[$k,Xn,dE,Qn,Qn,lA]}),n})();function E5(n,t){if(1&n&&(o.TgZ(0,"mat-option",19),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e),o.xp6(1),o.hij(" ",e," ")}}function D5(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-form-field",16)(1,"mat-select",17),o.NdJ("selectionChange",function(r){o.CHM(e);const s=o.oxw(2);return o.KtG(s._changePageSize(r.value))}),o.YNc(2,E5,2,2,"mat-option",18),o.qZA()()}if(2&n){const e=o.oxw(2);o.Q6J("appearance",e._formFieldAppearance)("color",e.color),o.xp6(1),o.Q6J("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),o.xp6(1),o.Q6J("ngForOf",e._displayedPageSizeOptions)}}function T5(n,t){if(1&n&&(o.TgZ(0,"div",20),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.pageSize)}}function I5(n,t){if(1&n&&(o.TgZ(0,"div",12)(1,"div",13),o._uU(2),o.qZA(),o.YNc(3,D5,3,8,"mat-form-field",14),o.YNc(4,T5,2,1,"div",15),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.s9C("id",e._pageSizeLabelId),o.xp6(1),o.hij(" ",e._intl.itemsPerPageLabel," "),o.xp6(1),o.Q6J("ngIf",e._displayedPageSizeOptions.length>1),o.xp6(1),o.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function S5(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",21),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.firstPage())}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",22),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),o.uIk("aria-label",e._intl.firstPageLabel)}}function A5(n,t){if(1&n){const e=o.EpF();o.O4$(),o.kcU(),o.TgZ(0,"button",23),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.lastPage())}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",24),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),o.uIk("aria-label",e._intl.lastPageLabel)}}let gA=(()=>{class n{constructor(){this.changes=new Rt.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const s=e*i;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+i,r):s+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const R5={provide:gA,deps:[[new o.FiY,new o.tp0,gA]],useFactory:function M5(n){return n||new gA}},O5=new o.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),P5=o0(yL(class{}));let N5=(()=>{class n extends P5{get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(Wu(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=Wu(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(Wu(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>Wu(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=mn(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=mn(e)}constructor(e,i,r){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new o.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:s,pageSizeOptions:u,hidePageSize:h,showFirstLastButtons:_}=r;null!=s&&(this._pageSize=s),null!=u&&(this._pageSizeOptions=u),null!=h&&(this._hidePageSize=h),null!=_&&(this._showFirstLastButtons=_)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[o.qOj]}),n})(),F5=0,lm=(()=>{class n extends N5{constructor(e,i,r){super(e,i,r),this._pageSizeLabelId="mat-paginator-page-size-label-"+F5++,this._formFieldAppearance=r?.formFieldAppearance||"outline"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(gA),o.Y36(o.sBO),o.Y36(O5,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[o.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1),o.YNc(2,I5,5,4,"div",2),o.TgZ(3,"div",3)(4,"div",4),o._uU(5),o.qZA(),o.YNc(6,S5,3,5,"button",5),o.TgZ(7,"button",6),o.NdJ("click",function(){return i.previousPage()}),o.O4$(),o.TgZ(8,"svg",7),o._UZ(9,"path",8),o.qZA()(),o.kcU(),o.TgZ(10,"button",9),o.NdJ("click",function(){return i.nextPage()}),o.O4$(),o.TgZ(11,"svg",7),o._UZ(12,"path",10),o.qZA()(),o.YNc(13,A5,3,5,"button",11),o.qZA()()()),2&e&&(o.xp6(2),o.Q6J("ngIf",!i.hidePageSize),o.xp6(3),o.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),o.xp6(1),o.Q6J("ngIf",i.showFirstLastButtons),o.xp6(1),o.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),o.uIk("aria-label",i._intl.previousPageLabel),o.xp6(3),o.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),o.uIk("aria-label",i._intl.nextPageLabel),o.xp6(3),o.Q6J("ngIf",i.showFirstLastButtons))},dependencies:[Zs,Oi,bz,j_,c0,V_,b2],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),pE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[R5],imports:[Xn,am,u0,w2]}),n})();const L5=["mat-sort-header",""];function B5(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("@arrowPosition.start",function(){o.CHM(e);const r=o.oxw();return o.KtG(r._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){o.CHM(e);const r=o.oxw();return o.KtG(r._disableViewStateAnimation=!1)}),o._UZ(1,"div",4),o.TgZ(2,"div",5),o._UZ(3,"div",6)(4,"div",7)(5,"div",8),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),o.xp6(2),o.Q6J("@indicator",e._getArrowDirectionState()),o.xp6(1),o.Q6J("@leftPointer",e._getArrowDirectionState()),o.xp6(1),o.Q6J("@rightPointer",e._getArrowDirectionState())}}const V5=["*"],C2=new o.OlP("MAT_SORT_DEFAULT_OPTIONS"),U5=yL(o0(class{}));let Ku=(()=>{class n extends U5{get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=mn(e)}constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new Rt.x,this.start="asc",this._direction="",this.sortChange=new o.vpe}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let r=function H5(n,t){let e=["asc","desc"];return"desc"==n&&e.reverse(),t||e.push(""),e}(e.start||this.start,e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),s=r.indexOf(this.direction)+1;return s>=r.length&&(s=0),r[s]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(C2,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[o.qOj,o.TTD]}),n})();const cm=Y6.ENTERING+" "+Z6.STANDARD_CURVE,d0={indicator:zs("indicator",[Si("active-asc, asc",sn({transform:"translateY(0px)"})),Si("active-desc, desc",sn({transform:"translateY(10px)"})),sr("active-asc <=> active-desc",Sr(cm))]),leftPointer:zs("leftPointer",[Si("active-asc, asc",sn({transform:"rotate(-45deg)"})),Si("active-desc, desc",sn({transform:"rotate(45deg)"})),sr("active-asc <=> active-desc",Sr(cm))]),rightPointer:zs("rightPointer",[Si("active-asc, asc",sn({transform:"rotate(45deg)"})),Si("active-desc, desc",sn({transform:"rotate(-45deg)"})),sr("active-asc <=> active-desc",Sr(cm))]),arrowOpacity:zs("arrowOpacity",[Si("desc-to-active, asc-to-active, active",sn({opacity:1})),Si("desc-to-hint, asc-to-hint, hint",sn({opacity:.54})),Si("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",sn({opacity:0})),sr("* => asc, * => desc, * => active, * => hint, * => void",Sr("0ms")),sr("* <=> *",Sr(cm))]),arrowPosition:zs("arrowPosition",[sr("* => desc-to-hint, * => desc-to-active",Sr(cm,hA([sn({transform:"translateY(-25%)"}),sn({transform:"translateY(0)"})]))),sr("* => hint-to-desc, * => active-to-desc",Sr(cm,hA([sn({transform:"translateY(0)"}),sn({transform:"translateY(25%)"})]))),sr("* => asc-to-hint, * => asc-to-active",Sr(cm,hA([sn({transform:"translateY(25%)"}),sn({transform:"translateY(0)"})]))),sr("* => hint-to-asc, * => active-to-asc",Sr(cm,hA([sn({transform:"translateY(0)"}),sn({transform:"translateY(-25%)"})]))),Si("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",sn({transform:"translateY(0)"})),Si("hint-to-desc, active-to-desc, desc",sn({transform:"translateY(-25%)"})),Si("hint-to-asc, active-to-asc, asc",sn({transform:"translateY(25%)"}))]),allowChildren:zs("allowChildren",[sr("* <=> *",[pA("@*",fA(),{optional:!0})])])};let _A=(()=>{class n{constructor(){this.changes=new Rt.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const j5={provide:_A,deps:[[new o.FiY,new o.tp0,_A]],useFactory:function z5(n){return n||new _A}},$5=o0(class{});let yA=(()=>{class n extends $5{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=mn(e)}constructor(e,i,r,s,u,h,_,b){super(),this._intl=e,this._changeDetectorRef=i,this._sort=r,this._columnDef=s,this._focusMonitor=u,this._elementRef=h,this._ariaDescriber=_,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",b?.arrowPosition&&(this.arrowPosition=b?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=!!e;i!==this._showIndicatorHint&&(this._setIndicatorHintVisible(i),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=(0,Dc.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(_A),o.Y36(o.sBO),o.Y36(Ku,8),o.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),o.Y36(B_),o.Y36(o.SBq),o.Y36(Vk,8),o.Y36(C2,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._handleClick()})("keydown",function(s){return i._handleKeydown(s)})("mouseenter",function(){return i._setIndicatorHintVisible(!0)})("mouseleave",function(){return i._setIndicatorHintVisible(!1)}),2&e&&(o.uIk("aria-sort",i._getAriaSortAttribute()),o.ekj("mat-sort-header-disabled",i._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[o.qOj],attrs:L5,ngContentSelectors:V5,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0)(1,"div",1),o.Hsn(2),o.qZA(),o.YNc(3,B5,6,6,"div",2),o.qZA()),2&e&&(o.ekj("mat-sort-header-sorted",i._isSorted())("mat-sort-header-position-before","before"===i.arrowPosition),o.uIk("tabindex",i._isDisabled()?null:0)("role",i._isDisabled()?null:"button"),o.xp6(3),o.Q6J("ngIf",i._renderArrow()))},dependencies:[Oi],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[d0.indicator,d0.leftPointer,d0.rightPointer,d0.arrowOpacity,d0.arrowPosition,d0.allowChildren]},changeDetection:0}),n})(),mE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[j5],imports:[Xn,Qn]}),n})();const G5=[[["caption"]],[["colgroup"],["col"]]],q5=["caption","colgroup, col"];function iO(n){return class extends n{get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=mn(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}}}const h0=new o.OlP("CDK_TABLE");let f0=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),p0=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),vA=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class K5{}const Q5=iO(K5);let Bh=(()=>{class n extends Q5{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=mn(e),this._hasStickyChanged=i!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(h0,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,f0,5),o.Suo(r,p0,5),o.Suo(r,vA,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.cell=s.first),o.iGM(s=o.CRH())&&(i.headerCell=s.first),o.iGM(s=o.CRH())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[o._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),o.qOj]}),n})();class rO{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let oO=(()=>{class n extends rO{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Bh),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[o.qOj]}),n})(),sO=(()=>{class n extends rO{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Bh),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[o.qOj]}),n})();class E2{constructor(){this.tasks=[],this.endTasks=[]}}const aO=new o.OlP("_COALESCED_STYLE_SCHEDULER");let D2=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Rt.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new E2,this._getScheduleObservable().pipe(ai(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new E2;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,ln.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Tr(1))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),lO=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof gE?e.headerCell.template:this instanceof _E?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();class J5 extends lO{}const X5=iO(J5);let gE=(()=>{class n extends X5{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(h0,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),n})();class e$ extends lO{}const t$=iO(e$);let _E=(()=>{class n extends t${constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(h0,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),n})(),bA=(()=>{class n extends lO{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(h0,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[o.qOj]}),n})(),Vh=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),cO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},dependencies:[Vh],encapsulation:2}),n})(),dO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},dependencies:[Vh],encapsulation:2}),n})(),wA=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const T2=["top","bottom","left","right"];class n${constructor(t,e,i,r,s=!0,u=!0,h){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=u,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(O=>O)&&!i.some(O=>O))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],u=s.children.length,h=this._getCellWidths(s,r),_=this._getStickyStartColumnPositions(h,e),b=this._getStickyEndColumnPositions(h,i),E=e.lastIndexOf(!0),S=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const O="rtl"===this.direction,B=O?"right":"left",z=O?"left":"right";for(const q of t)for(let W=0;W<u;W++){const Re=q.children[W];e[W]&&this._addStickyStyle(Re,B,_[W],W===E),i[W]&&this._addStickyStyle(Re,z,b[W],W===S)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===E?[]:h.slice(0,E+1).map((q,W)=>e[W]?q:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===S?[]:h.slice(S).map((q,W)=>i[W+S]?q:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,s="bottom"===i?e.slice().reverse():e,u=[],h=[],_=[];for(let E=0,S=0;E<r.length;E++){if(!s[E])continue;u[E]=S;const O=r[E];_[E]=this._isNativeHtmlTable?Array.from(O.children):[O];const B=O.getBoundingClientRect().height;S+=B,h[E]=B}const b=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let E=0;E<r.length;E++){if(!s[E])continue;const S=u[E],O=E===b;for(const B of _[E])this._addStickyStyle(B,i,S,O)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:h,offsets:u,elements:_}):this._positionListener?.stickyFooterRowsUpdated({sizes:h,offsets:u,elements:_})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);T2.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of T2)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let s=0;s<t.length;s++)e[s]&&(i[s]=r,r+=t[s]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let s=t.length;s>0;s--)e[s]&&(i[s]=r,r+=t[s]);return i}}const hO=new o.OlP("CDK_SPL");let CA=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),xA=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),EA=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),DA=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),TA=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=mn(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=mn(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,i,r,s,u,h,_,b,E,S,O,B){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=u,this._platform=_,this._viewRepeater=b,this._coalescedStyleScheduler=E,this._viewportRuler=S,this._stickyPositioningListener=O,this._ngZone=B,this._onDestroy=new Rt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new o.vpe,this.viewChange=new Zo.X({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(ai(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),nO(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,s,u)=>this._getEmbeddedViewArgs(r.item,u),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&o.R0b.isInAngularZone()?this._ngZone.onStable.pipe(Tr(1),ai(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const s=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const s=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,u)=>{this._addStickyColumnStyles([s],this._headerRowDefs[u])}),this._rowDefs.forEach(s=>{const u=[];for(let h=0;h<i.length;h++)this._renderRows[h].rowDef===s&&u.push(i[h]);this._addStickyColumnStyles(u,s)}),r.forEach((s,u)=>{this._addStickyColumnStyles([s],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const u=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let h=0;h<u.length;h++){let _=u[h];const b=this._cachedRenderRowsMap.get(_.data);b.has(_.rowDef)?b.get(_.rowDef).push(_):b.set(_.rowDef,[_]),e.push(_)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(u=>{const h=r&&r.has(u)?r.get(u):[];if(h.length){const _=h.shift();return _.dataIndex=i,_}return{data:e,rowDef:u,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),IA(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=IA(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=IA(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=IA(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(u,h)=>u||!!h.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(e){this._data=[],nO(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;nO(this.dataSource)?e=this.dataSource.connect(this):UN(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,st.of)(this.dataSource)),this._renderChangeSubscription=e.pipe(ai(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(h=>this._columnDefsByName.get(h)),s=r.map(h=>h.sticky),u=r.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const s=e.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,e));else{let s=this._rowDefs.find(u=>u.when&&u.when(i,e))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,s={}){const u=e.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),u}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Vh.mostRecentCellOutlet&&Vh.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const u=e.get(i).context;u.count=r,u.first=0===i,u.last=i===r-1,u.even=i%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[i].dataIndex,u.renderIndex=i):u.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const u of r.outlets)s.appendChild(u.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new n$(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,st.of)()).pipe(ai(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(e.templateRef),u=s.rootNodes[0];1===s.rootNodes.length&&u?.nodeType===this._document.ELEMENT_NODE&&(u.setAttribute("role","row"),u.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i,this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.sBO),o.Y36(o.SBq),o.$8M("role"),o.Y36(sm,8),o.Y36(ne),o.Y36(fr),o.Y36(fE),o.Y36(aO),o.Y36(aA),o.Y36(hO,12),o.Y36(o.R0b,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,wA,5),o.Suo(r,Bh,5),o.Suo(r,bA,5),o.Suo(r,gE,5),o.Suo(r,_E,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._noDataRow=s.first),o.iGM(s=o.CRH())&&(i._contentColumnDefs=s),o.iGM(s=o.CRH())&&(i._contentRowDefs=s),o.iGM(s=o.CRH())&&(i._contentHeaderRowDefs=s),o.iGM(s=o.CRH())&&(i._contentFooterRowDefs=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(CA,7),o.Gf(xA,7),o.Gf(EA,7),o.Gf(DA,7)),2&e){let r;o.iGM(r=o.CRH())&&(i._rowOutlet=r.first),o.iGM(r=o.CRH())&&(i._headerRowOutlet=r.first),o.iGM(r=o.CRH())&&(i._footerRowOutlet=r.first),o.iGM(r=o.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[o._Bn([{provide:h0,useExisting:n},{provide:fE,useClass:h2},{provide:aO,useClass:D2},{provide:hO,useValue:null}])],ngContentSelectors:q5,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(o.F$t(G5),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[CA,xA,EA,DA],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function IA(n,t){return n.concat(Array.from(t))}let r$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Wk]}),n})();const o$=[[["caption"]],[["colgroup"],["col"]]],s$=["caption","colgroup, col"];let yE=(()=>{class n extends TA{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[o._Bn([{provide:TA,useExisting:n},{provide:h0,useExisting:n},{provide:aO,useClass:D2},{provide:fE,useClass:h2},{provide:hO,useValue:null}]),o.qOj],ngContentSelectors:s$,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(o.F$t(o$),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[CA,xA,EA,DA],styles:[".mat-mdc-table-sticky{position:sticky !important}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{--mat-table-row-item-outline-width:1px;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),m0=(()=>{class n extends f0{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matCellDef",""]],features:[o._Bn([{provide:f0,useExisting:n}]),o.qOj]}),n})(),g0=(()=>{class n extends p0{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[o._Bn([{provide:p0,useExisting:n}]),o.qOj]}),n})(),_0=(()=>{class n extends Bh{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[o._Bn([{provide:Bh,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),o.qOj]}),n})(),y0=(()=>{class n extends oO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[o.qOj]}),n})(),v0=(()=>{class n extends sO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[o.qOj]}),n})(),vE=(()=>{class n extends gE{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[o._Bn([{provide:gE,useExisting:n}]),o.qOj]}),n})(),bE=(()=>{class n extends bA{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[o._Bn([{provide:bA,useExisting:n}]),o.qOj]}),n})(),wE=(()=>{class n extends cO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[o._Bn([{provide:cO,useExisting:n}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},dependencies:[Vh],encapsulation:2}),n})(),CE=(()=>{class n extends dO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[o._Bn([{provide:dO,useExisting:n}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},dependencies:[Vh],encapsulation:2}),n})(),xE=(()=>{class n extends wA{constructor(){super(...arguments),this._contentClassName="mat-mdc-no-data-row"}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","matNoDataRow",""]],features:[o._Bn([{provide:wA,useExisting:n}]),o.qOj]}),n})(),EE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Qn,r$,Qn]}),n})();class m$ extends Gj{get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}constructor(t=[]){super(),this._renderData=new Zo.X([]),this._filter=new Zo.X(""),this._internalPageChanges=new Rt.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(WF(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(e,i)=>{const r=i.active,s=i.direction;return r&&""!=s?e.sort((u,h)=>{let _=this.sortingDataAccessor(u,r),b=this.sortingDataAccessor(h,r);const E=typeof _,S=typeof b;E!==S&&("number"===E&&(_+=""),"number"===S&&(b+=""));let O=0;return null!=_&&null!=b?_>b?O=1:_<b&&(O=-1):null!=_?O=1:null!=b&&(O=-1),O*("asc"==s?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((u,h)=>u+e[h]+"\u25ec","").toLowerCase(),s=i.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new Zo.X(t),this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?(0,Dc.T)(this._sort.sortChange,this._sort.initialized):(0,st.of)(null),e=this._paginator?(0,Dc.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,st.of)(null),r=k_([this._data,this._filter]).pipe((0,Ke.U)(([h])=>this._filterData(h))),s=k_([r,t]).pipe((0,Ke.U)(([h])=>this._orderData(h))),u=k_([s,e]).pipe((0,Ke.U)(([h])=>this._pageData(h)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=u.subscribe(h=>this._renderData.next(h))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class b0 extends m${}const S2=n0({passive:!0});let g$=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return qu.E;const i=om(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Rt.x,u="cdk-text-field-autofilled",h=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>s.next({target:_.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>s.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,S2),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",h,S2)}}),s}stopMonitoring(e){const i=om(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fr),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const y$=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),v$=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let b$=0;const w$=_L(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Rt.x}});let w0=(()=>{class n extends w${get disabled(){return this._disabled}set disabled(e){this._disabled=mn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(nu.required)??!1}set required(e){this._required=mn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&$F().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=mn(e)}constructor(e,i,r,s,u,h,_,b,E,S){super(h,s,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=b,this._formField=S,this._uid="mat-input-"+b$++,this.focused=!1,this.stateChanges=new Rt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(z=>$F().has(z)),this._iOSKeyupListener=z=>{const q=z.target;!q.value&&0===q.selectionStart&&0===q.selectionEnd&&(q.setSelectionRange(1,1),q.setSelectionRange(0,0))};const O=this._elementRef.nativeElement,B=O.nodeName.toLowerCase();this._inputValueAccessor=_||O,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&E.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===B,this._isTextarea="textarea"===B,this._isInFormField=!!S,this._isNativeSelect&&(this.controlType=O.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){v$.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(fr),o.Y36(as,10),o.Y36(oa,8),o.Y36(mu,8),o.Y36(vL),o.Y36(y$,10),o.Y36(g$),o.Y36(o.R0b),o.Y36(tO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,i){1&e&&o.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(o.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),o.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),o.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[o._Bn([{provide:eO,useExisting:n}]),o.qOj,o.TTD]}),n})(),C0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Qn,Lh,Lh,_$,Qn]}),n})();function C$(n,t){}class SA{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let A2=(()=>{class n extends cA{constructor(e,i,r,s,u,h,_,b){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=u,this._ngZone=h,this._overlayRef=_,this._focusMonitor=b,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=E=>{this._portalOutlet.hasAttached();const S=this._portalOutlet.attachDomPortal(E);return this._contentAttached(),S},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Rk(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Rk();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Rk())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Hk),o.Y36(ne,8),o.Y36(SA),o.Y36(oE),o.Y36(o.R0b),o.Y36(uE),o.Y36(B_))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&o.Gf(a0,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&o.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&o.YNc(0,C$,0,0,"ng-template",0)},dependencies:[a0],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class fO{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new Rt.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Nh(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const M2=new o.OlP("DialogScrollStrategy"),x$=new o.OlP("DialogData"),E$=new o.OlP("DefaultDialogConfig"),T$={provide:M2,deps:[Ro],useFactory:function D$(n){return()=>n.scrollStrategies.block()}};let I$=0,R2=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,s,u,h){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Rt.x,this._afterOpenedAtThisLevel=new Rt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Hx(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ns(void 0))),this._scrollStrategy=h}open(e,i){(i={...this._defaultOptions||new SA,...i}).id=i.id||"cdk-dialog-"+I$++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),u=this._overlay.create(s),h=new fO(u,i),_=this._attachContainer(u,h,i);return h.containerInstance=_,this._attachDialogContent(e,h,_,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.closed.subscribe(()=>this._removeOpenDialog(h,!0)),this.afterOpened.next(h),h}closeAll(){pO(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){pO(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),pO(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new uA({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const s=r.injector||r.viewContainerRef?.injector,u=[{provide:SA,useValue:r},{provide:fO,useValue:i},{provide:uE,useValue:e}];let h;r.container?"function"==typeof r.container?h=r.container:(h=r.container.type,u.push(...r.container.providers(r))):h=A2;const _=new s0(h,r.viewContainerRef,o.zs3.create({parent:s||this._injector,providers:u}),r.componentFactoryResolver);return e.attach(_).instance}_attachDialogContent(e,i,r,s){if(e instanceof o.Rgc){const u=this._createInjector(s,i,r,void 0);let h={$implicit:s.data,dialogRef:i};s.templateContext&&(h={...h,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new Ic(e,null,h,u))}else{const u=this._createInjector(s,i,r,this._injector),h=r.attachComponentPortal(new s0(e,s.viewContainerRef,u,s.componentFactoryResolver));i.componentRef=h,i.componentInstance=h.instance}}_createInjector(e,i,r,s){const u=e.injector||e.viewContainerRef?.injector,h=[{provide:x$,useValue:e.data},{provide:fO,useValue:i}];return e.providers&&("function"==typeof e.providers?h.push(...e.providers(i,e,r)):h.push(...e.providers)),e.direction&&(!u||!u.get(sm,null,{optional:!0}))&&h.push({provide:sm,useValue:{value:e.direction,change:(0,st.of)()}}),o.zs3.create({parent:u||s,providers:h})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,u)=>{s?u.setAttribute("aria-hidden",s):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ro),o.LFG(o.zs3),o.LFG(E$,8),o.LFG(n,12),o.LFG(dA),o.LFG(M2))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function pO(n,t){let e=n.length;for(;e--;)t(n[e])}let S$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[R2,T$],imports:[dE,l0,$k,l0]}),n})();function A$(n,t){}class AA{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const mO="mdc-dialog--open",k2="mdc-dialog--opening",O2="mdc-dialog--closing";let k$=(()=>{class n extends A2{constructor(e,i,r,s,u,h,_,b){super(e,i,r,s,u,h,_,b),this._animationStateChanged=new o.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Hk),o.Y36(ne,8),o.Y36(AA),o.Y36(oE),o.Y36(o.R0b),o.Y36(uE),o.Y36(B_))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],features:[o.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();const P2="--mat-dialog-transition-duration";function N2(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?Wu(n.substring(0,n.length-2)):n.endsWith("s")?1e3*Wu(n.substring(0,n.length-1)):"0"===n?0:null}let O$=(()=>{class n extends k${constructor(e,i,r,s,u,h,_,b,E){super(e,i,r,s,u,h,_,E),this._animationMode=b,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?N2(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?N2(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(P2,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(k2,mO)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(mO),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(mO),this._animationsEnabled?(this._hostElement.style.setProperty(P2,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(O2)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(k2,O2)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Hk),o.Y36(ne,8),o.Y36(AA),o.Y36(oE),o.Y36(o.R0b),o.Y36(uE),o.Y36(o.QbO,8),o.Y36(B_))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(e,i){2&e&&(o.Ikx("id",i._config.id),o.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),o.ekj("_mat-animation-noopable",!i._animationsEnabled))},features:[o.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1),o.YNc(2,A$,0,0,"ng-template",2),o.qZA()())},dependencies:[a0],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class F2{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new Rt.x,this._beforeClosed=new Rt.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(Vn(r=>"opened"===r.state),Tr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Vn(r=>"closed"===r.state),Tr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Dc.T)(this.backdropClick(),this.keydownEvents().pipe(Vn(r=>27===r.keyCode&&!this.disableClose&&!Nh(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function P$(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Vn(e=>"closing"===e.state),Tr(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const N$=new o.OlP("MatMdcDialogData"),F$=new o.OlP("mat-mdc-dialog-default-options"),L2=new o.OlP("mat-mdc-dialog-scroll-strategy"),B$={provide:L2,deps:[Ro],useFactory:function L$(n){return()=>n.scrollStrategies.block()}};let V$=0,U$=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,s,u,h,_,b,E,S){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=_,this._dialogContainerType=b,this._dialogDataToken=E,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Rt.x,this._afterOpenedAtThisLevel=new Rt.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=AA,this.afterAllClosed=Hx(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ns(void 0))),this._scrollStrategy=h,this._dialog=i.get(R2)}open(e,i){let r;(i={...this._defaultOptions||new AA,...i}).id=i.id||`${this._idPrefix}${V$++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:SA,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(u,h,_)=>(r=new this._dialogRefConstructor(u,i,_),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:_},{provide:this._dialogDataToken,useValue:h.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=s.componentRef,r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const u=this.openDialogs.indexOf(r);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),$_=(()=>{class n extends U${constructor(e,i,r,s,u,h,_,b){super(e,i,s,h,_,u,F2,O$,N$,b),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ro),o.LFG(o.zs3),o.LFG(Ye,8),o.LFG(F$,8),o.LFG(L2),o.LFG(n,12),o.LFG(dA),o.LFG(o.QbO,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),H$=0,DE=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-mdc-dialog-title-"+H$++}ngOnInit(){this._dialogRef||(this._dialogRef=function z$(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._dialogRef._containerInstance?._ariaLabelledByQueue?.push(this.id)})}ngOnDestroy(){const e=this._dialogRef?._containerInstance?._ariaLabelledByQueue;e&&Promise.resolve().then(()=>{const i=e.indexOf(this.id);i>-1&&e.splice(i,1)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(F2,8),o.Y36(o.SBq),o.Y36($_))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(e,i){2&e&&o.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),TE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]}),n})(),IE=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-mdc-dialog-actions-align-center","center"===i.align)("mat-mdc-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})(),SE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[$_,B$],imports:[S$,dE,l0,Qn,Qn]}),n})();class MA{}class gO{}class Qu{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(s=>s.toString()),r.length>0){const s=e.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(e,s)}})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Qu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Qu;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Qu?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===s.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class j${encodeKey(t){return V2(t)}encodeValue(t){return V2(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const G$=/%(\d[a-f0-9])/gi,q$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function V2(n){return encodeURIComponent(n).replace(G$,(t,e)=>q$[e]??t)}function RA(n){return`${n}`}class um{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new j$,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function $$(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[u,h]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],_=e.get(u)||[];_.push(h),e.set(u,_)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(RA):[RA(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new um({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(RA(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(RA(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Z${constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function U2(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function H2(n){return typeof Blob<"u"&&n instanceof Blob}function z2(n){return typeof FormData<"u"&&n instanceof FormData}class AE{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Y$(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Qu),this.context||(this.context=new Z$),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new um,this.urlWithParams=e}serializeBody(){return null===this.body?null:U2(this.body)||H2(this.body)||z2(this.body)||function W$(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof um?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||z2(this.body)?null:H2(this.body)?this.body.type||null:U2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof um?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let _=t.headers||this.headers,b=t.params||this.params;const E=t.context??this.context;return void 0!==t.setHeaders&&(_=Object.keys(t.setHeaders).reduce((S,O)=>S.set(O,t.setHeaders[O]),_)),t.setParams&&(b=Object.keys(t.setParams).reduce((S,O)=>S.set(O,t.setParams[O]),b)),new AE(e,i,s,{params:b,headers:_,context:E,reportProgress:h,responseType:r,withCredentials:u})}}var Ar=(()=>((Ar=Ar||{})[Ar.Sent=0]="Sent",Ar[Ar.UploadProgress=1]="UploadProgress",Ar[Ar.ResponseHeader=2]="ResponseHeader",Ar[Ar.DownloadProgress=3]="DownloadProgress",Ar[Ar.Response=4]="Response",Ar[Ar.User=5]="User",Ar))();class _O{constructor(t,e=200,i="OK"){this.headers=t.headers||new Qu,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class yO extends _O{constructor(t={}){super(t),this.type=Ar.ResponseHeader}clone(t={}){return new yO({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class x0 extends _O{constructor(t={}){super(t),this.type=Ar.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new x0({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class j2 extends _O{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function vO(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let kA=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof AE)s=e;else{let _,b;_=r.headers instanceof Qu?r.headers:new Qu(r.headers),r.params&&(b=r.params instanceof um?r.params:new um({fromObject:r.params})),s=new AE(e,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=(0,st.of)(s).pipe(qb(_=>this.handler.handle(_)));if(e instanceof AE||"events"===r.observe)return u;const h=u.pipe(Vn(_=>_ instanceof x0));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,Ke.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return h.pipe((0,Ke.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return h.pipe((0,Ke.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return h.pipe((0,Ke.U)(_=>_.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new um).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,vO(r,i))}post(e,i,r={}){return this.request("POST",e,vO(r,i))}put(e,i,r={}){return this.request("PUT",e,vO(r,i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(MA))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function $2(n,t){return t(n)}const ME=new o.OlP(""),G2=new o.OlP("");let q2=(()=>{class n extends MA{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=(0,o.f3M)(o.HDt)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(ME),...this.injector.get(G2,[])]));this.chain=r.reduceRight((s,u)=>function Q$(n,t,e){return(i,r)=>e.runInContext(()=>t(i,s=>n(s,r)))}(s,u,this.injector),$2)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(kh(()=>this.pendingTasks.remove(i)))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(gO),o.LFG(o.lqb))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const iG=/^\)\]\}',?\n/;let Y2=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new o.vHH(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?(0,ln.D)(i.\u0275loadImpl()):(0,st.of)(null)).pipe(rr(()=>new On.y(s=>{const u=i.build();if(u.open(e.method,e.urlWithParams),e.withCredentials&&(u.withCredentials=!0),e.headers.forEach((q,W)=>u.setRequestHeader(q,W.join(","))),e.headers.has("Accept")||u.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const q=e.detectContentTypeHeader();null!==q&&u.setRequestHeader("Content-Type",q)}if(e.responseType){const q=e.responseType.toLowerCase();u.responseType="json"!==q?q:"text"}const h=e.serializeBody();let _=null;const b=()=>{if(null!==_)return _;const q=u.statusText||"OK",W=new Qu(u.getAllResponseHeaders()),Re=function rG(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(u)||e.url;return _=new yO({headers:W,status:u.status,statusText:q,url:Re}),_},E=()=>{let{headers:q,status:W,statusText:Re,url:We}=b(),Pe=null;204!==W&&(Pe=typeof u.response>"u"?u.responseText:u.response),0===W&&(W=Pe?200:0);let Ge=W>=200&&W<300;if("json"===e.responseType&&"string"==typeof Pe){const It=Pe;Pe=Pe.replace(iG,"");try{Pe=""!==Pe?JSON.parse(Pe):null}catch(Pt){Pe=It,Ge&&(Ge=!1,Pe={error:Pt,text:Pe})}}Ge?(s.next(new x0({body:Pe,headers:q,status:W,statusText:Re,url:We||void 0})),s.complete()):s.error(new j2({error:Pe,headers:q,status:W,statusText:Re,url:We||void 0}))},S=q=>{const{url:W}=b(),Re=new j2({error:q,status:u.status||0,statusText:u.statusText||"Unknown Error",url:W||void 0});s.error(Re)};let O=!1;const B=q=>{O||(s.next(b()),O=!0);let W={type:Ar.DownloadProgress,loaded:q.loaded};q.lengthComputable&&(W.total=q.total),"text"===e.responseType&&u.responseText&&(W.partialText=u.responseText),s.next(W)},z=q=>{let W={type:Ar.UploadProgress,loaded:q.loaded};q.lengthComputable&&(W.total=q.total),s.next(W)};return u.addEventListener("load",E),u.addEventListener("error",S),u.addEventListener("timeout",S),u.addEventListener("abort",S),e.reportProgress&&(u.addEventListener("progress",B),null!==h&&u.upload&&u.upload.addEventListener("progress",z)),u.send(h),s.next({type:Ar.Sent}),()=>{u.removeEventListener("error",S),u.removeEventListener("abort",S),u.removeEventListener("load",E),u.removeEventListener("timeout",S),e.reportProgress&&(u.removeEventListener("progress",B),null!==h&&u.upload&&u.upload.removeEventListener("progress",z)),u.readyState!==u.DONE&&u.abort()}})))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(bi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const bO=new o.OlP("XSRF_ENABLED"),W2=new o.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),K2=new o.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Q2{}let aG=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Cs(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ne),o.LFG(o.Lbi),o.LFG(W2))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function lG(n,t){const e=n.url.toLowerCase();if(!(0,o.f3M)(bO)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=(0,o.f3M)(Q2).getToken(),r=(0,o.f3M)(K2);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}function cG(...n){const t=[kA,Y2,q2,{provide:MA,useExisting:q2},{provide:gO,useExisting:Y2},{provide:ME,useValue:lG,multi:!0},{provide:bO,useValue:!0},{provide:Q2,useClass:aG}];for(const e of n)t.push(...e.\u0275providers);return(0,o.MR2)(t)}const mG=["*"];let PA;function RE(n){return function gG(){if(void 0===PA&&(PA=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(PA=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return PA}()?.createHTML(n)||n}function X2(n){return Error(`Unable to find icon with the name "${n}"`)}function eB(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function tB(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class G_{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let NA=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new G_(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const u=this._sanitizer.sanitize(o.q3G.HTML,r);if(!u)throw tB(r);const h=RE(u);return this._addSvgIconConfig(e,i,new G_("",h,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new G_(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(o.q3G.HTML,i);if(!s)throw tB(i);const u=RE(s);return this._addSvgIconSetConfig(e,new G_("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,e);if(!i)throw eB(e);const r=this._cachedIconsByUrl.get(i);return r?(0,st.of)(FA(r)):this._loadSvgIconFromConfig(new G_(e,null)).pipe((0,Zr.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,Ke.U)(s=>FA(s)))}getNamedSvgIcon(e,i=""){const r=nB(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):Gb(X2(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,st.of)(FA(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Ke.U)(i=>FA(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?(0,st.of)(r):eu(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(nm(h=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(b)),(0,st.of)(null)})))).pipe((0,Ke.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw X2(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(s),h=this._extractSvgIconFromSet(u,e,s.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Zr.b)(i=>e.svgText=i),(0,Ke.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,st.of)(null):this._fetchIcon(e).pipe((0,Zr.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const u=s.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(RE("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(RE("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:u,value:h}=r[s];"id"!==u&&i.setAttribute(u,h)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function _G(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,i);if(!u)throw eB(i);const h=this._inProgressUrlFetches.get(u);if(h)return h;const _=this._httpClient.get(u,{responseType:"text",withCredentials:s}).pipe((0,Ke.U)(b=>RE(b)),kh(()=>this._inProgressUrlFetches.delete(u)),(0,XP.B)());return this._inProgressUrlFetches.set(u,_),_}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(nB(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return vG(s)?new G_(s.url,null,s.options):new G_(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(kA,8),o.LFG(Ba),o.LFG(ne,8),o.LFG(o.qLn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FA(n){return n.cloneNode(!0)}function nB(n,t){return n+":"+t}function vG(n){return!(!n.url||!n.options)}const bG=pL(class{constructor(n){this._elementRef=n}}),wG=new o.OlP("MAT_ICON_DEFAULT_OPTIONS"),CG=new o.OlP("mat-icon-location",{providedIn:"root",factory:function xG(){const n=(0,o.f3M)(ne),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),iB=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],EG=iB.map(n=>`[${n}]`).join(", "),DG=/^url\(['"]?#(.*?)['"]?\)$/;let wO=(()=>{class n extends bG{get inline(){return this._inline}set inline(e){this._inline=mn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,s,u,h){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Hs.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(u=>{s.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(EG),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)iB.forEach(u=>{const h=i[s],_=h.getAttribute(u),b=_?_.match(DG):null;if(b){let E=r.get(h);E||(E=[],r.set(h,E)),E.push({name:u,value:b[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Tr(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(NA),o.$8M("aria-hidden"),o.Y36(CG),o.Y36(o.qLn),o.Y36(wG,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(o.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),o.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:mG,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),kE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Qn,Qn]}),n})(),OE=(()=>{class n{transform(e){if("number"!=typeof e)throw new Error("Invalid input: value must be a number");return 5*Math.ceil(e/5)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=o.Yjl({name:"roundUpToFive",type:n,pure:!0,standalone:!0}),n})();const TG=["*"],RG=new o.OlP("MAT_CARD_CONFIG");let LA=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(RG,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:TG,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),BA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),CO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Qn,Xn,Qn]}),n})();function PG(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2)(1,"button",3),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.action())}),o._uU(2),o.qZA()()}if(2&n){const e=o.oxw();o.xp6(2),o.hij(" ",e.data.action," ")}}const NG=["label"];function FG(n,t){}const LG=Math.pow(2,31)-1;class xO{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Rt.x,this._afterOpened=new Rt.x,this._onAction=new Rt.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,LG))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const rB=new o.OlP("MatSnackBarData");class VA{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let BG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),n})(),VG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),n})(),UG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),n})(),HG=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(xO),o.Y36(rB))},n.\u0275cmp=o.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._uU(1),o.qZA(),o.YNc(2,PG,3,1,"div",1)),2&e&&(o.xp6(1),o.hij(" ",i.data.message,"\n"),o.xp6(1),o.Q6J("ngIf",i.hasAction))},dependencies:[Oi,U_,BG,VG,UG],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),n})();const zG={snackBarState:zs("state",[Si("void, hidden",sn({transform:"scale(0.8)",opacity:0})),Si("visible",sn({transform:"scale(1)",opacity:1})),sr("* => visible",Sr("150ms cubic-bezier(0, 0, 0.2, 1)")),sr("* => void, * => hidden",Sr("75ms cubic-bezier(0.4, 0.0, 1, 1)",sn({opacity:0})))])};let jG=0,$G=(()=>{class n extends cA{constructor(e,i,r,s,u){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=u,this._document=(0,o.f3M)(ne),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Rt.x,this._onExit=new Rt.x,this._onEnter=new Rt.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+jG++,this.attachDomPortal=h=>{this._assertNotAttached();const _=this._portalOutlet.attachDomPortal(h);return this._afterPortalAttached(),_},this._live="assertive"!==u.politeness||u.announcementMessage?"off"===u.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Tr(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i)),this._exposeToModals()}_exposeToModals(){const e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],u=s.getAttribute("aria-owns");this._trackedModals.add(s),u?-1===u.indexOf(e)&&s.setAttribute("aria-owns",u+" "+e):s.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const i=e.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(fr),o.Y36(VA))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&o.Gf(a0,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},features:[o.qOj]}),n})(),GG=(()=>{class n extends $G{_afterPortalAttached(){super._afterPortalAttached();const e=this._label.nativeElement,i="mdc-snackbar__label";e.classList.toggle(i,!e.querySelector(`.${i}`))}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(e,i){if(1&e&&o.Gf(NG,7),2&e){let r;o.iGM(r=o.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(e,i){1&e&&o.WFA("@state.done",function(s){return i.onAnimationEnd(s)}),2&e&&o.d8E("@state",i._animationState)},features:[o.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),o.YNc(4,FG,0,0,"ng-template",4),o.qZA(),o._UZ(5,"div"),o.qZA()()),2&e&&(o.xp6(5),o.uIk("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[a0],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[zG.snackBarState]}}),n})(),oB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[dE,l0,Xn,am,Qn,Qn]}),n})();const sB=new o.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function qG(){return new VA}});let ZG=(()=>{class n{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,i,r,s,u,h){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=u,this._defaultConfig=h,this._snackBarRefAtThisLevel=null}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const s={...this._defaultConfig,...r};return s.data={message:e,action:i},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const s=o.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:VA,useValue:i}]}),u=new s0(this.snackBarContainerComponent,i.viewContainerRef,s),h=e.attach(u);return h.instance.snackBarConfig=i,h.instance}_attach(e,i){const r={...new VA,...this._defaultConfig,...i},s=this._createOverlay(r),u=this._attachSnackBarContainer(s,r),h=new xO(u,s);if(e instanceof o.Rgc){const _=new Ic(e,null,{$implicit:r.data,snackBarRef:h});h.instance=u.attachTemplatePortal(_)}else{const _=this._createInjector(r,h),b=new s0(e,void 0,_),E=u.attachComponentPortal(b);h.instance=E.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(ai(s.detachments())).subscribe(_=>{s.overlayElement.classList.toggle(this.handsetCssClass,_.matches)}),r.announcementMessage&&u._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(h,r),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new uA;i.direction=e.direction;let r=this._overlay.position().global();const s="rtl"===e.direction,u="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,h=!u&&"center"!==e.horizontalPosition;return u?r.left("0"):h?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return o.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:xO,useValue:i},{provide:rB,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ro),o.LFG(zk),o.LFG(o.zs3),o.LFG(Fk),o.LFG(n,12),o.LFG(sB))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),EO=(()=>{class n extends ZG{constructor(e,i,r,s,u,h){super(e,i,r,s,u,h),this.simpleSnackBarComponent=HG,this.snackBarContainerComponent=GG,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ro),o.LFG(zk),o.LFG(o.zs3),o.LFG(Fk),o.LFG(n,12),o.LFG(sB))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:oB}),n})(),DO=(()=>{class n{constructor(e){this.db=e,this.dbPath="/products",this.producstRef=e.collection(this.dbPath)}getAll(){return this.producstRef}create(e){return this.producstRef.add({...e})}update(e,i){return this.producstRef.doc(e).update(i)}delete(e){return this.producstRef.doc(e).delete()}getProductByBarcode(e){return this.db.collection("products",i=>i.where("barcode","==",e)).get().toPromise()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(R_))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TO=(()=>{class n{constructor(e,i){this.db=e,this.http=i,this.dbPath="/shipments",this.cloudFunctionUrl="https://testing-qcwtqe5maq-uc.a.run.app",this.shipmentRef=e.collection(this.dbPath)}getShipmentCount(){return this.http.get(this.cloudFunctionUrl)}getDocumentsByIds(e){return this.db.collection(this.dbPath,i=>i.where("id","in",e)).valueChanges()}getAll(){return this.shipmentRef}create(e){return this.shipmentRef.add({...e})}update(e,i){return this.shipmentRef.doc(e).update(i)}delete(e){return this.shipmentRef.doc(e).delete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(R_),o.LFG(kA))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aB="firebasestorage.googleapis.com",lB="storageBucket";class $i extends qt.ZR{constructor(t,e,i=0){super(IO(t),`Firebase Storage: ${e} (${IO(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$i.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return IO(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ut=(()=>((Ut=Ut||{}).UNKNOWN="unknown",Ut.OBJECT_NOT_FOUND="object-not-found",Ut.BUCKET_NOT_FOUND="bucket-not-found",Ut.PROJECT_NOT_FOUND="project-not-found",Ut.QUOTA_EXCEEDED="quota-exceeded",Ut.UNAUTHENTICATED="unauthenticated",Ut.UNAUTHORIZED="unauthorized",Ut.UNAUTHORIZED_APP="unauthorized-app",Ut.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Ut.INVALID_CHECKSUM="invalid-checksum",Ut.CANCELED="canceled",Ut.INVALID_EVENT_NAME="invalid-event-name",Ut.INVALID_URL="invalid-url",Ut.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Ut.NO_DEFAULT_BUCKET="no-default-bucket",Ut.CANNOT_SLICE_BLOB="cannot-slice-blob",Ut.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Ut.NO_DOWNLOAD_URL="no-download-url",Ut.INVALID_ARGUMENT="invalid-argument",Ut.INVALID_ARGUMENT_COUNT="invalid-argument-count",Ut.APP_DELETED="app-deleted",Ut.INVALID_ROOT_OPERATION="invalid-root-operation",Ut.INVALID_FORMAT="invalid-format",Ut.INTERNAL_ERROR="internal-error",Ut.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Ut))();function IO(n){return"storage/"+n}function SO(){return new $i(Ut.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function cB(){return new $i(Ut.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uB(){return new $i(Ut.CANCELED,"User canceled the upload/download.")}function dB(){return new $i(Ut.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function D0(n){return new $i(Ut.INVALID_ARGUMENT,n)}function hB(){return new $i(Ut.APP_DELETED,"The Firebase app was deleted.")}function fB(n){return new $i(Ut.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function PE(n,t){return new $i(Ut.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function NE(n){throw new $i(Ut.INTERNAL_ERROR,"Internal error: "+n)}class Wo{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Wo.makeFromUrl(t,e)}catch{return new Wo(t,"")}if(""===i.path)return i;throw function iq(n){return new $i(Ut.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function b(Ge){Ge.path_=decodeURIComponent(Ge.path)}const S=e.replace(/[.]/g,"\\."),Pe=[{regex:h,indices:{bucket:1,path:3},postModify:function s(Ge){"/"===Ge.path.charAt(Ge.path.length-1)&&(Ge.path_=Ge.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${S}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:b},{regex:new RegExp(`^https?://${e===aB?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:b}];for(let Ge=0;Ge<Pe.length;Ge++){const It=Pe[Ge],Pt=It.regex.exec(t);if(Pt){let Gi=Pt[It.indices.path];Gi||(Gi=""),i=new Wo(Pt[It.indices.bucket],Gi),It.postModify(i);break}}if(null==i)throw function nq(n){return new $i(Ut.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class lq{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function UA(n){return"string"==typeof n||n instanceof String}function pB(n){return AO()&&n instanceof Blob}function AO(){return typeof Blob<"u"&&!(0,qt.UG)()}function MO(n,t,e,i){if(i<t)throw D0(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw D0(`Invalid value for '${n}'. Expected ${e} or less.`)}function Uh(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function mB(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var js=(()=>((js=js||{})[js.NO_ERROR=0]="NO_ERROR",js[js.NETWORK_ERROR=1]="NETWORK_ERROR",js[js.ABORT=2]="ABORT",js))();function gB(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==t.indexOf(n);return e||r||s}class pq{constructor(t,e,i,r,s,u,h,_,b,E,S,O=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=_,this.timeout_=b,this.progressCallback_=E,this.connectionFactory_=S,this.retry=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,z)=>{this.resolve_=B,this.reject_=z,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,u=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const _=this.callback_(h,h.getResponse());!function dq(n){return void 0!==n}(_)?s():s(_)}catch(_){u(_)}else if(null!==h){const _=SO();_.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,_):_)}else u(r.canceled?this.appDelete_?hB():uB():cB())};this.canceled_?e(0,new HA(!1,null,!0)):this.backoffId_=function cq(n,t,e){let i=1,r=null,s=null,u=!1,h=0;function _(){return 2===h}let b=!1;function E(...W){b||(b=!0,t.apply(null,W))}function S(W){r=setTimeout(()=>{r=null,n(B,_())},W)}function O(){s&&clearTimeout(s)}function B(W,...Re){if(b)return void O();if(W)return O(),void E.call(null,W,...Re);if(_()||u)return O(),void E.call(null,W,...Re);let Pe;i<64&&(i*=2),1===h?(h=2,Pe=0):Pe=1e3*(i+Math.random()),S(Pe)}let z=!1;function q(W){z||(z=!0,O(),!b&&(null!==r?(W||(h=2),clearTimeout(r),S(0)):W||(h=1)))}return S(0),s=setTimeout(()=>{u=!0,q(!0)},e),q}((i,r)=>{if(r)return void i(!1,new HA(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(u),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(u),this.pendingConnection_=null;const h=s.getErrorCode()===js.NO_ERROR,_=s.getStatus();if(!h||gB(_,this.additionalRetryCodes_)&&this.retry){const E=s.getErrorCode()===js.ABORT;return void i(!1,new HA(!1,null,E))}const b=-1!==this.successCodes_.indexOf(_);i(!0,new HA(b,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function uq(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class HA{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function wq(...n){const t=function bq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(AO())return new Blob(n);throw new $i(Ut.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const ba={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class RO{constructor(t,e){this.data=t,this.contentType=e||null}}function kO(n,t){switch(n){case ba.RAW:return new RO(_B(t));case ba.BASE64:case ba.BASE64URL:return new RO(yB(n,t));case ba.DATA_URL:return new RO(function Dq(n){const t=new vB(n);return t.base64?yB(ba.BASE64,t.rest):function Eq(n){let t;try{t=decodeURIComponent(n)}catch{throw PE(ba.DATA_URL,"Malformed data URL.")}return _B(t)}(t.rest)}(t),function Tq(n){return new vB(n).contentType}(t))}throw SO()}function _B(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function yB(n,t){switch(n){case ba.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw PE(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case ba.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw PE(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function xq(n){if(typeof atob>"u")throw function aq(n){return new $i(Ut.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:PE(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class vB{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw PE(ba.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function Iq(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class Ju{constructor(t,e){let i=0,r="";pB(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(pB(this.data_)){const r=function Cq(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new Ju(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Ju(i,!0)}}static getBlob(...t){if(AO()){const e=t.map(i=>i instanceof Ju?i.data_:i);return new Ju(wq.apply(null,e))}{const e=t.map(u=>UA(u)?kO(ba.RAW,u).data:u.data_);let i=0;e.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(u=>{for(let h=0;h<u.length;h++)r[s++]=u[h]}),new Ju(r,!0)}}uploadData(){return this.data_}}function OO(n){let t;try{t=JSON.parse(n)}catch{return null}return function fq(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function bB(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function Mq(n,t){return t}class ys{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||Mq}}let zA=null;function FE(){if(zA)return zA;const n=[];n.push(new ys("bucket")),n.push(new ys("generation")),n.push(new ys("metageneration")),n.push(new ys("name","fullPath",!0));const e=new ys("name");e.xform=function t(s,u){return function Rq(n){return!UA(n)||n.length<2?n:bB(n)}(u)},n.push(e);const r=new ys("size");return r.xform=function i(s,u){return void 0!==u?Number(u):u},n.push(r),n.push(new ys("timeCreated")),n.push(new ys("updated")),n.push(new ys("md5Hash",null,!0)),n.push(new ys("cacheControl",null,!0)),n.push(new ys("contentDisposition",null,!0)),n.push(new ys("contentEncoding",null,!0)),n.push(new ys("contentLanguage",null,!0)),n.push(new ys("contentType",null,!0)),n.push(new ys("metadata","customMetadata",!0)),zA=n,zA}function wB(n,t,e){const i=OO(t);return null===i?null:function Oq(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const u=e[s];i[u.local]=u.xform(i,t[u.server])}return function kq(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new Wo(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function PO(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const CB="prefixes",xB="items";class Xu{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ed(n){if(!n)throw SO()}function jA(n,t){return function e(i,r){const s=wB(n,r,t);return ed(null!==s),s}}function T0(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function eq(){return new $i(Ut.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function XG(){return new $i(Ut.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function JG(n){return new $i(Ut.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function tq(n){return new $i(Ut.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function LE(n){const t=T0(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function QG(n){return new $i(Ut.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function EB(n,t,e){const r=Uh(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Xu(r,"GET",jA(n,e),u);return h.errorHandler=LE(t),h}function Vq(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const h=Uh(t.bucketOnlyServerUrl(),n.host,n._protocol),b=n.maxOperationRetryTime,E=new Xu(h,"GET",function Lq(n,t){return function e(i,r){const s=function Fq(n,t,e){const i=OO(e);return null===i?null:function Nq(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[CB])for(const r of e[CB]){const s=r.replace(/\/$/,""),u=n._makeStorageReference(new Wo(t,s));i.prefixes.push(u)}if(e[xB])for(const r of e[xB]){const s=n._makeStorageReference(new Wo(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return ed(null!==s),s}}(n,t.bucket),b);return E.urlParams=s,E.errorHandler=T0(t),E}function TB(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function jq(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class $A{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function NO(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{ed(!1)}return ed(!!e&&-1!==(t||["active"]).indexOf(e)),e}const Zq={STATE_CHANGED:"state_changed"},vs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function FO(n){switch(n){case"running":case"pausing":case"canceling":return vs.RUNNING;case"paused":return vs.PAUSED;case"success":return vs.SUCCESS;case"canceled":return vs.CANCELED;default:return vs.ERROR}}class Yq{constructor(t,e,i){if(function hq(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function I0(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}let AB=null;class Wq{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=js.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=js.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=js.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw NE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw NE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw NE("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw NE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw NE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class Kq extends Wq{initXhr(){this.xhr_.responseType="text"}}function Sc(){return AB?AB():new Kq}class MB{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=FE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Ut.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(gB(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=cB()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Ut.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function $q(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),u=TB(t,i,r),h={name:u.fullPath},_=Uh(s,n.host,n._protocol),E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},S=PO(u,e),z=new Xu(_,"POST",function B(q){let W;NO(q);try{W=q.getResponseHeader("X-Goog-Upload-URL")}catch{ed(!1)}return ed(UA(W)),W},n.maxUploadRetryTime);return z.urlParams=h,z.headers=E,z.body=S,z.errorHandler=T0(t),z}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Sc,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function Gq(n,t,e,i){const _=new Xu(e,"POST",function s(b){const E=NO(b,["active","final"]);let S=null;try{S=b.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ed(!1)}S||ed(!1);const O=Number(S);return ed(!isNaN(O)),new $A(O,i.size(),"final"===E)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=T0(t),_}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,Sc,e,i);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new $A(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let u;try{u=function qq(n,t,e,i,r,s,u,h){const _=new $A(0,0);if(u?(_.current=u.current,_.total=u.total):(_.current=0,_.total=i.size()),i.size()!==_.total)throw function oq(){return new $i(Ut.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const b=_.total-_.current;let E=b;r>0&&(E=Math.min(E,r));const S=_.current;let B="";B=0===E?"finalize":b===E?"upload, finalize":"upload";const z={"X-Goog-Upload-Command":B,"X-Goog-Upload-Offset":`${_.current}`},q=i.slice(S,S+E);if(null===q)throw dB();const Pe=new Xu(e,"POST",function W(Ge,It){const Pt=NO(Ge,["active","final"]),gn=_.current+E,Gi=i.size();let Ko;return Ko="final"===Pt?jA(t,s)(Ge,It):null,new $A(gn,Gi,"final"===Pt,Ko)},t.maxUploadRetryTime);return Pe.headers=z,Pe.body=q.uploadData(),Pe.progressCallback=h||null,Pe.errorHandler=T0(n),Pe}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const h=this._ref.storage._makeRequest(u,Sc,r,s,!1);this._request=h,h.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=EB(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Sc,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function IB(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},_=function h(){let Pe="";for(let Ge=0;Ge<2;Ge++)Pe+=Math.random().toString().slice(2);return Pe}();u["Content-Type"]="multipart/related; boundary="+_;const b=TB(t,i,r),E=PO(b,e),B=Ju.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+E+"\r\n--"+_+"\r\nContent-Type: "+b.contentType+"\r\n\r\n",i,"\r\n--"+_+"--");if(null===B)throw dB();const z={name:b.fullPath},q=Uh(s,n.host,n._protocol),Re=n.maxUploadRetryTime,We=new Xu(q,"POST",jA(n,e),Re);return We.urlParams=z,We.headers=u,We.body=B.uploadData(),We.errorHandler=T0(t),We}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Sc,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=uB(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=FO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new Yq(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(FO(this._state)){case vs.SUCCESS:I0(this._resolve.bind(null,this.snapshot))();break;case vs.CANCELED:case vs.ERROR:I0(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(FO(this._state)){case vs.RUNNING:case vs.PAUSED:t.next&&I0(t.next.bind(t,this.snapshot))();break;case vs.SUCCESS:t.complete&&I0(t.complete.bind(t))();break;default:t.error&&I0(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class q_{constructor(t,e){this._service=t,this._location=e instanceof Wo?e:Wo.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new q_(t,e)}get root(){const t=new Wo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bB(this._location.path)}get storage(){return this._service}get parent(){const t=function Sq(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Wo(this._location.bucket,t);return new q_(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw fB(t)}}function kB(n,t,e){return LO.apply(this,arguments)}function LO(){return LO=(0,ge.Z)(function*(n,t,e){const r=yield OB(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield kB(n,t,r.nextPageToken))}),LO.apply(this,arguments)}function OB(n,t){null!=t&&"number"==typeof t.maxResults&&MO("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=Vq(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Sc)}function lZ(n){n._throwIfRoot("getDownloadURL");const t=function Uq(n,t,e){const r=Uh(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Xu(r,"GET",function Bq(n,t){return function e(i,r){const s=wB(n,r,t);return ed(null!==s),function Pq(n,t,e,i){const r=OO(t);if(null===r||!UA(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const u=encodeURIComponent;return s.split(",").map(b=>{const S=n.fullPath;return Uh("/b/"+u(n.bucket)+"/o/"+u(S),e,i)+mB({alt:"media",token:b})})[0]}(s,r,n.host,n._protocol)}}(n,e),u);return h.errorHandler=LE(t),h}(n.storage,n._location,FE());return n.storage.makeRequestWithTokens(t,Sc).then(e=>{if(null===e)throw function sq(){return new $i(Ut.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function PB(n,t){const e=function Aq(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Wo(n._location.bucket,e);return new q_(n.storage,i)}function NB(n,t){if(n instanceof BO){const e=n;if(null==e._bucket)throw function rq(){return new $i(Ut.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+lB+"' property when initializing the app?")}();const i=new q_(e,e._bucket);return null!=t?NB(i,t):i}return void 0!==t?PB(n,t):n}function hZ(n,t){if(t&&function uZ(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof BO)return function dZ(n,t){return new q_(n,t)}(n,t);throw D0("To use ref(service, url), the first argument must be a Storage instance.")}return NB(n,t)}function FB(n,t){const e=t?.[lB];return null==e?null:Wo.makeFromBucketSpec(e,n)}class BO{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=aB,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Wo.makeFromBucketSpec(r,this._host):FB(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Wo.makeFromBucketSpec(this._url,t):FB(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){MO("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){MO("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,ge.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,ge.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new q_(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new lq(hB());{const u=function vq(n,t,e,i,r,s,u=!0){const h=mB(n.urlParams),_=n.url+h,b=Object.assign({},n.headers);return function _q(n,t){t&&(n["X-Firebase-GMPID"]=t)}(b,t),function mq(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(b,e),function gq(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(b,s),function yq(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(b,i),new pq(_,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,u)}(t,this._appId,i,r,e,this._firebaseVersion,s);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(t,e){var i=this;return(0,ge.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const LB="@firebase/storage";function UB(n,t){return hZ(n=(0,qt.m9)(n),t)}function CZ(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new BO(e,i,r,t,us.SDK_VERSION)}!function xZ(){(0,us._registerComponent)(new jf.wA("storage",CZ,"PUBLIC").setMultipleInstances(!0)),(0,us.registerVersion)(LB,"0.11.2",""),(0,us.registerVersion)(LB,"0.11.2","esm2017")}();class GA{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class zB{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new GA(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new GA(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?u=>e(new GA(u,this,this._ref)):{next:e.next?u=>e.next(new GA(u,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class jB{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Hh(t,this._service))}get items(){return this._delegate.items.map(t=>new Hh(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Hh{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function wZ(n,t){return PB(n,t)}(this._delegate,t);return new Hh(e,this.storage)}get root(){return new Hh(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Hh(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new zB(function pZ(n,t,e){return function iZ(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new MB(n,new Ju(t),e)}(n=(0,qt.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=ba.RAW,i){this._throwIfRoot("putString");const r=kO(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new zB(new MB(this._delegate,new Ju(r.data,!0),s),this)}listAll(){return function yZ(n){return function oZ(n){const t={prefixes:[],items:[]};return kB(n,t).then(()=>t)}(n=(0,qt.m9)(n))}(this._delegate).then(t=>new jB(t,this.storage))}list(t){return function _Z(n,t){return OB(n=(0,qt.m9)(n),t)}(this._delegate,t||void 0).then(e=>new jB(e,this.storage))}getMetadata(){return function mZ(n){return function sZ(n){n._throwIfRoot("getMetadata");const t=EB(n.storage,n._location,FE());return n.storage.makeRequestWithTokens(t,Sc)}(n=(0,qt.m9)(n))}(this._delegate)}updateMetadata(t){return function gZ(n,t){return function aZ(n,t){n._throwIfRoot("updateMetadata");const e=function Hq(n,t,e,i){const s=Uh(t.fullServerUrl(),n.host,n._protocol),h=PO(e,i),b=n.maxOperationRetryTime,E=new Xu(s,"PATCH",jA(n,i),b);return E.headers={"Content-Type":"application/json; charset=utf-8"},E.body=h,E.errorHandler=LE(t),E}(n.storage,n._location,t,FE());return n.storage.makeRequestWithTokens(e,Sc)}(n=(0,qt.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function vZ(n){return lZ(n=(0,qt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function bZ(n){return function cZ(n){n._throwIfRoot("deleteObject");const t=function zq(n,t){const i=Uh(t.fullServerUrl(),n.host,n._protocol),h=new Xu(i,"DELETE",function u(_,b){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=LE(t),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Sc)}(n=(0,qt.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw fB(t)}}class $B{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(GB(t))throw D0("ref() expected a child path but got a URL, use refFromURL instead.");return new Hh(UB(this._delegate,t),this)}refFromURL(t){if(!GB(t))throw D0("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Wo.makeFromUrl(t,this._delegate.host)}catch{throw D0("refFromUrl() expected a valid full URL but got an invalid one.")}return new Hh(UB(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function HB(n,t,e,i={}){!function fZ(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,qt.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function GB(n){return/^[A-Za-z]+:\/\//.test(n)}function IZ(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new $B(e,i)}function qB(n){const t=function AZ(n){return new On.y(t=>{const e=u=>t.next(u);e(n.snapshot);const s=n.on("state_changed",e);return n.then(u=>{e(u),t.complete()},u=>{e(n.snapshot),(u=>{t.error(u)})(u)}),function(){s()}}).pipe(Nk(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,Ke.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function qA(n){return{getDownloadURL:()=>(0,st.of)(void 0).pipe(Zn.fc,rr(()=>n.getDownloadURL()),Zn.iC),getMetadata:()=>(0,st.of)(void 0).pipe(Zn.fc,rr(()=>n.getMetadata()),Zn.iC),delete:()=>(0,ln.D)(n.delete()),child:t=>qA(n.child(t)),updateMetadata:t=>(0,ln.D)(n.updateMetadata(t)),put:(t,e)=>qB(n.put(t,e)),putString:(t,e,i)=>qB(n.putString(t,e,i)),list:t=>(0,ln.D)(n.list(t)),listAll:()=>(0,ln.D)(n.listAll())}}!function SZ(n){const t={TaskState:vs,TaskEvent:Zq,StringFormat:ba,Storage:$B,Reference:Hh};n.INTERNAL.registerComponent(new jf.wA("storage-compat",IZ,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(pM.Z);const MZ=new o.OlP("angularfire2.storageBucket"),RZ=new o.OlP("angularfire2.storage.maxUploadRetryTime"),kZ=new o.OlP("angularfire2.storage.maxOperationRetryTime"),OZ=new o.OlP("angularfire2.storage.use-emulator");let ZA=(()=>{class n{constructor(e,i,r,s,u,h,_,b,E,S){const O=(0,er.on)(e,u,i);this.storage=(0,er.cc)(`${O.name}.storage.${r}`,"AngularFireStorage",O.name,()=>{const B=u.runOutsideAngular(()=>O.storage(r||void 0)),z=E;return z&&B.useEmulator(...z),_&&B.setMaxUploadRetryTime(_),b&&B.setMaxOperationRetryTime(b),B},[_,b])}ref(e){return qA(this.storage.ref(e))}refFromURL(e){return qA(this.storage.refFromURL(e))}upload(e,i,r){return qA(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(er.Dh),o.LFG(er.xv,8),o.LFG(MZ,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Zn.HU),o.LFG(RZ,8),o.LFG(kZ,8),o.LFG(OZ,8),o.LFG(PS,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),VO=(()=>{class n{constructor(e){this.db=e,this.dbPath="/invoices",this.checkoutRef=e.collection(this.dbPath)}getAll(){return this.checkoutRef}create(e){return this.checkoutRef.add({...e})}update(e,i){return this.checkoutRef.doc(e).update(i)}delete(e){return this.checkoutRef.doc(e).delete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(R_))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YA=(()=>{class n{constructor(e){this.db=e,this.dbPath="/configurations",this.configurationsRef=e.collection(this.dbPath)}getAll(){return this.configurationsRef}create(e){return this.configurationsRef.add({...e})}update(e,i){return this.configurationsRef.doc(e).update(i)}delete(e){return this.configurationsRef.doc(e).delete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(R_))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UO=(()=>{class n{constructor(e){this.db=e,this.dbPath="/cart",this.cartRef=e.collection(this.dbPath)}getAll(){return this.cartRef}create(e){return this.cartRef.add({...e})}update(e,i){return this.cartRef.doc(e).update(i)}delete(e){return this.cartRef.doc(e).delete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(R_))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const PZ=["confirmationDialog"];function NZ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",32)(1,"p"),o._uU(2,"Are you sure you want to delete this item?"),o.qZA(),o.TgZ(3,"button",33),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.cancelDelete())}),o._uU(4,"Cancel"),o.qZA(),o.TgZ(5,"button",34),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.confirmDelete())}),o._uU(6,"Delete"),o.qZA()()}}function FZ(n,t){if(1&n&&(o.TgZ(0,"mat-option",47),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e),o.xp6(1),o.Oqu(e)}}function LZ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"h2",35),o._uU(1,"Add Order"),o.qZA(),o.TgZ(2,"mat-dialog-content")(3,"div",36)(4,"div",37)(5,"mat-form-field",38)(6,"mat-label"),o._uU(7,"Name"),o.qZA(),o.TgZ(8,"input",39),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.name=r)}),o.qZA()(),o.TgZ(9,"div",36)(10,"div",40)(11,"mat-form-field",38)(12,"mat-label"),o._uU(13,"Buy Price"),o.qZA(),o.TgZ(14,"input",41),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.price=r)}),o.qZA()()(),o.TgZ(15,"div",40)(16,"mat-form-field",38)(17,"mat-label"),o._uU(18,"Sell Price \u20ac"),o.qZA(),o.TgZ(19,"input",41),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.sellPrice=r)}),o.qZA()()()(),o.TgZ(20,"mat-form-field",38)(21,"mat-label"),o._uU(22,"Link"),o.qZA(),o.TgZ(23,"input",39),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.link=r)}),o.qZA()()(),o.TgZ(24,"div")(25,"mat-form-field",38)(26,"mat-label"),o._uU(27,"Variant"),o.qZA(),o.TgZ(28,"input",39),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.variant=r)}),o.qZA()(),o.TgZ(29,"mat-form-field",38)(30,"mat-label"),o._uU(31,"Quantity"),o.qZA(),o.TgZ(32,"input",41),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.quantity=r)}),o.qZA()(),o.TgZ(33,"mat-form-field",38)(34,"mat-label"),o._uU(35,"PD Link"),o.qZA(),o.TgZ(36,"input",39),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.pdLink=r)}),o.qZA()()()(),o.TgZ(37,"mat-form-field",38)(38,"mat-label"),o._uU(39,"Barcode"),o.qZA(),o.TgZ(40,"input",39),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.barcode=r)}),o.qZA()(),o.TgZ(41,"mat-form-field",42)(42,"mat-select",43),o.NdJ("valueChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.brand=r)}),o.YNc(43,FZ,2,2,"mat-option",44),o.qZA()(),o.TgZ(44,"mat-form-field",38)(45,"mat-label"),o._uU(46,"Notes"),o.qZA(),o.TgZ(47,"textarea",39),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.notes=r)}),o.qZA()()(),o.TgZ(48,"mat-dialog-actions")(49,"button",45),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onCancel())}),o._uU(50,"Cancel"),o.qZA(),o.TgZ(51,"button",46),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onAdd())}),o._uU(52),o.qZA()()}if(2&n){const e=o.oxw();o.xp6(8),o.Q6J("ngModel",e.orderData.name),o.xp6(6),o.Q6J("ngModel",e.orderData.price),o.xp6(5),o.Q6J("ngModel",e.orderData.sellPrice),o.xp6(4),o.Q6J("ngModel",e.orderData.link),o.xp6(5),o.Q6J("ngModel",e.orderData.variant),o.xp6(4),o.Q6J("ngModel",e.orderData.quantity),o.xp6(4),o.Q6J("ngModel",e.orderData.pdLink),o.xp6(4),o.Q6J("ngModel",e.orderData.barcode),o.xp6(2),o.Q6J("value",e.orderData.brand),o.xp6(1),o.Q6J("ngForOf",e.brands),o.xp6(4),o.Q6J("ngModel",e.orderData.notes),o.xp6(5),o.Oqu(null===e.orderToEditId?"Add":"Edit")}}function BZ(n,t){1&n&&(o.TgZ(0,"th",48),o._uU(1," Image"),o.qZA())}function VZ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",49),o._UZ(1,"img",50),o.TgZ(2,"div")(3,"input",51,52),o.NdJ("change",function(r){const u=o.CHM(e).$implicit,h=o.oxw();return o.KtG(h.uploadFile(r,u))}),o.qZA(),o.TgZ(5,"button",53),o.NdJ("click",function(){o.CHM(e);const r=o.MAs(4);return o.KtG(r.click())}),o._UZ(6,"mat-icon",54),o.qZA()()()}if(2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.Q6J("src",e.image?e.image:i.defaultImage,o.LSH)}}function UZ(n,t){1&n&&(o.TgZ(0,"th",48),o._uU(1," Quantity"),o.qZA())}function HZ(n,t){1&n&&o._UZ(0,"mat-icon",58)}function zZ(n,t){if(1&n&&(o.TgZ(0,"span",59),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit,i=o.oxw();o.xp6(1),o.AsE(" - ",i.invoices[e.barcode]," = ",e.quantity-i.invoices[e.barcode]," ")}}function jZ(n,t){if(1&n&&(o.TgZ(0,"td",55),o.YNc(1,HZ,1,0,"mat-icon",56),o._uU(2),o.YNc(3,zZ,2,2,"span",57),o.qZA()),2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.Q6J("ngIf",e.quantity<=0),o.xp6(1),o.hij(" ",e.quantity," "),o.xp6(1),o.Q6J("ngIf",i.invoices[e.barcode])}}function $Z(n,t){1&n&&(o.TgZ(0,"th",60),o._uU(1," Name"),o.qZA())}function GZ(n,t){if(1&n&&o._UZ(0,"mat-icon",65),2&n){const e=o.oxw().$implicit;o.Q6J("matTooltip",e.notes)}}function qZ(n,t){1&n&&(o.TgZ(0,"span"),o._uU(1,"..."),o.qZA())}function ZZ(n,t){1&n&&o._UZ(0,"mat-icon",66)}function YZ(n,t){if(1&n&&(o.TgZ(0,"td",49)(1,"div"),o.YNc(2,GZ,1,1,"mat-icon",61),o.TgZ(3,"div",62),o._uU(4),o.qZA(),o._uU(5),o.ALo(6,"slice"),o.YNc(7,qZ,2,0,"span",63),o.qZA(),o.TgZ(8,"div")(9,"b")(10,"small"),o.YNc(11,ZZ,1,0,"mat-icon",64),o._uU(12),o.qZA()()()()),2&n){const e=t.$implicit;o.xp6(2),o.Q6J("ngIf",e.notes),o.xp6(2),o.hij(" ",e.brand," "),o.xp6(1),o.hij(" ",o.Dn7(6,6,e.name,0,100)," "),o.xp6(2),o.Q6J("ngIf",e.name.length>=100),o.xp6(4),o.Q6J("ngIf",!e.barcode),o.xp6(1),o.hij(" ",e.barcode,"")}}function WZ(n,t){1&n&&(o.TgZ(0,"th",48),o._uU(1," Variant"),o.qZA())}function KZ(n,t){if(1&n&&(o.TgZ(0,"td",49),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.variant,"")}}function QZ(n,t){1&n&&(o.TgZ(0,"th",67),o._uU(1," Link"),o.qZA())}function JZ(n,t){1&n&&o._UZ(0,"mat-icon",70)}function XZ(n,t){1&n&&(o.TgZ(0,"span"),o._uU(1,"..."),o.qZA())}function e8(n,t){if(1&n&&(o.TgZ(0,"td",49),o.YNc(1,JZ,1,0,"mat-icon",68),o.TgZ(2,"a",69),o._uU(3),o.ALo(4,"slice"),o.YNc(5,XZ,2,0,"span",63),o.qZA()()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngIf",!e.link),o.xp6(1),o.Q6J("href",e.link,o.LSH),o.xp6(1),o.hij("",o.Dn7(4,4,e.link,0,25)," "),o.xp6(2),o.Q6J("ngIf",e.link.length>=25)}}function t8(n,t){1&n&&(o.TgZ(0,"th",67),o._uU(1," PD Link"),o.qZA())}function n8(n,t){1&n&&o._UZ(0,"mat-icon",70)}function i8(n,t){1&n&&(o.TgZ(0,"span"),o._uU(1,"..."),o.qZA())}function r8(n,t){if(1&n&&(o.TgZ(0,"td",49)(1,"a",69),o.YNc(2,n8,1,0,"mat-icon",68),o._uU(3),o.ALo(4,"slice"),o.YNc(5,i8,2,0,"span",63),o.qZA()()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("href",e.pdLink,o.LSH),o.xp6(1),o.Q6J("ngIf",!e.pdLink),o.xp6(1),o.hij(" ",o.Dn7(4,4,e.pdLink,0,25)," "),o.xp6(2),o.Q6J("ngIf",e.pdLink.length>=25)}}function o8(n,t){1&n&&(o.TgZ(0,"th",67),o._uU(1," Price"),o.qZA())}function s8(n,t){1&n&&o._UZ(0,"mat-icon",75)}function a8(n,t){if(1&n&&(o.TgZ(0,"td",49),o.YNc(1,s8,1,0,"mat-icon",71),o.TgZ(2,"div",72),o._uU(3),o.qZA(),o.TgZ(4,"div",73),o._uU(5),o.qZA(),o.TgZ(6,"div",74),o._uU(7),o.ALo(8,"roundUpToFive"),o.qZA()()),2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.Q6J("ngIf",0===e.sellPrice),o.xp6(2),o.hij(" ",e.price," \u20ac "),o.xp6(2),o.hij(" ",e.sellPrice," \u20ac "),o.xp6(2),o.hij(" ",o.lcZ(8,4,e.sellPrice*i.config.conversionPrice)," L.D ")}}function l8(n,t){1&n&&(o.TgZ(0,"th",48),o._uU(1," Notes"),o.qZA())}function c8(n,t){if(1&n&&(o.TgZ(0,"td",49),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.notes,"")}}function u8(n,t){1&n&&(o.TgZ(0,"th",76),o._uU(1," Status"),o.qZA())}function d8(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",49)(1,"mat-form-field",77)(2,"mat-select",78),o.NdJ("valueChange",function(r){const u=o.CHM(e).$implicit,h=o.oxw();return o.KtG(h.changeOrderStatus(r,u))})("valueChange",function(r){const u=o.CHM(e).$implicit;return o.KtG(u.status=r)}),o.TgZ(3,"mat-option",79),o._uU(4,"New"),o.qZA(),o.TgZ(5,"mat-option",80),o._uU(6,"Ordered"),o.qZA(),o.TgZ(7,"mat-option",81),o._uU(8,"Home"),o.qZA(),o.TgZ(9,"mat-option",82),o._uU(10,"Libya"),o.qZA()()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.Q6J("value",e.status)}}function h8(n,t){1&n&&(o.TgZ(0,"th",83),o._uU(1," Actions"),o.qZA())}function f8(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",49)(1,"button",84),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw(),h=o.MAs(5);return o.KtG(u.openEditDialog(h,s))}),o._uU(2," Edit "),o.qZA(),o.TgZ(3,"button",85),o.NdJ("click",function(r){const u=o.CHM(e).$implicit,h=o.oxw();return o.KtG(h.openDeleteConfirmation(r,u))}),o._uU(4," Delete "),o.qZA(),o.TgZ(5,"button",86),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw();return o.KtG(u.addToCart(s))}),o._uU(6," Add "),o._UZ(7,"mat-icon",87),o.qZA()()}if(2&n){const e=t.$implicit,i=o.oxw();o.xp6(5),o.Q6J("disabled",!e.barcode||e.quantity<=0||e.quantity-i.invoices[e.barcode]<=0)}}function p8(n,t){1&n&&o._UZ(0,"tr",88)}function m8(n,t){1&n&&o._UZ(0,"tr",89)}function g8(n,t){if(1&n&&(o.TgZ(0,"tr",90)(1,"td",91),o._uU(2),o.qZA()()),2&n){o.oxw();const e=o.MAs(10);o.xp6(2),o.hij('No data matching the filter "',e.value,'"')}}const ZB=["Anastasia Beverly Hills","Balea","Baylis And Harding","Benefit","Calvin Klein","Carolina Herrera","CHANEL","CHARLOTTE TILBURY","Chlo\xe9","Color WOW","Dior","Dolce & Gabbana","Elie Saab","essence","Eucerin","Eyeliner","Fenty Beauty","Giorgio Armani","Girl Of Now","GIVENCHY","Gucci","Guess","HUDA BEAUTY","Jean Paul Gaultier","Jimmy Choo","Kiehl's","Kiko","KVD","Lanc\xf4me","LAURA MERCIER","Lipstick","L\u2019Occitane","MAC","MIELLE ORGANICS","MORPHE","Morphe","Narciso Rodriguez","NARS","NYX","Paco Rabanne","PAULA'S CHOICE","Perfume","Pixi","Prada","RARE BEAUTY","Real Techniques","Revolution","Shein","Sephora","Sheglam","SOL DE JANEIRO","The Ordinary","Too Faced","Urban Decay","Valentino","VICTORIA'S SECRET","Versace Bright Crystal","Yves Saint Laurent"];let _8=(()=>{class n{constructor(e,i,r,s,u,h,_,b,E){this.productService=e,this.dialog=i,this.shipmentService=r,this.storage=s,this.viewContainerRef=u,this.overlay=h,this.invoiceService=_,this.configService=b,this.cartService=E,this._snackBar=(0,o.f3M)(EO),this.displayedColumns=["image","name","variant","quantity","price","link","pdLink","actions"],this.brands=ZB,this.orderData={name:"",price:0,sellPrice:0,brand:"",quantity:1,link:"",pdLink:"",barcode:"",variant:"",notes:"",image:"",status:"draft",createdTime:""},this.overlayRef=null,this.orderToDelete=null,this.orderToEditId=null,this.defaultImage="https://firebasestorage.googleapis.com/v0/b/pixie-dus.firebasestorage.app/o/uploads%2F2024-11-03_19-07.png?alt=media&token=da907319-c356-41a7-8ddc-816e2db35313",this.moveTo={quantity:1,orderId:"",target:"",maxQuantity:1},this.shipments=[],this.config={conversionPrice:0},this.cart=[],this.totalBuyPrice=0,this.totalSellPrice=0,this.invoices={},this.retrieveInvoices(),this.retrieveOrders(),this.retrieveconfigurations(),this.retrieveCart()}retrieveInvoices(){this.invoiceService.getAll().snapshotChanges().pipe((0,Ke.U)(e=>e.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()})))).subscribe(e=>{e.forEach(i=>{i.orders.forEach(r=>{this.invoices[r.barcode]=this.invoices[r.barcode]?this.invoices[r.barcode]+1:1})})})}retrieveCart(){this.cartService.getAll().snapshotChanges().pipe((0,Ke.U)(e=>e.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()})))).subscribe(e=>{this.cart=e})}retrieveconfigurations(){this.configService.getAll().snapshotChanges().pipe((0,Ke.U)(e=>e.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()})))).subscribe(e=>{this.config=e[0]})}uploadFile(e,i){const r=e.target.files[0],s=`uploads/${r.name}`,u=this.storage.ref(s);this.storage.upload(s,r).snapshotChanges().pipe(kh(()=>{u.getDownloadURL().subscribe(_=>{i.image=_,this.orderData=i,this.orderToEditId=i.id,this.editOrder()})})).subscribe()}addToCart(e){this.cartService.create(e).then(()=>{this.dialog.closeAll()})}openDeleteConfirmation(e,i){this.overlayRef&&this.overlayRef.dispose(),this.orderToDelete=i;const r=this.overlay.position().flexibleConnectedTo({x:e.clientX,y:e.clientY}).withPositions([{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-10}]);this.overlayRef=this.overlay.create({hasBackdrop:!0,backdropClass:"cdk-overlay-dark-backdrop",positionStrategy:r});const s=new Ic(this.confirmationDialog,this.viewContainerRef);this.overlayRef.attach(s),this.overlayRef.backdropClick().subscribe(()=>this.overlayRef?.dispose())}confirmDelete(){null!==this.orderToDelete&&this.productService.delete(this.orderToDelete.id).then(()=>{this.overlayRef?.dispose()})}cancelDelete(){this.overlayRef?.dispose()}openDialog(e){this.dialog.open(e,{width:"50rem",data:{...this.orderData}}).afterClosed().subscribe(r=>{r&&console.log("Order data:",r)})}editOrder(){null!==this.orderToEditId&&this.productService.update(this.orderToEditId,this.orderData).then(()=>{this.orderToEditId=null,this.dialog.closeAll()})}onAdd(){null===this.orderToEditId?(this.orderData.createdTime=(new Date).toString(),this.productService.create(this.orderData).then(()=>{this.dialog.closeAll()})):this.editOrder(),this.orderData={name:"",price:0,sellPrice:0,quantity:1,link:"",brand:"",barcode:"",pdLink:"",variant:"",notes:"",image:"",status:"new",createdTime:""}}onCancel(){this.dialog.closeAll()}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}retrieveOrders(){this.productService.getAll().snapshotChanges().pipe((0,Ke.U)(e=>e.map(i=>({...i.payload.doc.data(),id:i.payload.doc.id})))).subscribe(e=>{if(void 0!==this.docsIds){let i=this.docsIds.map(r=>r.orderId);e=e.filter(r=>-1!==i.findIndex(s=>s===r.id)),this.docsIds.forEach(r=>{const s=e.find(u=>u.id===r.orderId);s&&(s.quantity=r.quantity)})}this.totalBuyPrice=0,this.totalSellPrice=0,e.forEach(i=>{this.totalBuyPrice+=(isNaN(i.quantity)?0:i.quantity)*(isNaN(i.price)?0:i.price),this.totalSellPrice+=(isNaN(i.quantity)?0:i.quantity)*(isNaN(i.sellPrice)?0:i.sellPrice)}),this.totalBuyPrice=parseFloat(this.totalBuyPrice.toFixed(2)),this.totalSellPrice=parseFloat(this.totalSellPrice.toFixed(2)),e.sort((i,r)=>i.name.localeCompare(r.name)),this.dataSource=new b0(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.validateProductsBarcodeCollisions(e)})}validateProductsBarcodeCollisions(e){let i="The following barcodes are duplicated: ";const r=new Map;e.forEach(s=>{""!==s.barcode&&(r.has(s.barcode)?i+=`${s.barcode}, `:r.set(s.barcode,1))}),"The following barcodes are duplicated: "!==i&&this._snackBar.open(i,"Close!")}openEditDialog(e,i){this.orderToEditId=i.id,this.orderData={...i},this.openDialog(e)}openMoveToDialog(e,i){this.retrieveShipments(),this.moveTo.maxQuantity=i.quantity,this.moveTo.orderId=i.id,this.orderData=i,this.orderToEditId=i.id,this.openDialog(e)}retrieveShipments(){this.shipmentService.getAll().snapshotChanges().pipe((0,Ke.U)(e=>e.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()})))).subscribe(e=>{this.shipments=e})}changeOrderBrand(e,i){this.orderData=i,this.orderData.brand=e,this.orderToEditId=i.id,this.onAdd()}changeOrderStatus(e,i){this.orderData=i,this.orderData.status=e,this.orderToEditId=i.id,this.onAdd()}moveTheOrderToShipment(){const e=this.shipments.find(r=>r.id===this.moveTo.target);if(!e)return;const i=e.orders?.findIndex(r=>r.orderId===this.moveTo.orderId);void 0!==i&&i>=0?e.orders[i].quantity+=this.moveTo.quantity:(e.orders=e.orders||[],e.orders.push({orderId:this.moveTo.orderId,quantity:this.moveTo.quantity})),this.orderData.quantity-=this.moveTo.quantity,this.updateShipment(e.id,e),this.editOrder()}updateShipment(e,i){this.shipmentService.update(e,i).then(()=>{console.log("done")})}ngOnChanges(e){"docsIds"in e&&this.retrieveOrders()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(DO),o.Y36($_),o.Y36(TO),o.Y36(ZA),o.Y36(o.s_b),o.Y36(Ro),o.Y36(VO),o.Y36(YA),o.Y36(UO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-products"]],viewQuery:function(e,i){if(1&e&&(o.Gf(lm,5),o.Gf(Ku,5),o.Gf(PZ,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.paginator=r.first),o.iGM(r=o.CRH())&&(i.sort=r.first),o.iGM(r=o.CRH())&&(i.confirmationDialog=r.first)}},inputs:{docsIds:"docsIds"},standalone:!0,features:[o.TTD,o.jDz],decls:55,vars:6,consts:[["mat-raised-button","","color","primary",1,"mb-2",3,"click"],["confirmationDialog",""],["dialogTemplate",""],["matInput","","placeholder","Ex. perfume",3,"keyup"],["input",""],[2,"font-size","large","color","white"],[1,"mr-5",2,"font-size","large","float","right","color","#82ff75"],[1,"mr-5",2,"font-size","large","float","right","color","#758bff"],[1,"mr-5",2,"font-size","large","float","right","color","#f44336"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","image"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","quantity"],["mat-cell","","style","font-size: large;",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","style","width: 15rem","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","variant"],["matColumnDef","link"],["mat-header-cell","","style","width: 10rem","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","pdLink"],["matColumnDef","price"],["mat-header-cell","","mat-sort-header","","style","width: 10rem",4,"matHeaderCellDef"],["matColumnDef","notes"],["matColumnDef","status"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-cell","","mat-sort-header","","style","width: 17rem",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"confirmation-container"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"],["mat-dialog-title",""],[1,"d-flex"],[1,"mr-2"],["appearance","fill"],["matInput","",3,"ngModel","ngModelChange"],[1,"mr-2",2,"width","10rem"],["matInput","","type","number",3,"ngModel","ngModelChange"],["appearance","outline",1,"status-dropdown"],["placeholder","Select brand...",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["mat-button","",3,"click"],["mat-button","","color","primary",3,"click"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"image-preview",3,"src"],["hidden","true","type","file","onclick","this.value=null","accept",".png, .JPEG",3,"change"],["csvInput",""],["mat-flat-button","","color","primary",1,"upload-button",3,"click"],["matTooltip","No more quantity left","aria-hidden","false","aria-label","Example home icon","fontIcon","upload"],["mat-cell","",2,"font-size","large"],["matTooltip","No more quantity left","style","color: #f44336;","aria-hidden","false","aria-label","Example home icon","fontIcon","warning",4,"ngIf"],["style","color: #f44336;",4,"ngIf"],["matTooltip","No more quantity left","aria-hidden","false","aria-label","Example home icon","fontIcon","warning",2,"color","#f44336"],[2,"color","#f44336"],["mat-header-cell","","mat-sort-header","",2,"width","15rem"],["aria-hidden","false","aria-label","Example home icon","fontIcon","info",3,"matTooltip",4,"ngIf"],[2,"font-size","large"],[4,"ngIf"],["matTooltip","Invalid barcode","style","color: #f44336;","aria-hidden","false","aria-label","Example home icon","fontIcon","warning",4,"ngIf"],["aria-hidden","false","aria-label","Example home icon","fontIcon","info",3,"matTooltip"],["matTooltip","Invalid barcode","aria-hidden","false","aria-label","Example home icon","fontIcon","warning",2,"color","#f44336"],["mat-header-cell","","mat-sort-header","",2,"width","10rem"],["matTooltip","No link is provided","style","color: #f44336;","aria-hidden","false","aria-label","Example home icon","fontIcon","warning",4,"ngIf"],["target","_blank",3,"href"],["matTooltip","No link is provided","aria-hidden","false","aria-label","Example home icon","fontIcon","warning",2,"color","#f44336"],["matTooltip","No sell price","style","color: #f44336;","aria-hidden","false","aria-label","Example home icon","fontIcon","warning",4,"ngIf"],[1,"mr-2",2,"font-size","large","color","#f44336"],[1,"mr-2",2,"font-size","large","color","#82ff75"],[2,"font-size","large","color","#758bff"],["matTooltip","No sell price","aria-hidden","false","aria-label","Example home icon","fontIcon","warning",2,"color","#f44336"],["mat-header-cell",""],["appearance","outline",1,"status-dropdown",2,"width","9rem"],[3,"value","valueChange"],["value","new"],["value","ordered"],["value","home"],["value","libya"],["mat-header-cell","","mat-sort-header","",2,"width","17rem"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",1,"ml-1",3,"click"],["mat-raised-button","","color","accent",1,"ml-1",3,"disabled","click"],["aria-hidden","false","aria-label","Example home icon","fontIcon","shopping_cart"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(r);const u=o.MAs(5);return o.KtG(i.openDialog(u))}),o._uU(1,"New Product"),o.qZA(),o.YNc(2,NZ,7,0,"ng-template",null,1,o.W1O),o.YNc(4,LZ,53,12,"ng-template",null,2,o.W1O),o.TgZ(6,"mat-form-field")(7,"mat-label"),o._uU(8,"Filter"),o.qZA(),o.TgZ(9,"input",3,4),o.NdJ("keyup",function(u){return i.applyFilter(u)}),o.qZA()(),o.TgZ(11,"mat-card")(12,"mat-card-content")(13,"div",5)(14,"span",6),o._uU(15),o.qZA(),o.TgZ(16,"span",7),o._uU(17),o.qZA(),o.TgZ(18,"span",8),o._uU(19),o.qZA()()()(),o.TgZ(20,"div",9)(21,"table",10),o.ynx(22,11),o.YNc(23,BZ,2,0,"th",12),o.YNc(24,VZ,7,1,"td",13),o.BQk(),o.ynx(25,14),o.YNc(26,UZ,2,0,"th",12),o.YNc(27,jZ,4,3,"td",15),o.BQk(),o.ynx(28,16),o.YNc(29,$Z,2,0,"th",17),o.YNc(30,YZ,13,10,"td",13),o.BQk(),o.ynx(31,18),o.YNc(32,WZ,2,0,"th",12),o.YNc(33,KZ,2,1,"td",13),o.BQk(),o.ynx(34,19),o.YNc(35,QZ,2,0,"th",20),o.YNc(36,e8,6,8,"td",13),o.BQk(),o.ynx(37,21),o.YNc(38,t8,2,0,"th",20),o.YNc(39,r8,6,8,"td",13),o.BQk(),o.ynx(40,22),o.YNc(41,o8,2,0,"th",23),o.YNc(42,a8,9,6,"td",13),o.BQk(),o.ynx(43,24),o.YNc(44,l8,2,0,"th",12),o.YNc(45,c8,2,1,"td",13),o.BQk(),o.ynx(46,25),o.YNc(47,u8,2,0,"th",26),o.YNc(48,d8,11,1,"td",13),o.BQk(),o.ynx(49,27),o.YNc(50,h8,2,0,"th",28),o.YNc(51,f8,8,1,"td",13),o.BQk(),o.YNc(52,p8,1,0,"tr",29),o.YNc(53,m8,1,0,"tr",30),o.YNc(54,g8,3,1,"tr",31),o.qZA()()}2&e&&(o.xp6(15),o.hij("Gain: ",i.totalSellPrice-i.totalBuyPrice," \u20ac"),o.xp6(2),o.hij("Tot. Sell Price: ",i.totalSellPrice," \u20ac"),o.xp6(2),o.hij("Tot. Buy Price: ",i.totalBuyPrice," \u20ac"),o.xp6(2),o.Q6J("dataSource",i.dataSource),o.xp6(31),o.Q6J("matHeaderRowDef",i.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[w2,b2,CO,LA,BA,Oi,OE,Lh,j_,z_,C0,w0,EE,yE,g0,vE,_0,m0,bE,y0,v0,wE,CE,xE,mE,Ku,yA,pE,am,U_,SE,DE,TE,IE,aa,Br,Qa,bo,Ka,kE,wO,ho,u0,c0,V_,Zs],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.upload-button[_ngcontent-%COMP%]{bottom:1rem}.image-preview[_ngcontent-%COMP%]{width:30vh;background-color:#fff;height:10rem;object-fit:contain}.mat-icon[_ngcontent-%COMP%]{margin-right:0!important}.confirmation-container[_ngcontent-%COMP%]{padding:20px;background:white;text-align:center;border-radius:8px;box-shadow:0 4px 8px #0003}.confirmation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 16px}"]}),n})(),y8=0;const HO=new o.OlP("CdkAccordion");let v8=(()=>{class n{constructor(){this._stateChanges=new Rt.x,this._openCloseAllActions=new Rt.x,this.id="cdk-accordion-"+y8++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=mn(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[o._Bn([{provide:HO,useExisting:n}]),o.TTD]}),n})(),b8=0,w8=(()=>{class n{get expanded(){return this._expanded}set expanded(e){e=mn(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=mn(e)}constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=Hs.w0.EMPTY,this.closed=new o.vpe,this.opened=new o.vpe,this.destroyed=new o.vpe,this.expandedChange=new o.vpe,this.id="cdk-accordion-child-"+b8++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((s,u)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===u&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(HO,12),o.Y36(o.sBO),o.Y36(p2))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[o._Bn([{provide:HO,useValue:void 0}])]}),n})(),C8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const x8=["body"];function E8(n,t){}const D8=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],T8=["mat-expansion-panel-header","*","mat-action-row"];function I8(n,t){if(1&n&&o._UZ(0,"span",2),2&n){const e=o.oxw();o.Q6J("@indicatorRotate",e._getExpandedState())}}const S8=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],A8=["mat-panel-title","mat-panel-description","*"],zO=new o.OlP("MAT_ACCORDION"),YB="225ms cubic-bezier(0.4,0.0,0.2,1)",WB={indicatorRotate:zs("indicatorRotate",[Si("collapsed, void",sn({transform:"rotate(0deg)"})),Si("expanded",sn({transform:"rotate(180deg)"})),sr("expanded <=> collapsed, void => collapsed",Sr(YB))]),bodyExpansion:zs("bodyExpansion",[Si("collapsed, void",sn({height:"0px",visibility:"hidden"})),Si("expanded",sn({height:"*",visibility:""})),sr("expanded <=> collapsed, void => collapsed",Sr(YB))])},KB=new o.OlP("MAT_EXPANSION_PANEL");let M8=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(KB,8))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),R8=0;const QB=new o.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let JB=(()=>{class n extends w8{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=mn(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}constructor(e,i,r,s,u,h,_){super(e,i,r),this._viewContainerRef=s,this._animationMode=h,this._hideToggle=!1,this.afterExpand=new o.vpe,this.afterCollapse=new o.vpe,this._inputChanges=new Rt.x,this._headerId="mat-expansion-panel-header-"+R8++,this._bodyAnimationDone=new Rt.x,this.accordion=e,this._document=u,this._bodyAnimationDone.pipe((0,lc.x)((b,E)=>b.fromState===E.fromState&&b.toState===E.toState)).subscribe(b=>{"void"!==b.fromState&&("expanded"===b.toState?this.afterExpand.emit():"collapsed"===b.toState&&this.afterCollapse.emit())}),_&&(this.hideToggle=_.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Ns(null),Vn(()=>this.expanded&&!this._portal),Tr(1)).subscribe(()=>{this._portal=new Ic(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(zO,12),o.Y36(o.sBO),o.Y36(p2),o.Y36(o.s_b),o.Y36(ne),o.Y36(o.QbO,8),o.Y36(QB,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,M8,5),2&e){let s;o.iGM(s=o.CRH())&&(i._lazyContent=s.first)}},viewQuery:function(e,i){if(1&e&&o.Gf(x8,5),2&e){let r;o.iGM(r=o.CRH())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&o.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[o._Bn([{provide:zO,useValue:void 0},{provide:KB,useExisting:n}]),o.qOj,o.TTD],ngContentSelectors:T8,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(o.F$t(D8),o.Hsn(0),o.TgZ(1,"div",0,1),o.NdJ("@bodyExpansion.done",function(s){return i._bodyAnimationDone.next(s)}),o.TgZ(3,"div",2),o.Hsn(4,1),o.YNc(5,E8,0,0,"ng-template",3),o.qZA(),o.Hsn(6,2),o.qZA()),2&e&&(o.xp6(1),o.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),o.uIk("aria-labelledby",i._headerId),o.xp6(4),o.Q6J("cdkPortalOutlet",i._portal))},dependencies:[a0],styles:['.mat-expansion-panel{--mat-expansion-container-shape:4px;box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[WB.bodyExpansion]},changeDetection:0}),n})();class k8{}const O8=gL(k8);let XB=(()=>{class n extends O8{constructor(e,i,r,s,u,h,_){super(),this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=s,this._animationMode=h,this._parentChangeSubscription=Hs.w0.EMPTY;const b=e.accordion?e.accordion._stateChanges.pipe(Vn(E=>!(!E.hideToggle&&!E.togglePosition))):qu.E;this.tabIndex=parseInt(_||"")||0,this._parentChangeSubscription=(0,Dc.T)(e.opened,e.closed,b,e._inputChanges.pipe(Vn(E=>!!(E.hideToggle||E.disabled||E.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(Vn(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),u&&(this.expandedHeight=u.expandedHeight,this.collapsedHeight=u.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Nh(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(JB,1),o.Y36(o.SBq),o.Y36(B_),o.Y36(o.sBO),o.Y36(QB,8),o.Y36(o.QbO,8),o.$8M("tabindex"))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._toggle()})("keydown",function(s){return i._keydown(s)}),2&e&&(o.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),o.Udp("height",i._getHeaderHeight()),o.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[o.qOj],ngContentSelectors:A8,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(o.F$t(S8),o.TgZ(0,"span",0),o.Hsn(1),o.Hsn(2,1),o.Hsn(3,2),o.qZA(),o.YNc(4,I8,1,1,"span",1)),2&e&&(o.ekj("mat-content-hide-toggle",!i._showToggle()),o.xp6(4),o.Q6J("ngIf",i._showToggle()))},dependencies:[Oi],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[WB.indicatorRotate]},changeDetection:0}),n})(),P8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),n})(),N8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),F8=(()=>{class n extends v8{constructor(){super(...arguments),this._ownHeaders=new o.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=mn(e)}ngAfterContentInit(){this._headers.changes.pipe(Ns(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new _6(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,XB,5),2&e){let s;o.iGM(s=o.CRH())&&(i._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[o._Bn([{provide:zO,useExisting:n}]),o.qOj]}),n})(),L8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Xn,Qn,C8,l0]}),n})(),B8=(()=>{class n{constructor(e){this.db=e,this.dbPath="/orders",this.tutorialsRef=e.collection(this.dbPath)}getAll(){return this.tutorialsRef}create(e){return this.tutorialsRef.add({...e})}update(e,i){return this.tutorialsRef.doc(e).update(i)}delete(e){return this.tutorialsRef.doc(e).delete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(R_))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const V8=["confirmationDialog"];function U8(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",30)(1,"p"),o._uU(2,"Are you sure you want to delete this item?"),o.qZA(),o.TgZ(3,"button",31),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.cancelDelete())}),o._uU(4,"Cancel"),o.qZA(),o.TgZ(5,"button",32),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.confirmDelete())}),o._uU(6,"Delete"),o.qZA()()}}function H8(n,t){if(1&n&&(o.TgZ(0,"mat-option",41),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.s9C("value",e.id),o.xp6(1),o.AsE("Internal ID: ",e.internalId," | Aramix ID: ",e.aramixId," ")}}function z8(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"h2",33),o._uU(1,"Move Order"),o.qZA(),o.TgZ(2,"mat-dialog-content")(3,"mat-form-field",34)(4,"mat-label"),o._uU(5,"Quantity"),o.qZA(),o.TgZ(6,"input",35),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.moveTo.quantity=r)}),o.qZA()(),o.TgZ(7,"mat-form-field",34)(8,"mat-label"),o._uU(9,"Target"),o.qZA(),o.TgZ(10,"mat-select",36),o.NdJ("valueChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.moveTo.target=r)}),o.TgZ(11,"mat-option",37),o._uU(12," All products "),o.qZA(),o.YNc(13,H8,2,3,"mat-option",38),o.qZA()()(),o.TgZ(14,"mat-dialog-actions")(15,"button",39),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onCancel())}),o._uU(16,"Cancel"),o.qZA(),o.TgZ(17,"button",40),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.moveTheOrderToShipment())}),o._uU(18,"Move"),o.qZA()()}if(2&n){const e=o.oxw();o.xp6(6),o.s9C("max",e.moveTo.maxQuantity),o.Q6J("ngModel",e.moveTo.quantity),o.xp6(4),o.Q6J("value",e.moveTo.target),o.xp6(3),o.Q6J("ngForOf",e.shipments)}}function j8(n,t){if(1&n&&(o.TgZ(0,"mat-option",41),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e),o.xp6(1),o.Oqu(e)}}function $8(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"h2",33),o._uU(1,"Add Order"),o.qZA(),o.TgZ(2,"mat-dialog-content")(3,"div",42)(4,"div",43)(5,"mat-form-field",34)(6,"mat-label"),o._uU(7,"Name"),o.qZA(),o.TgZ(8,"input",44),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.name=r)}),o.qZA()(),o.TgZ(9,"div",42)(10,"div",45)(11,"mat-form-field",34)(12,"mat-label"),o._uU(13,"Buy Price"),o.qZA(),o.TgZ(14,"input",46),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.price=r)}),o.qZA()()(),o.TgZ(15,"div",45)(16,"mat-form-field",34)(17,"mat-label"),o._uU(18,"Sell Price \u20ac"),o.qZA(),o.TgZ(19,"input",46),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.sellPrice=r)}),o.qZA()()()(),o.TgZ(20,"mat-form-field",34)(21,"mat-label"),o._uU(22,"Link"),o.qZA(),o.TgZ(23,"input",44),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.link=r)}),o.qZA()()(),o.TgZ(24,"div")(25,"mat-form-field",34)(26,"mat-label"),o._uU(27,"Variant"),o.qZA(),o.TgZ(28,"input",44),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.variant=r)}),o.qZA()(),o.TgZ(29,"mat-form-field",34)(30,"mat-label"),o._uU(31,"Quantity"),o.qZA(),o.TgZ(32,"input",46),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.quantity=r)}),o.qZA()(),o.TgZ(33,"mat-form-field",34)(34,"mat-label"),o._uU(35,"PD Link"),o.qZA(),o.TgZ(36,"input",44),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.pdLink=r)}),o.qZA()()()(),o.TgZ(37,"mat-form-field",34)(38,"mat-label"),o._uU(39,"Barcode"),o.qZA(),o.TgZ(40,"input",44),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.barcode=r)}),o.qZA()(),o.TgZ(41,"mat-form-field",47)(42,"mat-select",48),o.NdJ("valueChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.brand=r)}),o.YNc(43,j8,2,2,"mat-option",38),o.qZA()(),o.TgZ(44,"mat-form-field",34)(45,"mat-label"),o._uU(46,"Notes"),o.qZA(),o.TgZ(47,"textarea",44),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.notes=r)}),o.qZA()()(),o.TgZ(48,"mat-dialog-actions")(49,"button",39),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onCancel())}),o._uU(50,"Cancel"),o.qZA(),o.TgZ(51,"button",40),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onAdd())}),o._uU(52),o.qZA()()}if(2&n){const e=o.oxw();o.xp6(8),o.Q6J("ngModel",e.orderData.name),o.xp6(6),o.Q6J("ngModel",e.orderData.price),o.xp6(5),o.Q6J("ngModel",e.orderData.sellPrice),o.xp6(4),o.Q6J("ngModel",e.orderData.link),o.xp6(5),o.Q6J("ngModel",e.orderData.variant),o.xp6(4),o.Q6J("ngModel",e.orderData.quantity),o.xp6(4),o.Q6J("ngModel",e.orderData.pdLink),o.xp6(4),o.Q6J("ngModel",e.orderData.barcode),o.xp6(2),o.Q6J("value",e.orderData.brand),o.xp6(1),o.Q6J("ngForOf",e.brands),o.xp6(4),o.Q6J("ngModel",e.orderData.notes),o.xp6(5),o.Oqu(null===e.orderToEditId?"Add":"Edit")}}function G8(n,t){1&n&&(o.TgZ(0,"th",49),o._uU(1," Image"),o.qZA())}function q8(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",50),o._UZ(1,"img",51),o.TgZ(2,"div")(3,"input",52,53),o.NdJ("change",function(r){const u=o.CHM(e).$implicit,h=o.oxw();return o.KtG(h.uploadFile(r,u))}),o.qZA(),o.TgZ(5,"button",54),o.NdJ("click",function(){o.CHM(e);const r=o.MAs(4);return o.KtG(r.click())}),o._UZ(6,"mat-icon",55),o.qZA()()()}if(2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.Q6J("src",e.image?e.image:i.defaultImage,o.LSH)}}function Z8(n,t){1&n&&(o.TgZ(0,"th",49),o._uU(1," Quantity"),o.qZA())}function Y8(n,t){if(1&n&&(o.TgZ(0,"td",56),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.quantity,"")}}function W8(n,t){1&n&&(o.TgZ(0,"th",57),o._uU(1," Name"),o.qZA())}function K8(n,t){1&n&&(o.TgZ(0,"span"),o._uU(1,"..."),o.qZA())}function Q8(n,t){if(1&n&&(o.TgZ(0,"td",50)(1,"div",58),o._uU(2),o.qZA(),o.TgZ(3,"div"),o._uU(4),o.ALo(5,"slice"),o.YNc(6,K8,2,0,"span",59),o.qZA(),o.TgZ(7,"div")(8,"b")(9,"small"),o._uU(10),o.qZA()()()()),2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e.brand," "),o.xp6(2),o.hij("",o.Dn7(5,4,e.name,0,100)," "),o.xp6(2),o.Q6J("ngIf",e.name.length>=100),o.xp6(4),o.Oqu(e.barcode)}}function J8(n,t){1&n&&(o.TgZ(0,"th",49),o._uU(1," Variant"),o.qZA())}function X8(n,t){if(1&n&&(o.TgZ(0,"td",50),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.variant,"")}}function e7(n,t){1&n&&(o.TgZ(0,"th",60),o._uU(1," Link"),o.qZA())}function t7(n,t){if(1&n&&(o.TgZ(0,"td",50)(1,"a",61),o._uU(2),o.ALo(3,"slice"),o.qZA()()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("href",e.link,o.LSH),o.xp6(1),o.hij("",o.Dn7(3,2,e.link,0,25),"...")}}function n7(n,t){1&n&&(o.TgZ(0,"th",60),o._uU(1," PD Link"),o.qZA())}function i7(n,t){if(1&n&&(o.TgZ(0,"td",50)(1,"a",61),o._uU(2),o.ALo(3,"slice"),o.qZA()()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("href",e.pdLink,o.LSH),o.xp6(1),o.hij("",o.Dn7(3,2,e.pdLink,0,25),"...")}}function r7(n,t){1&n&&(o.TgZ(0,"th",60),o._uU(1," Price"),o.qZA())}function o7(n,t){if(1&n&&(o.TgZ(0,"td",56)(1,"span",62),o._uU(2),o.qZA(),o.TgZ(3,"span",63),o._uU(4),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e.price," \u20ac "),o.xp6(2),o.hij(" ",e.sellPrice," \u20ac ")}}function s7(n,t){1&n&&(o.TgZ(0,"th",49),o._uU(1," Notes"),o.qZA())}function a7(n,t){if(1&n&&(o.TgZ(0,"td",50),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.notes,"")}}function l7(n,t){1&n&&(o.TgZ(0,"th",64),o._uU(1," Status"),o.qZA())}function c7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",50)(1,"mat-form-field",65)(2,"mat-select",36),o.NdJ("valueChange",function(r){const u=o.CHM(e).$implicit,h=o.oxw();return o.KtG(h.changeOrderStatus(r,u))})("valueChange",function(r){const u=o.CHM(e).$implicit;return o.KtG(u.status=r)}),o.TgZ(3,"mat-option",66),o._uU(4,"New"),o.qZA(),o.TgZ(5,"mat-option",67),o._uU(6,"Ordered"),o.qZA(),o.TgZ(7,"mat-option",68),o._uU(8,"Home"),o.qZA(),o.TgZ(9,"mat-option",69),o._uU(10,"Libya"),o.qZA()()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.Q6J("value",e.status)}}function u7(n,t){1&n&&(o.TgZ(0,"th",70),o._uU(1," Actions"),o.qZA())}function d7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",50)(1,"button",71),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw(),h=o.MAs(7);return o.KtG(u.openEditDialog(h,s))}),o._uU(2," Edit "),o.qZA(),o.TgZ(3,"button",72),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw(),h=o.MAs(5);return o.KtG(u.openMoveToDialog(h,s))}),o._uU(4," Move "),o.qZA(),o.TgZ(5,"button",73),o.NdJ("click",function(r){const u=o.CHM(e).$implicit,h=o.oxw();return o.KtG(h.openDeleteConfirmation(r,u))}),o._uU(6," Delete "),o.qZA()()}}function h7(n,t){1&n&&o._UZ(0,"tr",74)}function f7(n,t){1&n&&o._UZ(0,"tr",75)}function p7(n,t){if(1&n&&(o.TgZ(0,"tr",76)(1,"td",77),o._uU(2),o.qZA()()),2&n){o.oxw();const e=o.MAs(12);o.xp6(2),o.hij('No data matching the filter "',e.value,'"')}}const m7=function(){return[25,100]};let eV=(()=>{class n{constructor(e,i,r,s,u,h,_){this.tutorialService=e,this.productService=i,this.dialog=r,this.shipmentService=s,this.storage=u,this.viewContainerRef=h,this.overlay=_,this.displayedColumns=["image","name","variant","quantity","price","link","pdLink","notes","status","actions"],this.orderData={name:"",price:0,sellPrice:0,brand:"",quantity:1,link:"",barcode:"",pdLink:"",variant:"",notes:"",image:"",status:"new",createdTime:""},this.overlayRef=null,this.orderToDelete=null,this.orderToEditId=null,this.defaultImage="https://firebasestorage.googleapis.com/v0/b/pixie-dus.firebasestorage.app/o/uploads%2F2024-11-03_19-07.png?alt=media&token=da907319-c356-41a7-8ddc-816e2db35313",this.moveTo={quantity:1,orderId:"",target:"",maxQuantity:1},this.shipments=[],this.brands=ZB,this.retrieveOrders()}uploadFile(e,i){const r=e.target.files[0],s=`uploads/${r.name}`,u=this.storage.ref(s);this.storage.upload(s,r).snapshotChanges().pipe(kh(()=>{u.getDownloadURL().subscribe(_=>{i.image=_,this.orderData=i,this.orderToEditId=i.id,this.editOrder()})})).subscribe()}openDeleteConfirmation(e,i){this.overlayRef&&this.overlayRef.dispose(),this.orderToDelete=i;const r=this.overlay.position().flexibleConnectedTo({x:e.clientX,y:e.clientY}).withPositions([{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-10}]);this.overlayRef=this.overlay.create({hasBackdrop:!0,backdropClass:"cdk-overlay-dark-backdrop",positionStrategy:r});const s=new Ic(this.confirmationDialog,this.viewContainerRef);this.overlayRef.attach(s),this.overlayRef.backdropClick().subscribe(()=>this.overlayRef?.dispose())}confirmDelete(){null!==this.orderToDelete&&this.tutorialService.delete(this.orderToDelete.id).then(()=>{this.overlayRef?.dispose()})}cancelDelete(){this.overlayRef?.dispose()}openDialog(e){this.dialog.open(e,{width:"50rem",data:{...this.orderData}}).afterClosed().subscribe(r=>{r&&console.log("Order data:",r)})}editOrder(){null!==this.orderToEditId&&this.tutorialService.update(this.orderToEditId,this.orderData).then(()=>{this.orderToEditId=null,this.dialog.closeAll()})}onAdd(){null===this.orderToEditId?(this.orderData.createdTime=(new Date).toString(),this.tutorialService.create(this.orderData).then(()=>{this.dialog.closeAll()})):this.editOrder(),this.orderData={name:"",price:0,brand:"",sellPrice:0,quantity:1,link:"",pdLink:"",barcode:"",variant:"",notes:"",image:"",status:"new",createdTime:""}}onCancel(){this.dialog.closeAll()}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}retrieveOrders(){this.tutorialService.getAll().snapshotChanges().pipe((0,Ke.U)(e=>e.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()})))).subscribe(e=>{if(void 0!==this.docsIds){let i=this.docsIds.map(r=>r.orderId);e=e.filter(r=>-1!==i.findIndex(s=>s===r.id)),this.docsIds.forEach(r=>{const s=e.find(u=>u.id===r.orderId);s&&(s.quantity=r.quantity)})}this.dataSource=new b0(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}openEditDialog(e,i){this.orderToEditId=i.id,this.orderData={...i},this.openDialog(e)}openMoveToDialog(e,i){this.retrieveShipments(),this.moveTo.maxQuantity=i.quantity,this.moveTo.orderId=i.id,this.orderData=i,this.orderToEditId=i.id,this.openDialog(e)}retrieveShipments(){this.shipmentService.getAll().snapshotChanges().pipe((0,Ke.U)(e=>e.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()})))).subscribe(e=>{this.shipments=e})}changeOrderStatus(e,i){this.orderData=i,this.orderData.status=e,this.orderToEditId=i.id,this.onAdd()}moveToAllProducts(){const e=this.dataSource.data.find(i=>i.id===this.moveTo.orderId);this.productService.create(e)}moveTheOrderToShipment(){if("All products"===this.moveTo.target)return this.moveToAllProducts(),void this.dialog.closeAll();const e=this.shipments.find(r=>r.id===this.moveTo.target);if(!e)return;const i=e.orders?.findIndex(r=>r.orderId===this.moveTo.orderId);void 0!==i&&i>=0?e.orders[i].quantity+=this.moveTo.quantity:(e.orders=e.orders||[],e.orders.push({orderId:this.moveTo.orderId,quantity:this.moveTo.quantity})),this.orderData.quantity-=this.moveTo.quantity,this.updateShipment(e.id,e),this.editOrder()}updateShipment(e,i){this.shipmentService.update(e,i).then(()=>{console.log("done")})}ngOnChanges(e){"docsIds"in e&&this.retrieveOrders()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(B8),o.Y36(DO),o.Y36($_),o.Y36(TO),o.Y36(ZA),o.Y36(o.s_b),o.Y36(Ro))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-to-order-table"]],viewQuery:function(e,i){if(1&e&&(o.Gf(lm,5),o.Gf(Ku,5),o.Gf(V8,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.paginator=r.first),o.iGM(r=o.CRH())&&(i.sort=r.first),o.iGM(r=o.CRH())&&(i.confirmationDialog=r.first)}},inputs:{docsIds:"docsIds"},standalone:!0,features:[o.TTD,o.jDz],decls:49,vars:5,consts:[["mat-raised-button","","color","primary",1,"mb-2",3,"click"],["confirmationDialog",""],["movingOrderDialogTemplate",""],["dialogTemplate",""],["matInput","","placeholder","Ex. perfume",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","image"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","quantity"],["mat-cell","","style","font-size: large;",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","style","width: 15rem","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","variant"],["matColumnDef","link"],["mat-header-cell","","style","width: 10rem","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","pdLink"],["matColumnDef","price"],["mat-header-cell","","mat-sort-header","","style","width: 10rem",4,"matHeaderCellDef"],["matColumnDef","notes"],["matColumnDef","status"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-cell","","mat-sort-header","","style","width: 17rem",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"confirmation-container"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"],["mat-dialog-title",""],["appearance","fill"],["matInput","","min","1","type","number",3,"max","ngModel","ngModelChange"],[3,"value","valueChange"],["value","All products"],[3,"value",4,"ngFor","ngForOf"],["mat-button","",3,"click"],["mat-button","","color","primary",3,"click"],[3,"value"],[1,"d-flex"],[1,"mr-2"],["matInput","",3,"ngModel","ngModelChange"],[1,"mr-2",2,"width","10rem"],["matInput","","type","number",3,"ngModel","ngModelChange"],["appearance","outline",1,"status-dropdown"],["placeholder","Select brand...",3,"value","valueChange"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"image-preview",3,"src"],["hidden","true","type","file","onclick","this.value=null","accept",".png, .JPEG",3,"change"],["csvInput",""],["mat-flat-button","","color","primary",1,"upload-button",3,"click"],["matTooltip","No more quantity left","aria-hidden","false","aria-label","Example home icon","fontIcon","upload"],["mat-cell","",2,"font-size","large"],["mat-header-cell","","mat-sort-header","",2,"width","15rem"],[2,"font-size","large"],[4,"ngIf"],["mat-header-cell","","mat-sort-header","",2,"width","10rem"],["target","_blank",3,"href"],[1,"mr-2",2,"color","#f44336"],[2,"color","#82ff75"],["mat-header-cell",""],["appearance","outline",1,"status-dropdown",2,"width","9rem"],["value","new"],["value","ordered"],["value","home"],["value","libya"],["mat-header-cell","","mat-sort-header","",2,"width","17rem"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",1,"ml-1",3,"click"],["mat-raised-button","","color","warn",1,"ml-1",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(r);const u=o.MAs(7);return o.KtG(i.openDialog(u))}),o._uU(1,"New Order"),o.qZA(),o.YNc(2,U8,7,0,"ng-template",null,1,o.W1O),o.YNc(4,z8,19,4,"ng-template",null,2,o.W1O),o.YNc(6,$8,53,12,"ng-template",null,3,o.W1O),o.TgZ(8,"mat-form-field")(9,"mat-label"),o._uU(10,"Filter"),o.qZA(),o.TgZ(11,"input",4,5),o.NdJ("keyup",function(u){return i.applyFilter(u)}),o.qZA()(),o.TgZ(13,"div",6)(14,"table",7),o.ynx(15,8),o.YNc(16,G8,2,0,"th",9),o.YNc(17,q8,7,1,"td",10),o.BQk(),o.ynx(18,11),o.YNc(19,Z8,2,0,"th",9),o.YNc(20,Y8,2,1,"td",12),o.BQk(),o.ynx(21,13),o.YNc(22,W8,2,0,"th",14),o.YNc(23,Q8,11,8,"td",10),o.BQk(),o.ynx(24,15),o.YNc(25,J8,2,0,"th",9),o.YNc(26,X8,2,1,"td",10),o.BQk(),o.ynx(27,16),o.YNc(28,e7,2,0,"th",17),o.YNc(29,t7,4,6,"td",10),o.BQk(),o.ynx(30,18),o.YNc(31,n7,2,0,"th",17),o.YNc(32,i7,4,6,"td",10),o.BQk(),o.ynx(33,19),o.YNc(34,r7,2,0,"th",20),o.YNc(35,o7,5,2,"td",12),o.BQk(),o.ynx(36,21),o.YNc(37,s7,2,0,"th",9),o.YNc(38,a7,2,1,"td",10),o.BQk(),o.ynx(39,22),o.YNc(40,l7,2,0,"th",23),o.YNc(41,c7,11,1,"td",10),o.BQk(),o.ynx(42,24),o.YNc(43,u7,2,0,"th",25),o.YNc(44,d7,7,0,"td",10),o.BQk(),o.YNc(45,h7,1,0,"tr",26),o.YNc(46,f7,1,0,"tr",27),o.YNc(47,p7,3,1,"tr",28),o.qZA(),o._UZ(48,"mat-paginator",29),o.qZA()}2&e&&(o.xp6(14),o.Q6J("dataSource",i.dataSource),o.xp6(31),o.Q6J("matHeaderRowDef",i.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",i.displayedColumns),o.xp6(2),o.Q6J("pageSizeOptions",o.DdM(4,m7)))},dependencies:[Oi,Lh,j_,z_,C0,w0,EE,yE,g0,vE,_0,m0,bE,y0,v0,wE,CE,xE,mE,Ku,yA,pE,lm,am,U_,SE,DE,TE,IE,aa,Br,Qa,bo,gu,Bf,Ka,kE,wO,ho,u0,c0,V_,Zs],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.image-preview[_ngcontent-%COMP%]{width:30vh;height:10rem;background-color:#fff;object-fit:contain}.upload-button[_ngcontent-%COMP%]{bottom:1rem}.confirmation-container[_ngcontent-%COMP%]{padding:20px;background:white;text-align:center;border-radius:8px;box-shadow:0 4px 8px #0003}.mat-icon[_ngcontent-%COMP%]{margin-right:0!important}.confirmation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 16px}"]}),n})();const g7=["confirmationDialog"];function _7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",5)(1,"p"),o._uU(2,"Are you sure you want to delete this item?"),o.qZA(),o.TgZ(3,"button",6),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.cancelDelete())}),o._uU(4,"Cancel"),o.qZA(),o.TgZ(5,"button",7),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.confirmDelete())}),o._uU(6,"Delete"),o.qZA()()}}function y7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"h2",8),o._uU(1,"Add Shipment"),o.qZA(),o.TgZ(2,"mat-dialog-content")(3,"mat-form-field",9)(4,"mat-label"),o._uU(5,"Aramix Id"),o.qZA(),o.TgZ(6,"input",10),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.aramixId=r)}),o.qZA()(),o.TgZ(7,"mat-form-field",9)(8,"mat-label"),o._uU(9,"Internal Id"),o.qZA(),o.TgZ(10,"input",11),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.internalId=r)}),o.qZA()(),o.TgZ(11,"mat-form-field",9)(12,"mat-label"),o._uU(13,"Notes"),o.qZA(),o.TgZ(14,"textarea",10),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.notes=r)}),o.qZA()()(),o.TgZ(15,"mat-dialog-actions")(16,"button",12),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onCancel())}),o._uU(17,"Cancel"),o.qZA(),o.TgZ(18,"button",13),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onAdd())}),o._uU(19),o.qZA()()}if(2&n){const e=o.oxw();o.xp6(6),o.Q6J("ngModel",e.orderData.aramixId),o.xp6(4),o.Q6J("ngModel",e.orderData.internalId),o.xp6(4),o.Q6J("ngModel",e.orderData.notes),o.xp6(5),o.Oqu(null===e.orderToEditId?"Add":"Edit")}}function v7(n,t){if(1&n&&o._UZ(0,"app-to-order-table",28),2&n){const e=o.oxw().$implicit;o.Q6J("docsIds",e.orders)}}function b7(n,t){1&n&&(o.TgZ(0,"div",29),o._uU(1," No orders are added!"),o.qZA())}function w7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),o._UZ(3,"img",14),o.TgZ(4,"div")(5,"input",15,16),o.NdJ("change",function(r){const u=o.CHM(e).$implicit,h=o.oxw();return o.KtG(h.uploadFile(r,u))}),o.qZA(),o.TgZ(7,"button",17),o.NdJ("click",function(){o.CHM(e);const r=o.MAs(6);return o.KtG(r.click())}),o._uU(8,"Upload"),o.qZA()()(),o.TgZ(9,"mat-panel-description")(10,"span",18),o._uU(11),o.qZA(),o.TgZ(12,"span",18),o._uU(13),o.qZA(),o.TgZ(14,"span",18),o._uU(15),o.qZA(),o.TgZ(16,"span",18),o._uU(17),o.qZA(),o.TgZ(18,"mat-select",19),o.NdJ("valueChange",function(r){const u=o.CHM(e).$implicit,h=o.oxw();return o.KtG(h.changeOrderStatus(r,u))})("valueChange",function(r){const u=o.CHM(e).$implicit;return o.KtG(u.status=r)}),o.TgZ(19,"mat-option",20),o._uU(20,"New"),o.qZA(),o.TgZ(21,"mat-option",21),o._uU(22,"DHL"),o.qZA(),o.TgZ(23,"mat-option",22),o._uU(24,"Aramix"),o.qZA(),o.TgZ(25,"mat-option",23),o._uU(26,"Libya"),o.qZA()(),o.TgZ(27,"span",18),o._uU(28),o.qZA(),o.TgZ(29,"button",24),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw(),h=o.MAs(5);return o.KtG(u.openEditDialog(h,s))}),o._uU(30," Edit "),o.qZA(),o.TgZ(31,"button",25),o.NdJ("click",function(r){const u=o.CHM(e).$implicit,h=o.oxw();return o.KtG(h.openDeleteConfirmation(r,u))}),o._uU(32," Delete "),o.qZA()()(),o.YNc(33,v7,1,1,"app-to-order-table",26),o.YNc(34,b7,2,0,"div",27),o.qZA()}if(2&n){const e=t.$implicit,i=o.oxw();o.xp6(3),o.Q6J("src",e.image?e.image:i.defaultImage,o.LSH),o.xp6(8),o.hij("Aramix ID: ",e.aramixId,""),o.xp6(2),o.hij("Internal Id: ",e.internalId,""),o.xp6(2),o.hij("#Items: ",e.totalOrderQuantity,""),o.xp6(2),o.hij("Total Price: ",e.totalShipmentPrice,""),o.xp6(1),o.Q6J("value",e.status),o.xp6(10),o.hij("Notes: ",e.notes,""),o.xp6(5),o.Q6J("ngIf",e.orders.length),o.xp6(1),o.Q6J("ngIf",!e.orders.length)}}let C7=(()=>{class n{constructor(e,i,r,s,u){this.shipmentService=e,this.dialog=i,this.storage=r,this.viewContainerRef=s,this.overlay=u,this.shipments=[],this.orderData={image:"",aramixId:0,internalId:0,numberOfItems:1,totalPrice:0,notes:"",status:"new",createdTime:"",orders:[]},this.overlayRef=null,this.orderToDelete=null,this.orderToEditId=null,this.defaultImage="https://firebasestorage.googleapis.com/v0/b/pixie-dus.firebasestorage.app/o/uploads%2F2024-11-03_19-07.png?alt=media&token=da907319-c356-41a7-8ddc-816e2db35313",this.retrieveShipments()}uploadFile(e,i){const r=e.target.files[0],s=`uploads/${r.name}`,u=this.storage.ref(s);this.storage.upload(s,r).snapshotChanges().pipe(kh(()=>{u.getDownloadURL().subscribe(_=>{i.image=_,this.orderData=i,this.orderToEditId=i.id,this.updateShipment()})})).subscribe()}openDeleteConfirmation(e,i){this.overlayRef&&this.overlayRef.dispose(),this.orderToDelete=i;const r=this.overlay.position().flexibleConnectedTo({x:e.clientX,y:e.clientY}).withPositions([{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-10}]);this.overlayRef=this.overlay.create({hasBackdrop:!0,backdropClass:"cdk-overlay-dark-backdrop",positionStrategy:r});const s=new Ic(this.confirmationDialog,this.viewContainerRef);this.overlayRef.attach(s),this.overlayRef.backdropClick().subscribe(()=>this.overlayRef?.dispose())}confirmDelete(){null!==this.orderToDelete&&this.shipmentService.delete(this.orderToDelete.id).then(()=>{this.overlayRef?.dispose()})}cancelDelete(){this.overlayRef?.dispose()}openDialog(e){this.dialog.open(e,{width:"50rem",data:{...this.orderData}}).afterClosed().subscribe(r=>{r&&console.log("Order data:",r)})}updateShipment(){null!==this.orderToEditId&&this.shipmentService.update(this.orderToEditId,this.orderData).then(()=>{this.orderToEditId=null,this.dialog.closeAll()})}onAdd(){null===this.orderToEditId?(this.orderData.createdTime=(new Date).toString(),this.shipmentService.create(this.orderData).then(()=>{this.dialog.closeAll()})):this.updateShipment(),this.orderData={image:"",aramixId:0,internalId:0,numberOfItems:1,totalPrice:0,notes:"",status:"new",createdTime:"",orders:[]}}onCancel(){this.dialog.closeAll()}retrieveShipments(){this.shipmentService.getShipmentCount().subscribe(e=>{this.shipments=e.shipments})}openEditDialog(e,i){this.orderToEditId=i.id,this.orderData={...i},this.openDialog(e)}changeOrderStatus(e,i){this.orderData=i,this.orderData.status=e,this.orderToEditId=i.id,this.updateShipment()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(TO),o.Y36($_),o.Y36(ZA),o.Y36(o.s_b),o.Y36(Ro))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-shipments"]],viewQuery:function(e,i){if(1&e&&(o.Gf(lm,5),o.Gf(Ku,5),o.Gf(g7,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.paginator=r.first),o.iGM(r=o.CRH())&&(i.sort=r.first),o.iGM(r=o.CRH())&&(i.confirmationDialog=r.first)}},standalone:!0,features:[o.jDz],decls:8,vars:1,consts:[["mat-raised-button","","color","primary",1,"mb-2",3,"click"],["confirmationDialog",""],["dialogTemplate",""],["multi","",1,"example-headers-align"],[4,"ngFor","ngForOf"],[1,"confirmation-container"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"],["mat-dialog-title",""],["appearance","fill"],["matInput","",3,"ngModel","ngModelChange"],["matInput","","type","number",3,"ngModel","ngModelChange"],["mat-button","",3,"click"],["mat-button","","color","primary",3,"click"],[1,"image-preview",3,"src"],["hidden","true","type","file","onclick","this.value=null","accept",".png, .JPEG",3,"change"],["csvInput",""],["mat-flat-button","","color","primary",1,"ml-4","mt-1","mb-1",3,"click"],[1,"mr-5"],[3,"value","valueChange"],["value","new"],["value","DHL"],["value","Aramix"],["value","Libya"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",1,"ml-1",3,"click"],[3,"docsIds",4,"ngIf"],["class","mt-5",4,"ngIf"],[3,"docsIds"],[1,"mt-5"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(r);const u=o.MAs(5);return o.KtG(i.openDialog(u))}),o._uU(1,"New Shipment"),o.qZA(),o.YNc(2,_7,7,0,"ng-template",null,1,o.W1O),o.YNc(4,y7,20,4,"ng-template",null,2,o.W1O),o.TgZ(6,"mat-accordion",3),o.YNc(7,w7,35,9,"mat-expansion-panel",4),o.qZA()}2&e&&(o.xp6(7),o.Q6J("ngForOf",i.shipments))},dependencies:[Lh,j_,z_,C0,w0,EE,mE,pE,am,U_,SE,DE,TE,IE,aa,Br,Qa,bo,Ka,kE,u0,c0,V_,L8,F8,JB,XB,N8,P8,Zs,eV,Oi],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.image-preview[_ngcontent-%COMP%]{width:8rem;height:8rem}.confirmation-container[_ngcontent-%COMP%]{padding:20px;background:white;text-align:center;border-radius:8px;box-shadow:0 4px 8px #0003}.confirmation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 16px}mat-expansion-panel-header[_ngcontent-%COMP%]{height:10rem}"]}),n})();const x7=["confirmationDialog"],E7=["confirmationLockDialog"];function D7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",8)(1,"p"),o._uU(2,"Are you sure you want to delete this item?"),o.qZA(),o.TgZ(3,"button",9),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.cancelDelete())}),o._uU(4,"Cancel"),o.qZA(),o.TgZ(5,"button",10),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.confirmDelete())}),o._uU(6,"Delete"),o.qZA()()}}function T7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",8)(1,"p"),o._uU(2,"Are you sure you want to lock the order?"),o.qZA(),o.TgZ(3,"button",9),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.cancelDelete())}),o._uU(4,"Cancel"),o.qZA(),o.TgZ(5,"button",10),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.confirmLock())}),o._uU(6,"Lock"),o.qZA()()}}function I7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"h2",11),o._uU(1,"Add Order"),o.qZA(),o.TgZ(2,"mat-dialog-content")(3,"div",12)(4,"div",13)(5,"mat-form-field",14)(6,"mat-label"),o._uU(7,"Name"),o.qZA(),o.TgZ(8,"input",15),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.invoiceData.name=r)}),o.qZA()()(),o.TgZ(9,"div")(10,"mat-form-field",14)(11,"mat-label"),o._uU(12,"Address"),o.qZA(),o.TgZ(13,"input",15),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.invoiceData.address=r)}),o.qZA()()()(),o.TgZ(14,"div")(15,"mat-form-field",14)(16,"mat-label"),o._uU(17,"Phone"),o.qZA(),o.TgZ(18,"input",15),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.invoiceData.phoneNumber=r)}),o.qZA()()(),o.TgZ(19,"mat-form-field",16)(20,"mat-label"),o._uU(21,"Notes"),o.qZA(),o.TgZ(22,"textarea",15),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.invoiceData.notes=r)}),o.qZA()()(),o.TgZ(23,"mat-dialog-actions")(24,"button",17),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onCancel())}),o._uU(25,"Cancel"),o.qZA(),o.TgZ(26,"button",18),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.editOrder())}),o._uU(27," Edit"),o.qZA()()}if(2&n){const e=o.oxw();o.xp6(8),o.Q6J("ngModel",e.invoiceData.name),o.xp6(5),o.Q6J("ngModel",e.invoiceData.address),o.xp6(5),o.Q6J("ngModel",e.invoiceData.phoneNumber),o.xp6(4),o.Q6J("ngModel",e.invoiceData.notes)}}function S7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",19),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.displayTable())}),o._uU(1,"Back"),o.qZA()}}function A7(n,t){1&n&&o._UZ(0,"div")}function M7(n,t){1&n&&(o.TgZ(0,"th",37),o._uU(1," Name"),o.qZA())}function R7(n,t){if(1&n&&(o.TgZ(0,"td",38),o._UZ(1,"mat-icon",39),o._uU(2),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Tol(e.status+"-circel"),o.xp6(1),o.hij(" ",e.name," ")}}function k7(n,t){1&n&&(o.TgZ(0,"th",37),o._uU(1," Address"),o.qZA())}function O7(n,t){if(1&n&&(o.TgZ(0,"td",38),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.address,"")}}function P7(n,t){1&n&&(o.TgZ(0,"th",37),o._uU(1," Phone Number"),o.qZA())}function N7(n,t){if(1&n&&(o.TgZ(0,"td",38),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.phoneNumber,"")}}function F7(n,t){1&n&&(o.TgZ(0,"th",37),o._uU(1," Created Time"),o.qZA())}function L7(n,t){if(1&n&&(o.TgZ(0,"td",38),o._uU(1),o.ALo(2,"date"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",o.xi3(2,1,e.createdTime,"short"),"")}}function B7(n,t){1&n&&(o.TgZ(0,"th",37),o._uU(1," Notes"),o.qZA())}function V7(n,t){if(1&n&&(o.TgZ(0,"td",38),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.notes,"")}}function U7(n,t){1&n&&(o.TgZ(0,"th",40),o._uU(1," Status"),o.qZA())}function H7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",38)(1,"mat-form-field",41)(2,"mat-select",42),o.NdJ("valueChange",function(r){const u=o.CHM(e).$implicit,h=o.oxw(2);return o.KtG(h.changeInvoiceStatus(r,u))})("valueChange",function(r){const u=o.CHM(e).$implicit;return o.KtG(u.status=r)}),o.TgZ(3,"mat-option",43),o._uU(4,"Draft"),o.qZA(),o.TgZ(5,"mat-option",44),o._uU(6,"Ordered"),o.qZA(),o.TgZ(7,"mat-option",45),o._uU(8,"Delivered"),o.qZA()()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.Q6J("value",e.status)}}function z7(n,t){1&n&&(o.TgZ(0,"th",46),o._uU(1," Actions"),o.qZA())}function j7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",38)(1,"button",47),o.NdJ("click",function(r){const u=o.CHM(e).$implicit,h=o.oxw(2);return o.KtG(h.openLockConfirmation(r,u))}),o._UZ(2,"mat-icon",48),o.qZA(),o.TgZ(3,"button",49),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.hideTable(s))}),o._UZ(4,"mat-icon",50),o._uU(5),o.qZA(),o.TgZ(6,"button",51),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw(2),h=o.MAs(5);return o.KtG(u.openEditDialog(h,s))}),o._UZ(7,"mat-icon",52),o.qZA(),o.TgZ(8,"button",53),o.NdJ("click",function(r){const u=o.CHM(e).$implicit,h=o.oxw(2);return o.KtG(h.openDeleteConfirmation(r,u))}),o._UZ(9,"mat-icon",54),o.qZA()()}if(2&n){const e=t.$implicit;o.xp6(1),o.Q6J("disabled",e.locked),o.xp6(4),o.hij(" ",e.orders.length," ")}}function $7(n,t){1&n&&o._UZ(0,"tr",55)}function G7(n,t){1&n&&o._UZ(0,"tr",56)}function q7(n,t){if(1&n&&(o.TgZ(0,"tr",57)(1,"td",58),o._uU(2),o.qZA()()),2&n){o.oxw(2);const e=o.MAs(12);o.xp6(2),o.hij('No data matching the filter "',e.value,'"')}}const Z7=function(){return[25,100]};function Y7(n,t){if(1&n&&(o.TgZ(0,"div",20)(1,"table",21),o.ynx(2,22),o.YNc(3,M7,2,0,"th",23),o.YNc(4,R7,3,3,"td",24),o.BQk(),o.ynx(5,25),o.YNc(6,k7,2,0,"th",23),o.YNc(7,O7,2,1,"td",24),o.BQk(),o.ynx(8,26),o.YNc(9,P7,2,0,"th",23),o.YNc(10,N7,2,1,"td",24),o.BQk(),o.ynx(11,27),o.YNc(12,F7,2,0,"th",23),o.YNc(13,L7,3,4,"td",24),o.BQk(),o.ynx(14,28),o.YNc(15,B7,2,0,"th",23),o.YNc(16,V7,2,1,"td",24),o.BQk(),o.ynx(17,29),o.YNc(18,U7,2,0,"th",30),o.YNc(19,H7,9,1,"td",24),o.BQk(),o.ynx(20,31),o.YNc(21,z7,2,0,"th",32),o.YNc(22,j7,10,2,"td",24),o.BQk(),o.YNc(23,$7,1,0,"tr",33),o.YNc(24,G7,1,0,"tr",34),o.YNc(25,q7,3,1,"tr",35),o.qZA(),o._UZ(26,"mat-paginator",36),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("dataSource",e.dataSource),o.xp6(22),o.Q6J("matHeaderRowDef",e.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",e.displayedColumns),o.xp6(2),o.Q6J("pageSizeOptions",o.DdM(4,Z7))}}function W7(n,t){if(1&n&&(o.TgZ(0,"mat-card")(1,"mat-card-content")(2,"div",59)(3,"span",60),o._uU(4),o.qZA(),o.TgZ(5,"span",60),o._uU(6),o.qZA(),o.TgZ(7,"span",60),o._uU(8),o.qZA(),o.TgZ(9,"span",60),o._uU(10),o.ALo(11,"date"),o.qZA(),o.TgZ(12,"span",61),o._uU(13),o.qZA(),o.TgZ(14,"span",62),o._uU(15),o.qZA()()()()),2&n){const e=o.oxw();o.xp6(4),o.Oqu(e.invoiceToView.name),o.xp6(2),o.Oqu(e.invoiceToView.address),o.xp6(2),o.Oqu(e.invoiceToView.phoneNumber),o.xp6(2),o.Oqu(o.xi3(11,6,e.invoiceToView.createdTime,"short")),o.xp6(3),o.Oqu(e.totalProducts),o.xp6(2),o.hij("Total Price: ",e.totlaPriceToPay," L.D")}}function K7(n,t){1&n&&(o.TgZ(0,"th",37),o._uU(1," Image"),o.qZA())}function Q7(n,t){if(1&n&&(o.TgZ(0,"td",38),o._UZ(1,"img",70),o.qZA()),2&n){const e=t.$implicit,i=o.oxw(2);o.xp6(1),o.Q6J("src",e.image?e.image:i.defaultImage,o.LSH)}}function J7(n,t){1&n&&(o.TgZ(0,"th",37),o._uU(1," Quantity"),o.qZA())}function X7(n,t){if(1&n&&(o.TgZ(0,"td",38),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.quantity,"")}}function e9(n,t){1&n&&(o.TgZ(0,"th",71),o._uU(1," Name"),o.qZA())}function t9(n,t){1&n&&(o.TgZ(0,"span"),o._uU(1,"..."),o.qZA())}function n9(n,t){if(1&n&&(o.TgZ(0,"td",38)(1,"div",72),o._uU(2),o.qZA(),o.TgZ(3,"div"),o._uU(4),o.ALo(5,"slice"),o.YNc(6,t9,2,0,"span",4),o.qZA(),o.TgZ(7,"div")(8,"b")(9,"small"),o._uU(10),o.qZA()()()()),2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e.brand," "),o.xp6(2),o.hij("",o.Dn7(5,4,e.name,0,100)," "),o.xp6(2),o.Q6J("ngIf",e.name.length>=100),o.xp6(4),o.Oqu(e.barcode)}}function i9(n,t){1&n&&(o.TgZ(0,"th",37),o._uU(1," Variant"),o.qZA())}function r9(n,t){if(1&n&&(o.TgZ(0,"td",38),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.variant,"")}}function o9(n,t){1&n&&(o.TgZ(0,"th",73),o._uU(1," Price"),o.qZA())}function s9(n,t){if(1&n&&(o.TgZ(0,"td",38)(1,"div",74),o._uU(2),o.ALo(3,"roundUpToFive"),o.qZA()()),2&n){const e=t.$implicit,i=o.oxw(2);o.xp6(2),o.hij(" ",o.lcZ(3,1,e.sellPrice*i.config.conversionPrice)," L.D ")}}function a9(n,t){1&n&&(o.TgZ(0,"th",37),o._uU(1," Notes"),o.qZA())}function l9(n,t){if(1&n&&(o.TgZ(0,"td",38),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.notes,"")}}function c9(n,t){1&n&&(o.TgZ(0,"th",75),o._uU(1," Actions"),o.qZA())}function u9(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",38)(1,"button",53),o.NdJ("click",function(r){const u=o.CHM(e).$implicit,h=o.oxw(2);return o.KtG(h.openDeleteOrderConfirmation(r,u))}),o._uU(2," Delete "),o.qZA()()}}function d9(n,t){1&n&&o._UZ(0,"tr",55)}function h9(n,t){1&n&&o._UZ(0,"tr",56)}function f9(n,t){if(1&n&&(o.TgZ(0,"div",20)(1,"table",21),o.ynx(2,63),o.YNc(3,K7,2,0,"th",23),o.YNc(4,Q7,2,1,"td",24),o.BQk(),o.ynx(5,64),o.YNc(6,J7,2,0,"th",23),o.YNc(7,X7,2,1,"td",24),o.BQk(),o.ynx(8,22),o.YNc(9,e9,2,0,"th",65),o.YNc(10,n9,11,8,"td",24),o.BQk(),o.ynx(11,66),o.YNc(12,i9,2,0,"th",23),o.YNc(13,r9,2,1,"td",24),o.BQk(),o.ynx(14,67),o.YNc(15,o9,2,0,"th",68),o.YNc(16,s9,4,3,"td",24),o.BQk(),o.ynx(17,28),o.YNc(18,a9,2,0,"th",23),o.YNc(19,l9,2,1,"td",24),o.BQk(),o.ynx(20,31),o.YNc(21,c9,2,0,"th",69),o.YNc(22,u9,3,0,"td",24),o.BQk(),o.YNc(23,d9,1,0,"tr",33),o.YNc(24,h9,1,0,"tr",34),o.qZA()()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("dataSource",e.ordersTable),o.xp6(22),o.Q6J("matHeaderRowDef",e.ordersDisplayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",e.ordersDisplayedColumns)}}let p9=(()=>{class n{constructor(e,i,r,s,u,h){this.invoiceService=e,this.dialog=i,this.productService=r,this.viewContainerRef=s,this.overlay=u,this.configService=h,this.displayedColumns=["name","address","phoneNumber","notes","createdTime","status","actions"],this.ordersDisplayedColumns=["image","name","variant","price","actions"],this._snackBar=(0,o.f3M)(EO),this.defaultImage="https://firebasestorage.googleapis.com/v0/b/pixie-dus.firebasestorage.app/o/uploads%2F2024-11-03_19-07.png?alt=media&token=da907319-c356-41a7-8ddc-816e2db35313",this.totlaPriceToPay=0,this.totalProducts=0,this.invoiceData={address:"",phoneNumber:"",status:"",orders:[],name:"",notes:"",locked:!1,createdTime:""},this.overlayRef=null,this.orderToDelete=null,this.invoiceToEditId=null,this.config={conversionPrice:0},this.showTable=!0,this.orders=[],this.retrieveInvoices(),this.retrieveconfigurations()}retrieveconfigurations(){this.configService.getAll().snapshotChanges().pipe((0,Ke.U)(e=>e.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()})))).subscribe(e=>{this.config=e[0]})}changeInvoiceStatus(e,i){this.invoiceData=i,this.invoiceData.status=e,this.invoiceToEditId=i.id,this.editOrder()}openDeleteOrderConfirmation(e,i){let r=this.ordersTable.data;r=r.filter(s=>s!=i),this.invoiceToView.orders=r,this.ordersTable=new b0(r),this.updatePrice(),this.invoiceService.update(this.invoiceToView.id,this.invoiceToView).then()}openDeleteConfirmation(e,i){this.overlayRef&&this.overlayRef.dispose(),this.orderToDelete=i;const r=this.overlay.position().flexibleConnectedTo({x:e.clientX,y:e.clientY}).withPositions([{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-10}]);this.overlayRef=this.overlay.create({hasBackdrop:!0,backdropClass:"cdk-overlay-dark-backdrop",positionStrategy:r});const s=new Ic(this.confirmationDialog,this.viewContainerRef);this.overlayRef.attach(s),this.overlayRef.backdropClick().subscribe(()=>this.overlayRef?.dispose())}openLockConfirmation(e,i){this.overlayRef&&this.overlayRef.dispose(),this.orderToDelete=i;const r=this.overlay.position().flexibleConnectedTo({x:e.clientX,y:e.clientY}).withPositions([{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-10}]);this.overlayRef=this.overlay.create({hasBackdrop:!0,backdropClass:"cdk-overlay-dark-backdrop",positionStrategy:r});const s=new Ic(this.confirmationLockDialog,this.viewContainerRef);this.overlayRef.attach(s),this.overlayRef.backdropClick().subscribe(()=>this.overlayRef?.dispose())}confirmDelete(){null!==this.orderToDelete&&this.invoiceService.delete(this.orderToDelete.id).then(()=>{this.overlayRef?.dispose()})}confirmLock(){if(null!==this.orderToDelete){const e=new Map;this.orderToDelete.orders.forEach(r=>{e.has(r.barcode)?e.set(r.barcode,e.get(r.barcode)+1):e.set(r.barcode,1)});const i=(r,s=0)=>{if(s>=r.length)return Promise.resolve();const[u,h]=r[s];return this.productService.getProductByBarcode(u).then(_=>{if(void 0===_||_.empty)return console.log("No product found with the given barcode."),i(r,s+1);{let b=_.docs[0].data();return b.quantity-=h,console.log(b),this.productService.update(_.docs[0].id,b).then(()=>i(r,s+1))}}).catch(_=>(console.error("Error updating product:",_),Promise.reject(_)))};i(Array.from(e.entries())).then(()=>{null!==this.orderToDelete&&(this.orderToDelete.locked=!0,this.invoiceService.update(this.orderToDelete.id,this.orderToDelete).then(()=>{this._snackBar.open(`Order ${this.orderToDelete?.name} is locked!`),this.overlayRef?.dispose()}))})}}cancelDelete(){this.overlayRef?.dispose()}openDialog(e){this.dialog.open(e,{width:"50rem",data:{...this.invoiceData}}).afterClosed().subscribe(r=>{r&&console.log("Order data:",r)})}editOrder(){null!==this.invoiceToEditId&&this.invoiceService.update(this.invoiceToEditId,this.invoiceData).then(()=>{this.invoiceToEditId=null,this.dialog.closeAll()})}onCancel(){this.dialog.closeAll()}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}retrieveInvoices(){this.invoiceService.getAll().snapshotChanges().pipe((0,Ke.U)(e=>e.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()})))).subscribe(e=>{this.dataSource=new b0(e.sort((i,r)=>new Date(r.createdTime).getTime()-new Date(i.createdTime).getTime())),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}openEditDialog(e,i){this.invoiceToEditId=i.id,this.invoiceData={...i},this.openDialog(e)}displayTable(){this.showTable=!0}updatePrice(){this.totlaPriceToPay=0,this.totalProducts=0,this.invoiceToView.orders.forEach(e=>{this.totalProducts+=1;let i=e.sellPrice*this.config.conversionPrice;i>0&&(i=(new OE).transform(i),this.totlaPriceToPay+=i)})}hideTable(e){this.invoiceToView=e,this.ordersTable=new b0(this.invoiceToView.orders),this.ordersTable.sort=this.sort,this.updatePrice(),this.showTable=!1}ngOnChanges(e){"docsIds"in e&&this.retrieveInvoices()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(VO),o.Y36($_),o.Y36(DO),o.Y36(o.s_b),o.Y36(Ro),o.Y36(YA))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-invoices"]],viewQuery:function(e,i){if(1&e&&(o.Gf(lm,5),o.Gf(Ku,5),o.Gf(x7,5),o.Gf(E7,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.paginator=r.first),o.iGM(r=o.CRH())&&(i.sort=r.first),o.iGM(r=o.CRH())&&(i.confirmationDialog=r.first),o.iGM(r=o.CRH())&&(i.confirmationLockDialog=r.first)}},inputs:{docsIds:"docsIds"},standalone:!0,features:[o.TTD,o.jDz],decls:16,vars:6,consts:[["confirmationDialog",""],["confirmationLockDialog",""],["dialogTemplate",""],["class","mb-2","mat-raised-button","",3,"click",4,"ngIf"],[4,"ngIf"],["matInput","","placeholder","Ex. perfume",3,"disabled","keyup"],["input",""],["class","mat-elevation-z8",4,"ngIf"],[1,"confirmation-container"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"],["mat-dialog-title",""],[1,"d-flex"],[1,"mr-2"],["appearance","fill"],["matInput","",3,"ngModel","ngModelChange"],["appearance","fill",2,"width","20rem"],["mat-button","",3,"click"],["mat-button","","color","primary",3,"click"],["mat-raised-button","",1,"mb-2",3,"click"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","address"],["matColumnDef","phoneNumber"],["matColumnDef","createdTime"],["matColumnDef","notes"],["matColumnDef","status"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-cell","","mat-sort-header","","style","width: 20rem",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["aria-hidden","false","aria-label","Example home icon","fontIcon","person",2,"padding-top","0.25rem"],["mat-header-cell",""],["appearance","outline",1,"status-dropdown","mt-1",2,"width","9rem"],[3,"value","valueChange"],["value","draft"],["value","ordered"],["value","delivered"],["mat-header-cell","","mat-sort-header","",2,"width","20rem"],["mat-raised-button","","color","accent",3,"disabled","click"],["aria-hidden","false","aria-label","Example home icon","fontIcon","lock_outline"],["mat-raised-button","","color","accent",1,"ml-1",3,"click"],["aria-hidden","false","aria-label","Example home icon","fontIcon","remove_red_eye"],["mat-raised-button","","color","primary",1,"ml-1",3,"click"],["aria-hidden","false","aria-label","Example home icon","fontIcon","edit"],["mat-raised-button","","color","warn",1,"ml-1",3,"click"],["aria-hidden","false","aria-label","Example home icon","fontIcon","delete"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"],[2,"color","white"],[1,"mr-5"],[1,"mr-5",2,"float","right"],[1,"mr-5",2,"font-size","large","float","right"],["matColumnDef","image"],["matColumnDef","quantity"],["mat-header-cell","","style","width: 15rem","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","variant"],["matColumnDef","price"],["mat-header-cell","","mat-sort-header","","style","width: 10rem",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header","","style","width: 17rem",4,"matHeaderCellDef"],[1,"image-preview",3,"src"],["mat-header-cell","","mat-sort-header","",2,"width","15rem"],[2,"font-size","large"],["mat-header-cell","","mat-sort-header","",2,"width","10rem"],[2,"color","#758bff"],["mat-header-cell","","mat-sort-header","",2,"width","17rem"]],template:function(e,i){1&e&&(o.YNc(0,D7,7,0,"ng-template",null,0,o.W1O),o.YNc(2,T7,7,0,"ng-template",null,1,o.W1O),o.YNc(4,I7,28,4,"ng-template",null,2,o.W1O),o.YNc(6,S7,2,0,"button",3),o.YNc(7,A7,1,0,"div",4),o.TgZ(8,"mat-form-field")(9,"mat-label"),o._uU(10,"Filter"),o.qZA(),o.TgZ(11,"input",5,6),o.NdJ("keyup",function(s){return i.applyFilter(s)}),o.qZA()(),o.YNc(13,Y7,27,5,"div",7),o.YNc(14,W7,16,9,"mat-card",4),o.YNc(15,f9,25,3,"div",7)),2&e&&(o.xp6(6),o.Q6J("ngIf",!i.showTable),o.xp6(1),o.Q6J("ngIf",!i.showTable),o.xp6(4),o.Q6J("disabled",!i.showTable),o.xp6(2),o.Q6J("ngIf",i.showTable),o.xp6(1),o.Q6J("ngIf",!i.showTable),o.xp6(1),o.Q6J("ngIf",!i.showTable))},dependencies:[CO,LA,BA,Oi,In,OE,Lh,j_,z_,C0,w0,EE,yE,g0,vE,_0,m0,bE,y0,v0,wE,CE,xE,mE,Ku,yA,pE,lm,am,U_,SE,DE,TE,IE,aa,Br,bo,Ka,kE,wO,ho,u0,c0,V_],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.mat-icon[_ngcontent-%COMP%]{margin-right:0!important}.status-circle[_ngcontent-%COMP%]{font-size:small;padding-top:.75rem}.draft-circel[_ngcontent-%COMP%]{color:#f44336}.delivered-circel[_ngcontent-%COMP%]{color:#82ff75}.ordered-circel[_ngcontent-%COMP%]{color:#758bff}.image-preview[_ngcontent-%COMP%]{width:8rem;height:8rem}.confirmation-container[_ngcontent-%COMP%]{padding:20px;background:white;text-align:center;border-radius:8px;box-shadow:0 4px 8px #0003}.confirmation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 16px}"]}),n})();const m9=["confirmationDialog"];function g9(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",34)(1,"p"),o._uU(2,"Are you sure you want to delete this item?"),o.qZA(),o.TgZ(3,"button",35),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.cancelDelete())}),o._uU(4,"Cancel"),o.qZA(),o.TgZ(5,"button",36),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.confirmDelete())}),o._uU(6,"Delete"),o.qZA()()}}function _9(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"h2",37),o._uU(1,"Create Invoice"),o.qZA(),o.TgZ(2,"mat-dialog-content")(3,"div",38)(4,"div",39)(5,"mat-form-field",40)(6,"mat-label"),o._uU(7,"Customer Name"),o.qZA(),o.TgZ(8,"input",41),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.invoiceData.name=r)}),o.qZA()(),o.TgZ(9,"mat-form-field",40)(10,"mat-label"),o._uU(11,"Customer Address"),o.qZA(),o.TgZ(12,"input",41),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.invoiceData.address=r)}),o.qZA()()(),o.TgZ(13,"div")(14,"mat-form-field",40)(15,"mat-label"),o._uU(16,"Customer Phone"),o.qZA(),o.TgZ(17,"input",41),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.invoiceData.phoneNumber=r)}),o.qZA()()()(),o.TgZ(18,"mat-form-field",40)(19,"mat-label"),o._uU(20,"Notes"),o.qZA(),o.TgZ(21,"textarea",41),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.invoiceData.notes=r)}),o.qZA()()(),o.TgZ(22,"mat-dialog-actions")(23,"button",42),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onCancel())}),o._uU(24,"Cancel"),o.qZA(),o.TgZ(25,"button",43),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.createInvoice())}),o._uU(26),o.qZA()()}if(2&n){const e=o.oxw();o.xp6(8),o.Q6J("ngModel",e.invoiceData.name),o.xp6(4),o.Q6J("ngModel",e.invoiceData.address),o.xp6(5),o.Q6J("ngModel",e.invoiceData.phoneNumber),o.xp6(4),o.Q6J("ngModel",e.invoiceData.notes),o.xp6(5),o.Oqu(null===e.orderToEditId?"Add":"Edit")}}function y9(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"h2",37),o._uU(1,"Add Order"),o.qZA(),o.TgZ(2,"mat-dialog-content")(3,"div",38)(4,"div",39)(5,"mat-form-field",40)(6,"mat-label"),o._uU(7,"Name"),o.qZA(),o.TgZ(8,"input",41),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.name=r)}),o.qZA()(),o.TgZ(9,"div",38)(10,"div",44)(11,"mat-form-field",40)(12,"mat-label"),o._uU(13,"Buy Price"),o.qZA(),o.TgZ(14,"input",45),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.price=r)}),o.qZA()()(),o.TgZ(15,"div",44)(16,"mat-form-field",40)(17,"mat-label"),o._uU(18,"Sell Price \u20ac"),o.qZA(),o.TgZ(19,"input",45),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.sellPrice=r)}),o.qZA()()()(),o.TgZ(20,"mat-form-field",40)(21,"mat-label"),o._uU(22,"Link"),o.qZA(),o.TgZ(23,"input",41),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.link=r)}),o.qZA()()(),o.TgZ(24,"div")(25,"mat-form-field",40)(26,"mat-label"),o._uU(27,"Variant"),o.qZA(),o.TgZ(28,"input",41),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.variant=r)}),o.qZA()(),o.TgZ(29,"mat-form-field",40)(30,"mat-label"),o._uU(31,"Quantity"),o.qZA(),o.TgZ(32,"input",45),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.quantity=r)}),o.qZA()(),o.TgZ(33,"mat-form-field",40)(34,"mat-label"),o._uU(35,"PD Link"),o.qZA(),o.TgZ(36,"input",41),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.pdLink=r)}),o.qZA()()()(),o.TgZ(37,"mat-form-field",40)(38,"mat-label"),o._uU(39,"Barcode"),o.qZA(),o.TgZ(40,"input",41),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.barcode=r)}),o.qZA()(),o.TgZ(41,"mat-form-field",40)(42,"mat-label"),o._uU(43,"Notes"),o.qZA(),o.TgZ(44,"textarea",41),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.orderData.notes=r)}),o.qZA()()(),o.TgZ(45,"mat-dialog-actions")(46,"button",42),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onCancel())}),o._uU(47,"Cancel"),o.qZA(),o.TgZ(48,"button",43),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onAdd())}),o._uU(49),o.qZA()()}if(2&n){const e=o.oxw();o.xp6(8),o.Q6J("ngModel",e.orderData.name),o.xp6(6),o.Q6J("ngModel",e.orderData.price),o.xp6(5),o.Q6J("ngModel",e.orderData.sellPrice),o.xp6(4),o.Q6J("ngModel",e.orderData.link),o.xp6(5),o.Q6J("ngModel",e.orderData.variant),o.xp6(4),o.Q6J("ngModel",e.orderData.quantity),o.xp6(4),o.Q6J("ngModel",e.orderData.pdLink),o.xp6(4),o.Q6J("ngModel",e.orderData.barcode),o.xp6(4),o.Q6J("ngModel",e.orderData.notes),o.xp6(5),o.Oqu(null===e.orderToEditId?"Add":"Edit")}}function v9(n,t){1&n&&(o.TgZ(0,"th",46),o._uU(1," Image"),o.qZA())}function b9(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",47),o._UZ(1,"img",48),o.TgZ(2,"div")(3,"input",49,50),o.NdJ("change",function(r){const u=o.CHM(e).$implicit,h=o.oxw();return o.KtG(h.uploadFile(r,u))}),o.qZA(),o.TgZ(5,"button",51),o.NdJ("click",function(){o.CHM(e);const r=o.MAs(4);return o.KtG(r.click())}),o._uU(6,"Upload"),o.qZA()()()}if(2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.Q6J("src",e.image?e.image:i.defaultImage,o.LSH)}}function w9(n,t){1&n&&(o.TgZ(0,"th",46),o._uU(1," Quantity"),o.qZA())}function C9(n,t){if(1&n&&(o.TgZ(0,"td",47),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.quantity,"")}}function x9(n,t){1&n&&(o.TgZ(0,"th",52),o._uU(1," Name"),o.qZA())}function E9(n,t){1&n&&(o.TgZ(0,"span"),o._uU(1,"..."),o.qZA())}function D9(n,t){if(1&n&&(o.TgZ(0,"td",47)(1,"div",53),o._uU(2),o.qZA(),o.TgZ(3,"div"),o._uU(4),o.ALo(5,"slice"),o.YNc(6,E9,2,0,"span",54),o.qZA(),o.TgZ(7,"div")(8,"b")(9,"small"),o._uU(10),o.qZA()()()()),2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e.brand," "),o.xp6(2),o.hij("",o.Dn7(5,4,e.name,0,100)," "),o.xp6(2),o.Q6J("ngIf",e.name.length>=100),o.xp6(4),o.Oqu(e.barcode)}}function T9(n,t){1&n&&(o.TgZ(0,"th",46),o._uU(1," Variant"),o.qZA())}function I9(n,t){if(1&n&&(o.TgZ(0,"td",47),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.variant,"")}}function S9(n,t){1&n&&(o.TgZ(0,"th",55),o._uU(1," Link"),o.qZA())}function A9(n,t){if(1&n&&(o.TgZ(0,"td",47)(1,"a",56),o._uU(2),o.ALo(3,"slice"),o.qZA()()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("href",e.link,o.LSH),o.xp6(1),o.hij("",o.Dn7(3,2,e.link,0,25),"...")}}function M9(n,t){1&n&&(o.TgZ(0,"th",55),o._uU(1," PD Link"),o.qZA())}function R9(n,t){if(1&n&&(o.TgZ(0,"td",47)(1,"a",56),o._uU(2),o.ALo(3,"slice"),o.qZA()()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("href",e.pdLink,o.LSH),o.xp6(1),o.hij("",o.Dn7(3,2,e.pdLink,0,25),"...")}}function k9(n,t){1&n&&(o.TgZ(0,"th",55),o._uU(1," Price"),o.qZA())}function O9(n,t){if(1&n&&(o.TgZ(0,"td",47)(1,"div",57),o._uU(2),o.ALo(3,"roundUpToFive"),o.qZA()()),2&n){const e=t.$implicit,i=o.oxw();o.xp6(2),o.hij(" ",o.lcZ(3,1,e.sellPrice*i.config.conversionPrice)," L.D ")}}function P9(n,t){1&n&&(o.TgZ(0,"th",46),o._uU(1," Notes"),o.qZA())}function N9(n,t){if(1&n&&(o.TgZ(0,"td",47),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.notes,"")}}function F9(n,t){1&n&&(o.TgZ(0,"th",58),o._uU(1," Status"),o.qZA())}function L9(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",47)(1,"mat-form-field",59)(2,"mat-select",60),o.NdJ("valueChange",function(r){const u=o.CHM(e).$implicit,h=o.oxw();return o.KtG(h.changeOrderStatus(r,u))})("valueChange",function(r){const u=o.CHM(e).$implicit;return o.KtG(u.status=r)}),o.TgZ(3,"mat-option",61),o._uU(4,"New"),o.qZA(),o.TgZ(5,"mat-option",62),o._uU(6,"Ordered"),o.qZA(),o.TgZ(7,"mat-option",63),o._uU(8,"Home"),o.qZA(),o.TgZ(9,"mat-option",64),o._uU(10,"Libya"),o.qZA()()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.Q6J("value",e.status)}}function B9(n,t){1&n&&(o.TgZ(0,"th",65),o._uU(1," Actions"),o.qZA())}function V9(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",47)(1,"button",66),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw(),h=o.MAs(11);return o.KtG(u.openEditDialog(h,s))}),o._uU(2," Edit "),o.qZA(),o.TgZ(3,"button",67),o.NdJ("click",function(r){const u=o.CHM(e).$implicit,h=o.oxw();return o.KtG(h.openDeleteConfirmation(r,u))}),o._uU(4," Delete "),o.qZA()()}}function U9(n,t){1&n&&o._UZ(0,"tr",68)}function H9(n,t){1&n&&o._UZ(0,"tr",69)}function z9(n,t){if(1&n&&(o.TgZ(0,"tr",70)(1,"td",71),o._uU(2),o.qZA()()),2&n){o.oxw();const e=o.MAs(16);o.xp6(2),o.hij('No data matching the filter "',e.value,'"')}}const j9=function(){return[25,100]},$9=[{path:"",redirectTo:"products",pathMatch:"full"},{path:"products",component:_8},{path:"to-orders",component:eV},{path:"shipments",component:C7},{path:"cart",component:(()=>{class n{constructor(e,i,r,s,u,h,_){this.dialog=e,this.storage=i,this.viewContainerRef=r,this.overlay=s,this.configService=u,this.cartService=h,this.checkoutService=_,this.displayedColumns=["image","name","variant","price","actions"],this.invoiceData={name:"",address:"",phoneNumber:"",status:"draft",notes:"",locked:!1,createdTime:"",orders:[]},this.orderData={name:"",price:0,sellPrice:0,quantity:1,link:"",pdLink:"",barcode:"",variant:"",brand:"",notes:"",image:"",status:"new",createdTime:""},this.overlayRef=null,this.orderToDelete=null,this.orderToEditId=null,this.defaultImage="https://firebasestorage.googleapis.com/v0/b/pixie-dus.firebasestorage.app/o/uploads%2F2024-11-03_19-07.png?alt=media&token=da907319-c356-41a7-8ddc-816e2db35313",this.config={conversionPrice:0},this.cart=[],this.totlaPriceToPay=0,this.totalProducts=0,this.retrieveconfigurations()}retrieveCart(){this.cartService.getAll().snapshotChanges().pipe((0,Ke.U)(e=>e.map(i=>({...i.payload.doc.data(),id:i.payload.doc.id})))).subscribe(e=>{this.dataSource=new b0(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.totlaPriceToPay=0,this.totalProducts=0,e.forEach(i=>{this.totalProducts+=1;let r=i.sellPrice*this.config.conversionPrice;r>0&&(r=(new OE).transform(r),this.totlaPriceToPay+=r)})})}retrieveconfigurations(){this.configService.getAll().snapshotChanges().pipe((0,Ke.U)(e=>e.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()})))).subscribe(e=>{this.config=e[0],this.retrieveCart()})}uploadFile(e,i){const r=e.target.files[0],s=`uploads/${r.name}`,u=this.storage.ref(s);this.storage.upload(s,r).snapshotChanges().pipe(kh(()=>{u.getDownloadURL().subscribe(_=>{i.image=_,this.orderData=i,this.orderToEditId=i.id,this.editOrder()})})).subscribe()}openDeleteConfirmation(e,i){this.overlayRef&&this.overlayRef.dispose(),this.orderToDelete=i;const r=this.overlay.position().flexibleConnectedTo({x:e.clientX,y:e.clientY}).withPositions([{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-10}]);this.overlayRef=this.overlay.create({hasBackdrop:!0,backdropClass:"cdk-overlay-dark-backdrop",positionStrategy:r});const s=new Ic(this.confirmationDialog,this.viewContainerRef);this.overlayRef.attach(s),this.overlayRef.backdropClick().subscribe(()=>this.overlayRef?.dispose())}confirmDelete(){null!==this.orderToDelete&&this.cartService.delete(this.orderToDelete.id).then(()=>{this.overlayRef?.dispose()})}cancelDelete(){this.overlayRef?.dispose()}openDialog(e){this.dialog.open(e,{width:"50rem",data:{...this.invoiceData}}).afterClosed().subscribe(r=>{r&&console.log("Order data:",r)})}editOrder(){null!==this.orderToEditId&&this.cartService.update(this.orderToEditId,this.orderData).then(()=>{this.orderToEditId=null,this.dialog.closeAll()})}clearCart(){this.dataSource.data.forEach(e=>{this.cartService.delete(e.id).then(()=>{})})}createInvoice(){this.invoiceData.createdTime=(new Date).toString(),this.invoiceData.orders=this.dataSource.data,this.checkoutService.create(this.invoiceData).then(()=>{this.clearCart(),this.dialog.closeAll()})}onAdd(){null===this.orderToEditId?(this.orderData.createdTime=(new Date).toString(),this.cartService.create(this.orderData).then(()=>{this.dialog.closeAll()})):this.editOrder(),this.orderData={name:"",price:0,sellPrice:0,brand:"",quantity:1,link:"",barcode:"",pdLink:"",variant:"",notes:"",image:"",status:"new",createdTime:""}}onCancel(){this.dialog.closeAll()}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}openEditDialog(e,i){this.orderToEditId=i.id,this.orderData={...i},this.openDialog(e)}changeOrderStatus(e,i){this.orderData=i,this.orderData.status=e,this.orderToEditId=i.id,this.onAdd()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36($_),o.Y36(ZA),o.Y36(o.s_b),o.Y36(Ro),o.Y36(YA),o.Y36(UO),o.Y36(VO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-cart"]],viewQuery:function(e,i){if(1&e&&(o.Gf(lm,5),o.Gf(Ku,5),o.Gf(m9,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.paginator=r.first),o.iGM(r=o.CRH())&&(i.sort=r.first),o.iGM(r=o.CRH())&&(i.confirmationDialog=r.first)}},inputs:{docsIds:"docsIds"},standalone:!0,features:[o.jDz],decls:60,vars:7,consts:[["mat-raised-button","","color","primary",1,"mb-2",3,"click"],["mat-raised-button","","color","primary",1,"mb-2","ml-2",3,"click"],["mat-raised-button","","color","warn",1,"mb-2","ml-2",2,"float","right",3,"click"],["confirmationDialog",""],["invoiceDialog",""],["dialogTemplate",""],["matInput","","placeholder","Ex. perfume",3,"keyup"],["input",""],[2,"color","white"],[1,"mr-5",2,"float","right"],[1,"mr-5",2,"font-size","large","float","right"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","image"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","quantity"],["matColumnDef","name"],["mat-header-cell","","style","width: 15rem","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","variant"],["matColumnDef","link"],["mat-header-cell","","style","width: 10rem","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","pdLink"],["matColumnDef","price"],["mat-header-cell","","mat-sort-header","","style","width: 10rem",4,"matHeaderCellDef"],["matColumnDef","notes"],["matColumnDef","status"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-cell","","mat-sort-header","","style","width: 17rem",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"confirmation-container"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"],["mat-dialog-title",""],[1,"d-flex"],[1,"mr-2"],["appearance","fill"],["matInput","",3,"ngModel","ngModelChange"],["mat-button","",3,"click"],["mat-button","","color","primary",3,"click"],[1,"mr-2",2,"width","10rem"],["matInput","","type","number",3,"ngModel","ngModelChange"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"image-preview",3,"src"],["hidden","true","type","file","onclick","this.value=null","accept",".png, .JPEG",3,"change"],["csvInput",""],["mat-flat-button","","color","primary",1,"ml-4","mt-1","mb-1",3,"click"],["mat-header-cell","","mat-sort-header","",2,"width","15rem"],[2,"font-size","large"],[4,"ngIf"],["mat-header-cell","","mat-sort-header","",2,"width","10rem"],["target","_blank",3,"href"],[2,"font-size","large","color","#758bff"],["mat-header-cell",""],["appearance","outline",1,"status-dropdown",2,"width","9rem"],[3,"value","valueChange"],["value","new"],["value","ordered"],["value","home"],["value","libya"],["mat-header-cell","","mat-sort-header","",2,"width","17rem"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",1,"ml-1",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(r);const u=o.MAs(11);return o.KtG(i.openDialog(u))}),o._uU(1,"New Product"),o.qZA(),o.TgZ(2,"button",1),o.NdJ("click",function(){o.CHM(r);const u=o.MAs(9);return o.KtG(i.openDialog(u))}),o._uU(3,"Create Invoice"),o.qZA(),o.TgZ(4,"button",2),o.NdJ("click",function(){return i.clearCart()}),o._uU(5,"Clear Cart"),o.qZA(),o.YNc(6,g9,7,0,"ng-template",null,3,o.W1O),o.YNc(8,_9,27,5,"ng-template",null,4,o.W1O),o.YNc(10,y9,50,10,"ng-template",null,5,o.W1O),o.TgZ(12,"mat-form-field")(13,"mat-label"),o._uU(14,"Filter"),o.qZA(),o.TgZ(15,"input",6,7),o.NdJ("keyup",function(u){return i.applyFilter(u)}),o.qZA()(),o.TgZ(17,"mat-card")(18,"mat-card-content")(19,"div",8)(20,"span",9),o._uU(21),o.qZA(),o.TgZ(22,"span",10),o._uU(23),o.qZA()()()(),o.TgZ(24,"div",11)(25,"table",12),o.ynx(26,13),o.YNc(27,v9,2,0,"th",14),o.YNc(28,b9,7,1,"td",15),o.BQk(),o.ynx(29,16),o.YNc(30,w9,2,0,"th",14),o.YNc(31,C9,2,1,"td",15),o.BQk(),o.ynx(32,17),o.YNc(33,x9,2,0,"th",18),o.YNc(34,D9,11,8,"td",15),o.BQk(),o.ynx(35,19),o.YNc(36,T9,2,0,"th",14),o.YNc(37,I9,2,1,"td",15),o.BQk(),o.ynx(38,20),o.YNc(39,S9,2,0,"th",21),o.YNc(40,A9,4,6,"td",15),o.BQk(),o.ynx(41,22),o.YNc(42,M9,2,0,"th",21),o.YNc(43,R9,4,6,"td",15),o.BQk(),o.ynx(44,23),o.YNc(45,k9,2,0,"th",24),o.YNc(46,O9,4,3,"td",15),o.BQk(),o.ynx(47,25),o.YNc(48,P9,2,0,"th",14),o.YNc(49,N9,2,1,"td",15),o.BQk(),o.ynx(50,26),o.YNc(51,F9,2,0,"th",27),o.YNc(52,L9,11,1,"td",15),o.BQk(),o.ynx(53,28),o.YNc(54,B9,2,0,"th",29),o.YNc(55,V9,5,0,"td",15),o.BQk(),o.YNc(56,U9,1,0,"tr",30),o.YNc(57,H9,1,0,"tr",31),o.YNc(58,z9,3,1,"tr",32),o.qZA(),o._UZ(59,"mat-paginator",33),o.qZA()}2&e&&(o.xp6(21),o.Oqu(i.totalProducts),o.xp6(2),o.hij("Total Price: ",i.totlaPriceToPay," L.D"),o.xp6(2),o.Q6J("dataSource",i.dataSource),o.xp6(31),o.Q6J("matHeaderRowDef",i.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",i.displayedColumns),o.xp6(2),o.Q6J("pageSizeOptions",o.DdM(6,j9)))},dependencies:[CO,LA,BA,Oi,OE,Lh,j_,z_,C0,w0,EE,yE,g0,vE,_0,m0,bE,y0,v0,wE,CE,xE,mE,Ku,yA,pE,lm,am,U_,SE,DE,TE,IE,aa,Br,Qa,bo,Ka,kE,ho,u0,c0,V_],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.image-preview[_ngcontent-%COMP%]{width:8rem;height:8rem}.confirmation-container[_ngcontent-%COMP%]{padding:20px;background:white;text-align:center;border-radius:8px;box-shadow:0 4px 8px #0003}.confirmation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 16px}"]}),n})()},{path:"invoices",component:p9}];let G9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[HF.forRoot($9),HF]}),n})(),q9=0;const Z9=o0(class{}),tV="mat-badge-content";let Y9=(()=>{class n extends Z9{get color(){return this._color}set color(e){this._setColor(e),this._color=e}get overlap(){return this._overlap}set overlap(e){this._overlap=mn(e)}get content(){return this._content}set content(e){this._updateRenderedContent(e)}get description(){return this._description}set description(e){this._updateDescription(e)}get hidden(){return this._hidden}set hidden(e){this._hidden=mn(e)}constructor(e,i,r,s,u){super(),this._ngZone=e,this._elementRef=i,this._ariaDescriber=r,this._renderer=s,this._animationMode=u,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=q9++,this._isInitialized=!1,this._interactivityChecker=(0,o.f3M)(oE),this._document=(0,o.f3M)(ne)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){const e=this._renderer.createElement("span"),i="mat-badge-active";return e.setAttribute("id",`mat-badge-content-${this._id}`),e.setAttribute("aria-hidden","true"),e.classList.add(tV),"NoopAnimations"===this._animationMode&&e.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(e),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e.classList.add(i)})}):e.classList.add(i),e}_updateRenderedContent(e){const i=`${e??""}`.trim();this._isInitialized&&i&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=i),this._content=i}_updateDescription(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!e||this._isHostInteractive())&&this._removeInlineDescription(),this._description=e,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,e):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(e){const i=this._elementRef.nativeElement.classList;i.remove(`mat-badge-${this._color}`),e&&i.add(`mat-badge-${e}`)}_clearExistingBadges(){const e=this._elementRef.nativeElement.querySelectorAll(`:scope > .${tV}`);for(const i of Array.from(e))i!==this._badgeElement&&i.remove()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(Vk),o.Y36(o.Qsj),o.Y36(o.QbO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(e,i){2&e&&o.ekj("mat-badge-overlap",i.overlap)("mat-badge-above",i.isAbove())("mat-badge-below",!i.isAbove())("mat-badge-before",!i.isAfter())("mat-badge-after",i.isAfter())("mat-badge-small","small"===i.size)("mat-badge-medium","medium"===i.size)("mat-badge-large","large"===i.size)("mat-badge-hidden",i.hidden||!i.content)("mat-badge-disabled",i.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],position:["matBadgePosition","position"],content:["matBadge","content"],description:["matBadgeDescription","description"],size:["matBadgeSize","size"],hidden:["matBadgeHidden","hidden"]},features:[o.qOj]}),n})(),W9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[$k,Qn,Qn]}),n})();function K9(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",14),o.NdJ("input",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.updateConfig())})("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.config.conversionPrice=r)}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("ngModel",e.config.conversionPrice)}}let Q9=(()=>{class n{constructor(e,i){this.configService=e,this.cartService=i,this.config={conversionPrice:0},this.configID="",this._snackBar=(0,o.f3M)(EO),this.cart=[],this.retrieveCart(),this.configService.getAll().snapshotChanges().pipe((0,Ke.U)(r=>r.map(s=>({id:s.payload.doc.id,...s.payload.doc.data()})))).subscribe(r=>{this.config=r[0],this.configID=r[0].id})}retrieveCart(){this.cartService.getAll().snapshotChanges().pipe((0,Ke.U)(e=>e.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()})))).subscribe(e=>{this.cart=e})}redirectToCart(){}updateConfig(){this.configService.update(this.configID,this.config).then(e=>{this._snackBar.open(`Updated the config to ${this.config.conversionPrice}!`,"Close!")})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(YA),o.Y36(UO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:25,vars:3,consts:[[1,"navbar","navbar-expand","navbar-dark","bg-dark"],["href","#",1,"navbar-brand"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["routerLink","products",1,"nav-link"],["routerLink","to-orders",1,"nav-link"],["routerLink","shipments",1,"nav-link"],["routerLink","invoices",1,"nav-link"],[1,"navbar-nav","ml-auto","d-flex","align-items-center"],[1,"demo-section","mr-3"],["mat-raised-button","","routerLink","/cart",3,"matBadge","matBadgeHidden","click"],[2,"width","7rem"],["matInput","","min","0","type","number",3,"ngModel","input","ngModelChange",4,"ngIf"],[1,"ml-3","mr-3","mt-3"],["matInput","","min","0","type","number",3,"ngModel","input","ngModelChange"]],template:function(e,i){1&e&&(o.TgZ(0,"div")(1,"nav",0)(2,"a",1),o._uU(3,"Pixie Dust"),o.qZA(),o.TgZ(4,"div",2)(5,"li",3)(6,"a",4),o._uU(7,"All Products"),o.qZA()(),o.TgZ(8,"li",3)(9,"a",5),o._uU(10,"To Order"),o.qZA()(),o.TgZ(11,"li",3)(12,"a",6),o._uU(13,"Shipments"),o.qZA()(),o.TgZ(14,"li",3)(15,"a",7),o._uU(16,"Invoices"),o.qZA()()(),o.TgZ(17,"div",8)(18,"div",9)(19,"button",10),o.NdJ("click",function(){return i.redirectToCart()}),o._uU(20," Cart "),o.qZA()(),o.TgZ(21,"mat-form-field",11),o.YNc(22,K9,1,1,"input",12),o.qZA()()(),o.TgZ(23,"div",13),o._UZ(24,"router-outlet"),o.qZA()()),2&e&&(o.xp6(19),o.Q6J("matBadge",i.cart.length)("matBadgeHidden",!1),o.xp6(3),o.Q6J("ngIf",i.config))},dependencies:[Oi,bk,QS,Br,Qa,bo,gu,Ka,w0,j_,Y9,U_],styles:[".container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin:25px auto}"]}),n})();function nV(n){return new o.vHH(3e3,!1)}function dm(n){switch(n.length){case 0:return new hE;case 1:return n[0];default:return new t2(n)}}function iV(n,t,e=new Map,i=new Map){const r=[],s=[];let u=-1,h=null;if(t.forEach(_=>{const b=_.get("offset"),E=b==u,S=E&&h||new Map;_.forEach((O,B)=>{let z=B,q=O;if("offset"!==B)switch(z=n.normalizePropertyName(z,r),q){case Xk:q=e.get(B);break;case Fh:q=i.get(B);break;default:q=n.normalizeStyleValue(B,z,q,r)}S.set(z,q)}),E||s.push(S),h=S,u=b}),r.length)throw function bY(n){return new o.vHH(3502,!1)}();return s}function jO(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&$O(e,"start",n)));break;case"done":n.onDone(()=>i(e&&$O(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&$O(e,"destroy",n)))}}function $O(n,t,e){const s=GO(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),u=n._data;return null!=u&&(s._data=u),s}function GO(n,t,e,i,r="",s=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!u}}function wa(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function rV(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const kY=(()=>typeof document>"u"?null:document.documentElement)();function qO(n){const t=n.parentNode||n.host||null;return t===kY?null:t}let Z_=null,oV=!1;function sV(n,t){for(;t;){if(t===n)return!0;t=qO(t)}return!1}function aV(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let lV=(()=>{class n{validateStyleProperty(e){return function PY(n){Z_||(Z_=function NY(){return typeof document<"u"?document.body:null}()||{},oV=!!Z_.style&&"WebkitAppearance"in Z_.style);let t=!0;return Z_.style&&!function OY(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Z_.style,!t&&oV&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Z_.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return sV(e,i)}getParentElement(e){return qO(e)}query(e,i,r){return aV(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,u,h=[],_){return new hE(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),ZO=(()=>{class n{}return n.NOOP=new lV,n})();const FY=1e3,YO="ng-enter",WA="ng-leave",KA="ng-trigger",QA=".ng-trigger",uV="ng-animating",WO=".ng-animating";function zh(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:KO(parseFloat(t[1]),t[2])}function KO(n,t){return"s"===t?n*FY:n}function JA(n,t,e){return n.hasOwnProperty("duration")?n:function BY(n,t,e){let r,s=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(nV()),{duration:0,delay:0,easing:""};r=KO(parseFloat(h[1]),h[2]);const _=h[3];null!=_&&(s=KO(parseFloat(_),h[4]));const b=h[5];b&&(u=b)}else r=n;if(!e){let h=!1,_=t.length;r<0&&(t.push(function J9(){return new o.vHH(3100,!1)}()),h=!0),s<0&&(t.push(function X9(){return new o.vHH(3101,!1)}()),h=!0),h&&t.splice(_,0,nV())}return{duration:r,delay:s,easing:u}}(n,t,e)}function BE(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function dV(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function hm(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function td(n,t,e){t.forEach((i,r)=>{const s=JO(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function Y_(n,t){t.forEach((e,i)=>{const r=JO(i);n.style[r]=""})}function VE(n){return Array.isArray(n)?1==n.length?n[0]:XL(n):n}const QO=new RegExp("{{\\s*(.+?)\\s*}}","g");function fV(n){let t=[];if("string"==typeof n){let e;for(;e=QO.exec(n);)t.push(e[1]);QO.lastIndex=0}return t}function UE(n,t,e){const i=n.toString(),r=i.replace(QO,(s,u)=>{let h=t[u];return null==h&&(e.push(function tY(n){return new o.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function XA(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const HY=/-+([a-z0-9])/g;function JO(n){return n.replace(HY,(...t)=>t[1].toUpperCase())}function Ca(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function nY(n){return new o.vHH(3004,!1)}()}}function pV(n,t){return window.getComputedStyle(n)[t]}const eM="*";function $Y(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function GY(n,t,e){if(":"==n[0]){const _=function qY(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function gY(n){return new o.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof _)return void t.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function mY(n){return new o.vHH(3015,!1)}()),t;const r=i[1],s=i[2],u=i[3];t.push(mV(r,u));"<"==s[0]&&!(r==eM&&u==eM)&&t.push(mV(u,r))}(i,e,t)):e.push(n),e}const tM=new Set(["true","1"]),nM=new Set(["false","0"]);function mV(n,t){const e=tM.has(n)||nM.has(n),i=tM.has(t)||nM.has(t);return(r,s)=>{let u=n==eM||n==r,h=t==eM||t==s;return!u&&e&&"boolean"==typeof r&&(u=r?tM.has(n):nM.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?tM.has(t):nM.has(t)),u&&h}}const ZY=new RegExp("s*:selfs*,?","g");function XO(n,t,e,i){return new YY(n).build(t,e,i)}class YY{constructor(t){this._driver=t}build(t,e,i){const r=new QY(e);return this._resetContextStyleTimingState(r),Ca(this,VE(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function rY(){return new o.vHH(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const _=h,b=_.name;b.toString().split(/\s*,\s*/).forEach(E=>{_.name=E,s.push(this.visitState(_,e))}),_.name=b}else if(1==h.type){const _=this.visitTransition(h,e);i+=_.queryCount,r+=_.depCount,u.push(_)}else e.errors.push(function oY(){return new o.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(_=>{fV(_).forEach(b=>{u.hasOwnProperty(b)||s.add(b)})})}),s.size&&(XA(s.values()),e.errors.push(function sY(n,t){return new o.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ca(this,VE(t.animation),e);return{type:1,matchers:$Y(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:W_(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ca(this,i,e)),options:W_(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(u=>{e.currentTime=i;const h=Ca(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:s,options:W_(t.options)}}visitAnimate(t,e){const i=function XY(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return eP(JA(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=eP(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=JA(e,t);return eP(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:sn({});if(5==s.type)r=this.visitKeyframes(s,e);else{let u=t.styles,h=!1;if(!u){h=!0;const b={};i.easing&&(b.easing=i.easing),u=sn(b)}e.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,e);_.isEmptyStep=h,r=_}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of r)"string"==typeof h?h===Fh?i.push(h):e.errors.push(new o.vHH(3002,!1)):i.push(dV(h));let s=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!s))for(let _ of h.values())if(_.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:u,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,_)=>{const b=e.collectedStyles.get(e.currentQuerySelector),E=b.get(_);let S=!0;E&&(s!=r&&s>=E.startTime&&r<=E.endTime&&(e.errors.push(function lY(n,t,e,i,r){return new o.vHH(3010,!1)}()),S=!1),s=E.startTime),S&&b.set(_,{startTime:s,endTime:r}),e.options&&function UY(n,t,e){const i=t.params||{},r=fV(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function eY(n){return new o.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function cY(){return new o.vHH(3011,!1)}()),i;let s=0;const u=[];let h=!1,_=!1,b=0;const E=t.steps.map(Re=>{const We=this._makeStyleAst(Re,e);let Pe=null!=We.offset?We.offset:function JY(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(We.styles),Ge=0;return null!=Pe&&(s++,Ge=We.offset=Pe),_=_||Ge<0||Ge>1,h=h||Ge<b,b=Ge,u.push(Ge),We});_&&e.errors.push(function uY(){return new o.vHH(3012,!1)}()),h&&e.errors.push(function dY(){return new o.vHH(3200,!1)}());const S=t.steps.length;let O=0;s>0&&s<S?e.errors.push(function hY(){return new o.vHH(3202,!1)}()):0==s&&(O=1/(S-1));const B=S-1,z=e.currentTime,q=e.currentAnimateTimings,W=q.duration;return E.forEach((Re,We)=>{const Pe=O>0?We==B?1:O*We:u[We],Ge=Pe*W;e.currentTime=z+q.delay+Ge,q.duration=Ge,this._validateStyleAst(Re,e),Re.offset=Pe,i.styles.push(Re)}),i}visitReference(t,e){return{type:8,animation:Ca(this,VE(t.animation),e),options:W_(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:W_(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:W_(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,u]=function WY(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(ZY,"")),n=n.replace(/@\*/g,QA).replace(/@\w+/g,e=>QA+"-"+e.slice(1)).replace(/:animating/g,WO),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,wa(e.collectedStyles,e.currentQuerySelector,new Map);const h=Ca(this,VE(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:W_(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function fY(){return new o.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:JA(t.timings,e.errors,!0);return{type:12,animation:Ca(this,VE(t.animation),e),timings:i,options:null}}}class QY{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function W_(n){return n?(n=BE(n)).params&&(n.params=function KY(n){return n?BE(n):null}(n.params)):n={},n}function eP(n,t,e){return{duration:n,delay:t,easing:e}}function tP(n,t,e,i,r,s,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:u,subTimeline:h}}class iM{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const nW=new RegExp(":enter","g"),rW=new RegExp(":leave","g");function nP(n,t,e,i,r,s=new Map,u=new Map,h,_,b=[]){return(new oW).buildKeyframes(n,t,e,i,r,s,u,h,_,b)}class oW{buildKeyframes(t,e,i,r,s,u,h,_,b,E=[]){b=b||new iM;const S=new iP(t,e,b,r,s,E,[]);S.options=_;const O=_.delay?zh(_.delay):0;S.currentTimeline.delayNextStep(O),S.currentTimeline.setStyles([u],null,S.errors,_),Ca(this,i,S);const B=S.timelines.filter(z=>z.containsAnimation());if(B.length&&h.size){let z;for(let q=B.length-1;q>=0;q--){const W=B[q];if(W.element===e){z=W;break}}z&&!z.allowOnlyTimelineStyles()&&z.setStyles([h],null,S.errors,_)}return B.length?B.map(z=>z.buildKeyframes()):[tP(e,[],[],[],0,O,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);s!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const u="number"==typeof s?s:zh(UE(s,r?.params??{},e.errors));i.delayNextStep(u)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const u=null!=i.duration?zh(i.duration):null,h=null!=i.delay?zh(i.delay):null;return 0!==u&&t.forEach(_=>{const b=e.appendInstructionToTimeline(_,u,h);s=Math.max(s,b.duration+b.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Ca(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=rM);const u=zh(s.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Ca(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?zh(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);s&&h.delayNextStep(s),Ca(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return JA(e.params?UE(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(_=>{h.forwardTime((_.offset||0)*s),h.setStyles(_.styles,_.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?zh(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=rM);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let _=null;h.forEach((b,E)=>{e.currentQueryIndex=E;const S=e.createSubContext(t.options,b);s&&S.delayNextStep(s),b===e.element&&(_=S.currentTimeline),Ca(this,t.animation,S),S.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,S.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,u=Math.abs(s.duration),h=u*(e.currentQueryTotal-1);let _=u*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":_=h-_;break;case"full":_=i.currentStaggerTime}const E=e.currentTimeline;_&&E.delayNextStep(_);const S=E.currentTime;Ca(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const rM={};class iP{constructor(t,e,i,r,s,u,h,_){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rM,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new oM(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=zh(i.duration)),null!=i.delay&&(r.delay=zh(i.delay));const s=i.params;if(s){let u=r.params;u||(u=this.options.params={}),Object.keys(s).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=UE(s[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new iP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=rM,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new sW(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(nW,"."+this._enterClassName)).replace(rW,"."+this._leaveClassName);let b=this._driver.query(this.element,t,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),h.push(...b)}return!s&&0==h.length&&u.push(function pY(n){return new o.vHH(3014,!1)}()),h}}class oM{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new oM(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Fh),this._currentKeyframe.set(e,Fh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},u=function aW(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,Fh)}else hm(r,e)}),e}(t,this._globalTimelineStyles);for(let[h,_]of u){const b=UE(_,s,i);this._pendingStyles.set(h,b),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Fh),this._updateStyle(h,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,_)=>{const b=hm(h,new Map,this._backFill);b.forEach((E,S)=>{E===Xk?t.add(S):E===Fh&&e.add(S)}),i||b.set("offset",_/this.duration),r.push(b)});const s=t.size?XA(t.values()):[],u=e.size?XA(e.values()):[];if(i){const h=r[0],_=new Map(h);h.set("offset",0),_.set("offset",1),r=[h,_]}return tP(this.element,r,s,u,this.duration,this.startTime,this.easing,!1)}}class sW extends oM{constructor(t,e,i,r,s,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],u=i+e,h=e/u,_=hm(t[0]);_.set("offset",0),s.push(_);const b=hm(t[0]);b.set("offset",yV(h)),s.push(b);const E=t.length-1;for(let S=1;S<=E;S++){let O=hm(t[S]);const B=O.get("offset");O.set("offset",yV((e+B*i)/u)),s.push(O)}i=u,e=0,r="",t=s}return tP(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function yV(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class rP{}const lW=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class cW extends rP{normalizePropertyName(t,e){return JO(t)}normalizeStyleValue(t,e,i,r){let s="";const u=i.toString().trim();if(lW.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function iY(n,t){return new o.vHH(3005,!1)}())}return u+s}}function vV(n,t,e,i,r,s,u,h,_,b,E,S,O){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:u,timelines:h,queriedElements:_,preStyleProps:b,postStyleProps:E,totalTime:S,errors:O}}const oP={};class bV{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function uW(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,u,h,_,b,E){const S=[],O=this.ast.options&&this.ast.options.params||oP,z=this.buildStyles(i,h&&h.params||oP,S),q=_&&_.params||oP,W=this.buildStyles(r,q,S),Re=new Set,We=new Map,Pe=new Map,Ge="void"===r,It={params:dW(q,O),delay:this.ast.options?.delay},Pt=E?[]:nP(t,e,this.ast.animation,s,u,z,W,It,b,S);let gn=0;if(Pt.forEach(Ko=>{gn=Math.max(Ko.duration+Ko.delay,gn)}),S.length)return vV(e,this._triggerName,i,r,Ge,z,W,[],[],We,Pe,gn,S);Pt.forEach(Ko=>{const jh=Ko.element,NV=wa(We,jh,new Set);Ko.preStyleProps.forEach(K_=>NV.add(K_));const zE=wa(Pe,jh,new Set);Ko.postStyleProps.forEach(K_=>zE.add(K_)),jh!==e&&Re.add(jh)});const Gi=XA(Re.values());return vV(e,this._triggerName,i,r,Ge,z,W,Pt,Gi,We,Pe,gn)}}function dW(n,t){const e=BE(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class hW{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=BE(this.defaultParams);return Object.keys(t).forEach(s=>{const u=t[s];null!==u&&(r[s]=u)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((u,h)=>{u&&(u=UE(u,r,e));const _=this.normalizer.normalizePropertyName(h,e);u=this.normalizer.normalizeStyleValue(h,_,u,e),i.set(h,u)})}),i}}class pW{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new hW(r.style,r.options&&r.options.params||{},i))}),wV(this.states,"true","1"),wV(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new bV(t,r,this.states))}),this.fallbackTransition=function mW(n,t,e){return new bV(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function wV(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const gW=new iM;class _W{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=XO(this._driver,e,i,[]);if(i.length)throw function wY(n){return new o.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=iV(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let u;const h=new Map;if(s?(u=nP(this._driver,e,s,YO,WA,new Map,new Map,i,gW,r),u.forEach(E=>{const S=wa(h,E.element,new Map);E.postStyleProps.forEach(O=>S.set(O,null))})):(r.push(function CY(){return new o.vHH(3300,!1)}()),u=[]),r.length)throw function xY(n){return new o.vHH(3504,!1)}();h.forEach((E,S)=>{E.forEach((O,B)=>{E.set(B,this._driver.computeStyle(S,B,Fh))})});const b=dm(u.map(E=>{const S=h.get(E.element);return this._buildPlayer(E,new Map,S)}));return this._playersById.set(t,b),b.onDestroy(()=>this.destroy(t)),this.players.push(b),b}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function EY(n){return new o.vHH(3301,!1)}();return e}listen(t,e,i,r){const s=GO(e,"","","");return jO(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const CV="ng-animate-queued",sP="ng-animate-disabled",CW=[],xV={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Cl="__ng_removed";class aP{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function IW(n){return n??null}(i?t.value:t),i){const s=BE(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const HE="void",lP=new aP(HE);class EW{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,xl(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function DY(n,t){return new o.vHH(3302,!1)}();if(null==i||0==i.length)throw function TY(n){return new o.vHH(3303,!1)}();if(!function SW(n){return"start"==n||"done"==n}(i))throw function IY(n,t){return new o.vHH(3400,!1)}();const s=wa(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};s.push(u);const h=wa(this._engine.statesByElement,t,new Map);return h.has(e)||(xl(t,KA),xl(t,KA+"-"+e),h.set(e,lP)),()=>{this._engine.afterFlush(()=>{const _=s.indexOf(u);_>=0&&s.splice(_,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function SY(n){return new o.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),u=new cP(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(xl(t,KA),xl(t,KA+"-"+e),this._engine.statesByElement.set(t,h=new Map));let _=h.get(e);const b=new aP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),h.set(e,b),_||(_=lP),b.value!==HE&&_.value===b.value){if(!function RW(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(_.params,b.params)){const q=[],W=s.matchStyles(_.value,_.params,q),Re=s.matchStyles(b.value,b.params,q);q.length?this._engine.reportError(q):this._engine.afterFlush(()=>{Y_(t,W),td(t,Re)})}return}const O=wa(this._engine.playersByElement,t,[]);O.forEach(q=>{q.namespaceId==this.id&&q.triggerName==e&&q.queued&&q.destroy()});let B=s.matchTransition(_.value,b.value,t,b.params),z=!1;if(!B){if(!r)return;B=s.fallbackTransition,z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:B,fromState:_,toState:b,player:u,isFallbackTransition:z}),z||(xl(t,CV),u.onStart(()=>{S0(t,CV)})),u.onDone(()=>{let q=this.players.indexOf(u);q>=0&&this.players.splice(q,1);const W=this._engine.playersByElement.get(t);if(W){let Re=W.indexOf(u);Re>=0&&W.splice(Re,1)}}),this.players.push(u),O.push(u),u}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,QA,!0);i.forEach(r=>{if(r[Cl])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),u=new Map;if(s){const h=[];if(s.forEach((_,b)=>{if(u.set(b,_.value),this._triggers.has(b)){const E=this.trigger(t,b,HE,r);E&&h.push(E)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&dm(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const u=s.name;if(r.has(u))return;r.add(u);const _=this._triggers.get(u).fallbackTransition,b=i.get(u)||lP,E=new aP(HE),S=new cP(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:_,fromState:b,toState:E,player:S,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Cl];(!s||s===xV)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){xl(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,u=this._elementListeners.get(s);u&&u.forEach(h=>{if(h.name==i.triggerName){const _=GO(s,i.triggerName,i.fromState.value,i.toState.value);_._data=t,jO(i.player,h.phase,_,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class DW{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new EW(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(e);for(;h;){const _=r.get(h);if(_){const b=i.indexOf(_);i.splice(b+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(sM(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!sM(e))return;const s=e[Cl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),xl(t,sP)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),S0(t,sP))}removeNode(t,e,i){if(sM(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Cl]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return sM(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,QA,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,WO,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return dm(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Cl];if(e&&e.setForRemoval){if(t[Cl]=xV,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(sP)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)xl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?dm(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function AY(n){return new o.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new iM,r=[],s=new Map,u=[],h=new Map,_=new Map,b=new Map,E=new Set;this.disabledNodes.forEach(Ct=>{E.add(Ct);const Lt=this.driver.query(Ct,".ng-animate-queued",!0);for(let jt=0;jt<Lt.length;jt++)E.add(Lt[jt])});const S=this.bodyNode,O=Array.from(this.statesByElement.keys()),B=TV(O,this.collectedEnterElements),z=new Map;let q=0;B.forEach((Ct,Lt)=>{const jt=YO+q++;z.set(Lt,jt),Ct.forEach(En=>xl(En,jt))});const W=[],Re=new Set,We=new Set;for(let Ct=0;Ct<this.collectedLeaveElements.length;Ct++){const Lt=this.collectedLeaveElements[Ct],jt=Lt[Cl];jt&&jt.setForRemoval&&(W.push(Lt),Re.add(Lt),jt.hasAnimation?this.driver.query(Lt,".ng-star-inserted",!0).forEach(En=>Re.add(En)):We.add(Lt))}const Pe=new Map,Ge=TV(O,Array.from(Re));Ge.forEach((Ct,Lt)=>{const jt=WA+q++;Pe.set(Lt,jt),Ct.forEach(En=>xl(En,jt))}),t.push(()=>{B.forEach((Ct,Lt)=>{const jt=z.get(Lt);Ct.forEach(En=>S0(En,jt))}),Ge.forEach((Ct,Lt)=>{const jt=Pe.get(Lt);Ct.forEach(En=>S0(En,jt))}),W.forEach(Ct=>{this.processLeaveNode(Ct)})});const It=[],Pt=[];for(let Ct=this._namespaceList.length-1;Ct>=0;Ct--)this._namespaceList[Ct].drainQueuedTransitions(e).forEach(jt=>{const En=jt.player,uo=jt.element;if(It.push(En),this.collectedEnterElements.length){const Qo=uo[Cl];if(Qo&&Qo.setForMove){if(Qo.previousTriggersValues&&Qo.previousTriggersValues.has(jt.triggerName)){const Q_=Qo.previousTriggersValues.get(jt.triggerName),El=this.statesByElement.get(jt.element);if(El&&El.has(jt.triggerName)){const cM=El.get(jt.triggerName);cM.value=Q_,El.set(jt.triggerName,cM)}}return void En.destroy()}}const nd=!S||!this.driver.containsElement(S,uo),xa=Pe.get(uo),fm=z.get(uo),qi=this._buildInstruction(jt,i,fm,xa,nd);if(qi.errors&&qi.errors.length)return void Pt.push(qi);if(nd)return En.onStart(()=>Y_(uo,qi.fromStyles)),En.onDestroy(()=>td(uo,qi.toStyles)),void r.push(En);if(jt.isFallbackTransition)return En.onStart(()=>Y_(uo,qi.fromStyles)),En.onDestroy(()=>td(uo,qi.toStyles)),void r.push(En);const BV=[];qi.timelines.forEach(Qo=>{Qo.stretchStartingKeyframe=!0,this.disabledNodes.has(Qo.element)||BV.push(Qo)}),qi.timelines=BV,i.append(uo,qi.timelines),u.push({instruction:qi,player:En,element:uo}),qi.queriedElements.forEach(Qo=>wa(h,Qo,[]).push(En)),qi.preStyleProps.forEach((Qo,Q_)=>{if(Qo.size){let El=_.get(Q_);El||_.set(Q_,El=new Set),Qo.forEach((cM,hP)=>El.add(hP))}}),qi.postStyleProps.forEach((Qo,Q_)=>{let El=b.get(Q_);El||b.set(Q_,El=new Set),Qo.forEach((cM,hP)=>El.add(hP))})});if(Pt.length){const Ct=[];Pt.forEach(Lt=>{Ct.push(function MY(n,t){return new o.vHH(3505,!1)}())}),It.forEach(Lt=>Lt.destroy()),this.reportError(Ct)}const gn=new Map,Gi=new Map;u.forEach(Ct=>{const Lt=Ct.element;i.has(Lt)&&(Gi.set(Lt,Lt),this._beforeAnimationBuild(Ct.player.namespaceId,Ct.instruction,gn))}),r.forEach(Ct=>{const Lt=Ct.element;this._getPreviousPlayers(Lt,!1,Ct.namespaceId,Ct.triggerName,null).forEach(En=>{wa(gn,Lt,[]).push(En),En.destroy()})});const Ko=W.filter(Ct=>SV(Ct,_,b)),jh=new Map;DV(jh,this.driver,We,b,Fh).forEach(Ct=>{SV(Ct,_,b)&&Ko.push(Ct)});const zE=new Map;B.forEach((Ct,Lt)=>{DV(zE,this.driver,new Set(Ct),_,Xk)}),Ko.forEach(Ct=>{const Lt=jh.get(Ct),jt=zE.get(Ct);jh.set(Ct,new Map([...Lt?.entries()??[],...jt?.entries()??[]]))});const K_=[],FV=[],LV={};u.forEach(Ct=>{const{element:Lt,player:jt,instruction:En}=Ct;if(i.has(Lt)){if(E.has(Lt))return jt.onDestroy(()=>td(Lt,En.toStyles)),jt.disabled=!0,jt.overrideTotalTime(En.totalTime),void r.push(jt);let uo=LV;if(Gi.size>1){let xa=Lt;const fm=[];for(;xa=xa.parentNode;){const qi=Gi.get(xa);if(qi){uo=qi;break}fm.push(xa)}fm.forEach(qi=>Gi.set(qi,uo))}const nd=this._buildAnimation(jt.namespaceId,En,gn,s,zE,jh);if(jt.setRealPlayer(nd),uo===LV)K_.push(jt);else{const xa=this.playersByElement.get(uo);xa&&xa.length&&(jt.parentPlayer=dm(xa)),r.push(jt)}}else Y_(Lt,En.fromStyles),jt.onDestroy(()=>td(Lt,En.toStyles)),FV.push(jt),E.has(Lt)&&r.push(jt)}),FV.forEach(Ct=>{const Lt=s.get(Ct.element);if(Lt&&Lt.length){const jt=dm(Lt);Ct.setRealPlayer(jt)}}),r.forEach(Ct=>{Ct.parentPlayer?Ct.syncPlayerEvents(Ct.parentPlayer):Ct.destroy()});for(let Ct=0;Ct<W.length;Ct++){const Lt=W[Ct],jt=Lt[Cl];if(S0(Lt,WA),jt&&jt.hasAnimation)continue;let En=[];if(h.size){let nd=h.get(Lt);nd&&nd.length&&En.push(...nd);let xa=this.driver.query(Lt,WO,!0);for(let fm=0;fm<xa.length;fm++){let qi=h.get(xa[fm]);qi&&qi.length&&En.push(...qi)}}const uo=En.filter(nd=>!nd.destroyed);uo.length?AW(this,Lt,uo):this.processLeaveNode(Lt)}return W.length=0,K_.forEach(Ct=>{this.players.push(Ct),Ct.onDone(()=>{Ct.destroy();const Lt=this.players.indexOf(Ct);this.players.splice(Lt,1)}),Ct.play()}),K_}elementContainsData(t,e){let i=!1;const r=e[Cl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const _=!s||s==HE;h.forEach(b=>{b.queued||!_&&b.triggerName!=r||u.push(b)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const s=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const b=_.element,E=b!==s,S=wa(i,b,[]);this._getPreviousPlayers(b,E,u,h,e.toState).forEach(B=>{const z=B.getRealPlayer();z.beforeDestroy&&z.beforeDestroy(),B.destroy(),S.push(B)})}Y_(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,u){const h=e.triggerName,_=e.element,b=[],E=new Set,S=new Set,O=e.timelines.map(z=>{const q=z.element;E.add(q);const W=q[Cl];if(W&&W.removedBeforeQueried)return new hE(z.duration,z.delay);const Re=q!==_,We=function MW(n){const t=[];return IV(n,t),t}((i.get(q)||CW).map(gn=>gn.getRealPlayer())).filter(gn=>!!gn.element&&gn.element===q),Pe=s.get(q),Ge=u.get(q),It=iV(this._normalizer,z.keyframes,Pe,Ge),Pt=this._buildPlayer(z,It,We);if(z.subTimeline&&r&&S.add(q),Re){const gn=new cP(t,h,q);gn.setRealPlayer(Pt),b.push(gn)}return Pt});b.forEach(z=>{wa(this.playersByQueriedElement,z.element,[]).push(z),z.onDone(()=>function TW(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,z.element,z))}),E.forEach(z=>xl(z,uV));const B=dm(O);return B.onDestroy(()=>{E.forEach(z=>S0(z,uV)),td(_,e.toStyles)}),S.forEach(z=>{wa(r,z,[]).push(B)}),B}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new hE(t.duration,t.delay)}}class cP{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new hE,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>jO(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){wa(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function sM(n){return n&&1===n.nodeType}function EV(n,t){const e=n.style.display;return n.style.display=t??"none",e}function DV(n,t,e,i,r){const s=[];e.forEach(_=>s.push(EV(_)));const u=[];i.forEach((_,b)=>{const E=new Map;_.forEach(S=>{const O=t.computeStyle(b,S,r);E.set(S,O),(!O||0==O.length)&&(b[Cl]=xW,u.push(b))}),n.set(b,E)});let h=0;return e.forEach(_=>EV(_,s[h++])),u}function TV(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const i=1,r=new Set(t),s=new Map;function u(h){if(!h)return i;let _=s.get(h);if(_)return _;const b=h.parentNode;return _=e.has(b)?b:r.has(b)?i:u(b),s.set(h,_),_}return t.forEach(h=>{const _=u(h);_!==i&&e.get(_).push(h)}),e}function xl(n,t){n.classList?.add(t)}function S0(n,t){n.classList?.remove(t)}function AW(n,t,e){dm(e).onDone(()=>n.processLeaveNode(t))}function IV(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof t2?IV(i.players,t):t.push(i)}}function SV(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class aM{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new DW(t,e,i),this._timelineEngine=new _W(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const _=[],E=XO(this._driver,s,_,[]);if(_.length)throw function vY(n,t){return new o.vHH(3404,!1)}();h=function fW(n,t,e){return new pW(n,t,e)}(r,E,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,u]=rV(i);this._timelineEngine.command(s,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[u,h]=rV(i);return this._timelineEngine.listen(u,e,h,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let OW=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&td(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(td(this._element,this._initialStyles),this._endStyles&&(td(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Y_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Y_(this._element,this._endStyles),this._endStyles=null),td(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function uP(n){let t=null;return n.forEach((e,i)=>{(function PW(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class AV{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:pV(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class NW{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return sV(t,e)}getParentElement(t){return qO(t)}query(t,e,i){return aV(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(_.easing=s);const b=new Map,E=u.filter(B=>B instanceof AV);(function zY(n,t){return 0===n||0===t})(i,r)&&E.forEach(B=>{B.currentSnapshot.forEach((z,q)=>b.set(q,z))});let S=function VY(n){return n.length?n[0]instanceof Map?n:n.map(t=>dV(t)):[]}(e).map(B=>hm(B));S=function jY(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,u)=>{i.has(u)||r.push(u),i.set(u,s)}),r.length)for(let s=1;s<t.length;s++){let u=t[s];r.forEach(h=>u.set(h,pV(n,h)))}}return t}(t,S,b);const O=function kW(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=uP(t[0]),t.length>1&&(i=uP(t[t.length-1]))):t instanceof Map&&(e=uP(t)),e||i?new OW(n,e,i):null}(t,S);return new AV(t,S,_,O)}}let FW=(()=>{class n extends QL{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?XL(e):e;return MV(this._renderer,null,i,"register",[r]),new LW(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(ne))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class LW extends uj{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new BW(this._id,t,e||{},this._renderer)}}class BW{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return MV(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function MV(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const RV="@.disabled";let VW=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,u)=>{const h=u?.parentNode(s);h&&u.removeChild(h,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let E=this._rendererCache.get(s);return E||(E=new kV("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,E)),E}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const _=E=>{Array.isArray(E)?E.forEach(_):this.engine.registerTrigger(u,h,e,E.name,E)};return i.data.animation.forEach(_),new UW(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,h]=s;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(aM),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class kV{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==RV?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class UW extends kV{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==RV?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function HW(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),u="";return"@"!=s.charAt(0)&&([s,u]=function zW(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let jW=(()=>{class n extends aM{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ne),o.LFG(ZO),o.LFG(rP),o.LFG(o.z2F))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const OV=[{provide:QL,useClass:FW},{provide:rP,useFactory:function $W(){return new cW}},{provide:aM,useClass:jW},{provide:o.FYo,useFactory:function GW(n,t,e){return new VW(n,t,e)},deps:[$c,aM,o.R0b]}],dP=[{provide:ZO,useFactory:()=>new NW},{provide:o.QbO,useValue:"BrowserAnimations"},...OV],PV=[{provide:ZO,useClass:lV},{provide:o.QbO,useValue:"NoopAnimations"},...OV];let qW=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?PV:dP}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:dP,imports:[Ms]}),n})(),ZW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[Q9]}),n.\u0275inj=o.cJS({providers:[cG()],imports:[Ms,G9,aa,C0,W9,oB,am,Lh,er.hO.initializeApp(I3_firebase),T3,qW]}),n})();hf().bootstrapModule(ZW).catch(n=>console.error(n))},1135:(pt,Ce,P)=>{P.d(Ce,{X:()=>K});var o=P(7579);class K extends o.x{constructor(ie){super(),this._value=ie}get value(){return this.getValue()}_subscribe(ie){const se=super._subscribe(ie);return!se.closed&&ie.next(this._value),se}getValue(){const{hasError:ie,thrownError:se,_value:ne}=this;if(ie)throw se;return this._throwIfClosed(),ne}next(ie){super.next(this._value=ie)}}},9751:(pt,Ce,P)=>{P.d(Ce,{y:()=>Le});var o=P(930),K=P(727),N=P(8822),ie=P(9635),se=P(2416),ne=P(576),_e=P(2806);let Le=(()=>{class te{constructor(Te){Te&&(this._subscribe=Te)}lift(Te){const tt=new te;return tt.source=this,tt.operator=Te,tt}subscribe(Te,tt,ke){const Ye=function $(te){return te&&te instanceof o.Lv||function U(te){return te&&(0,ne.m)(te.next)&&(0,ne.m)(te.error)&&(0,ne.m)(te.complete)}(te)&&(0,K.Nn)(te)}(Te)?Te:new o.Hp(Te,tt,ke);return(0,_e.x)(()=>{const{operator:Ne,source:xt}=this;Ye.add(Ne?Ne.call(Ye,xt):xt?this._subscribe(Ye):this._trySubscribe(Ye))}),Ye}_trySubscribe(Te){try{return this._subscribe(Te)}catch(tt){Te.error(tt)}}forEach(Te,tt){return new(tt=pe(tt))((ke,Ye)=>{const Ne=new o.Hp({next:xt=>{try{Te(xt)}catch(_t){Ye(_t),Ne.unsubscribe()}},error:Ye,complete:ke});this.subscribe(Ne)})}_subscribe(Te){var tt;return null===(tt=this.source)||void 0===tt?void 0:tt.subscribe(Te)}[N.L](){return this}pipe(...Te){return(0,ie.U)(Te)(this)}toPromise(Te){return new(Te=pe(Te))((tt,ke)=>{let Ye;this.subscribe(Ne=>Ye=Ne,Ne=>ke(Ne),()=>tt(Ye))})}}return te.create=Ve=>new te(Ve),te})();function pe(te){var Ve;return null!==(Ve=te??se.config.Promise)&&void 0!==Ve?Ve:Promise}},7579:(pt,Ce,P)=>{P.d(Ce,{x:()=>_e});var o=P(9751),K=P(727);const ie=(0,P(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=P(8737),ne=P(2806);let _e=(()=>{class pe extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const te=new Le(this,this);return te.operator=$,te}_throwIfClosed(){if(this.closed)throw new ie}next($){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next($)}})}error($){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:te}=this;for(;te.length;)te.shift().error($)}})}complete(){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:te,isStopped:Ve,observers:Te}=this;return te||Ve?K.Lc:(this.currentObservers=null,Te.push($),new K.w0(()=>{this.currentObservers=null,(0,se.P)(Te,$)}))}_checkFinalizedStatuses($){const{hasError:te,thrownError:Ve,isStopped:Te}=this;te?$.error(Ve):Te&&$.complete()}asObservable(){const $=new o.y;return $.source=this,$}}return pe.create=(U,$)=>new Le(U,$),pe})();class Le extends _e{constructor(U,$){super(),this.destination=U,this.source=$}next(U){var $,te;null===(te=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===te||te.call($,U)}error(U){var $,te;null===(te=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===te||te.call($,U)}complete(){var U,$;null===($=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===$||$.call(U)}_subscribe(U){var $,te;return null!==(te=null===($=this.source)||void 0===$?void 0:$.subscribe(U))&&void 0!==te?te:K.Lc}}},930:(pt,Ce,P)=>{P.d(Ce,{Hp:()=>ke,Lv:()=>te});var o=P(576),K=P(727),N=P(2416),ie=P(7849),se=P(5032);const ne=pe("C",void 0,void 0);function pe(oe,ye,X){return{kind:oe,value:ye,error:X}}var U=P(3410),$=P(2806);class te extends K.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,K.Nn)(ye)&&ye.add(this)):this.destination=_t}static create(ye,X,me){return new ke(ye,X,me)}next(ye){this.isStopped?xt(function Le(oe){return pe("N",oe,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?xt(function _e(oe){return pe("E",void 0,oe)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?xt(ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Te(oe,ye){return Ve.call(oe,ye)}class tt{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:X}=this;if(X.next)try{X.next(ye)}catch(me){Ye(me)}}error(ye){const{partialObserver:X}=this;if(X.error)try{X.error(ye)}catch(me){Ye(me)}else Ye(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(X){Ye(X)}}}class ke extends te{constructor(ye,X,me){let Se;if(super(),(0,o.m)(ye)||!ye)Se={next:ye??void 0,error:X??void 0,complete:me??void 0};else{let Ue;this&&N.config.useDeprecatedNextContext?(Ue=Object.create(ye),Ue.unsubscribe=()=>this.unsubscribe(),Se={next:ye.next&&Te(ye.next,Ue),error:ye.error&&Te(ye.error,Ue),complete:ye.complete&&Te(ye.complete,Ue)}):Se=ye}this.destination=new tt(Se)}}function Ye(oe){N.config.useDeprecatedSynchronousErrorHandling?(0,$.O)(oe):(0,ie.h)(oe)}function xt(oe,ye){const{onStoppedNotification:X}=N.config;X&&U.z.setTimeout(()=>X(oe,ye))}const _t={closed:!0,next:se.Z,error:function Ne(oe){throw oe},complete:se.Z}},727:(pt,Ce,P)=>{P.d(Ce,{Lc:()=>ne,w0:()=>se,Nn:()=>_e});var o=P(576);const N=(0,P(3888).d)(pe=>function($){pe(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((te,Ve)=>`${Ve+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ie=P(8737);class se{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Te of $)Te.remove(this);else $.remove(this);const{initialTeardown:te}=this;if((0,o.m)(te))try{te()}catch(Te){U=Te instanceof N?Te.errors:[Te]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const Te of Ve)try{Le(Te)}catch(tt){U=U??[],tt instanceof N?U=[...U,...tt.errors]:U.push(tt)}}if(U)throw new N(U)}}add(U){var $;if(U&&U!==this)if(this.closed)Le(U);else{if(U instanceof se){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(U)}}_hasParent(U){const{_parentage:$}=this;return $===U||Array.isArray($)&&$.includes(U)}_addParent(U){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(U),$):$?[$,U]:U}_removeParent(U){const{_parentage:$}=this;$===U?this._parentage=null:Array.isArray($)&&(0,ie.P)($,U)}remove(U){const{_finalizers:$}=this;$&&(0,ie.P)($,U),U instanceof se&&U._removeParent(this)}}se.EMPTY=(()=>{const pe=new se;return pe.closed=!0,pe})();const ne=se.EMPTY;function _e(pe){return pe instanceof se||pe&&"closed"in pe&&(0,o.m)(pe.remove)&&(0,o.m)(pe.add)&&(0,o.m)(pe.unsubscribe)}function Le(pe){(0,o.m)(pe)?pe():pe.unsubscribe()}},2416:(pt,Ce,P)=>{P.d(Ce,{config:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(pt,Ce,P)=>{P.d(Ce,{E:()=>K});const K=new(P(9751).y)(se=>se.complete())},8996:(pt,Ce,P)=>{P.d(Ce,{D:()=>ye});var o=P(8421),K=P(5363),N=P(9468),ne=P(9751),Le=P(2202),pe=P(576),U=P(9672);function te(X,me){if(!X)throw new Error("Iterable cannot be null");return new ne.y(Se=>{(0,U.f)(Se,me,()=>{const Ue=X[Symbol.asyncIterator]();(0,U.f)(Se,me,()=>{Ue.next().then(le=>{le.done?Se.complete():Se.next(le.value)})},0,!0)})})}var Ve=P(3670),Te=P(8239),tt=P(1144),ke=P(6495),Ye=P(2206),Ne=P(4532),xt=P(3260);function ye(X,me){return me?function oe(X,me){if(null!=X){if((0,Ve.c)(X))return function ie(X,me){return(0,o.Xf)(X).pipe((0,N.R)(me),(0,K.Q)(me))}(X,me);if((0,tt.z)(X))return function _e(X,me){return new ne.y(Se=>{let Ue=0;return me.schedule(function(){Ue===X.length?Se.complete():(Se.next(X[Ue++]),Se.closed||this.schedule())})})}(X,me);if((0,Te.t)(X))return function se(X,me){return(0,o.Xf)(X).pipe((0,N.R)(me),(0,K.Q)(me))}(X,me);if((0,Ye.D)(X))return te(X,me);if((0,ke.T)(X))return function $(X,me){return new ne.y(Se=>{let Ue;return(0,U.f)(Se,me,()=>{Ue=X[Le.h](),(0,U.f)(Se,me,()=>{let le,$e;try{({value:le,done:$e}=Ue.next())}catch(Qt){return void Se.error(Qt)}$e?Se.complete():Se.next(le)},0,!0)}),()=>(0,pe.m)(Ue?.return)&&Ue.return()})}(X,me);if((0,xt.L)(X))return function _t(X,me){return te((0,xt.Q)(X),me)}(X,me)}throw(0,Ne.z)(X)}(X,me):(0,o.Xf)(X)}},8421:(pt,Ce,P)=>{P.d(Ce,{Xf:()=>Ve});var o=P(7582),K=P(1144),N=P(8239),ie=P(9751),se=P(3670),ne=P(2206),_e=P(4532),Le=P(6495),pe=P(3260),U=P(576),$=P(7849),te=P(8822);function Ve(oe){if(oe instanceof ie.y)return oe;if(null!=oe){if((0,se.c)(oe))return function Te(oe){return new ie.y(ye=>{const X=oe[te.L]();if((0,U.m)(X.subscribe))return X.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(oe);if((0,K.z)(oe))return function tt(oe){return new ie.y(ye=>{for(let X=0;X<oe.length&&!ye.closed;X++)ye.next(oe[X]);ye.complete()})}(oe);if((0,N.t)(oe))return function ke(oe){return new ie.y(ye=>{oe.then(X=>{ye.closed||(ye.next(X),ye.complete())},X=>ye.error(X)).then(null,$.h)})}(oe);if((0,ne.D)(oe))return Ne(oe);if((0,Le.T)(oe))return function Ye(oe){return new ie.y(ye=>{for(const X of oe)if(ye.next(X),ye.closed)return;ye.complete()})}(oe);if((0,pe.L)(oe))return function xt(oe){return Ne((0,pe.Q)(oe))}(oe)}throw(0,_e.z)(oe)}function Ne(oe){return new ie.y(ye=>{(function _t(oe,ye){var X,me,Se,Ue;return(0,o.mG)(this,void 0,void 0,function*(){try{for(X=(0,o.KL)(oe);!(me=yield X.next()).done;)if(ye.next(me.value),ye.closed)return}catch(le){Se={error:le}}finally{try{me&&!me.done&&(Ue=X.return)&&(yield Ue.call(X))}finally{if(Se)throw Se.error}}ye.complete()})})(oe,ye).catch(X=>ye.error(X))})}},6451:(pt,Ce,P)=>{P.d(Ce,{T:()=>ne});var o=P(8189),K=P(8421),N=P(515),ie=P(3269),se=P(8996);function ne(..._e){const Le=(0,ie.yG)(_e),pe=(0,ie._6)(_e,1/0),U=_e;return U.length?1===U.length?(0,K.Xf)(U[0]):(0,o.J)(pe)((0,se.D)(U,Le)):N.E}},9646:(pt,Ce,P)=>{P.d(Ce,{of:()=>N});var o=P(3269),K=P(8996);function N(...ie){const se=(0,o.yG)(ie);return(0,K.D)(ie,se)}},5403:(pt,Ce,P)=>{P.d(Ce,{x:()=>K});var o=P(930);function K(ie,se,ne,_e,Le){return new N(ie,se,ne,_e,Le)}class N extends o.Lv{constructor(se,ne,_e,Le,pe,U){super(se),this.onFinalize=pe,this.shouldUnsubscribe=U,this._next=ne?function($){try{ne($)}catch(te){se.error(te)}}:super._next,this._error=Le?function($){try{Le($)}catch(te){se.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=_e?function(){try{_e()}catch($){se.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ne}=this;super.unsubscribe(),!ne&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},1884:(pt,Ce,P)=>{P.d(Ce,{x:()=>ie});var o=P(4671),K=P(4482),N=P(5403);function ie(ne,_e=o.y){return ne=ne??se,(0,K.e)((Le,pe)=>{let U,$=!0;Le.subscribe((0,N.x)(pe,te=>{const Ve=_e(te);($||!ne(U,Ve))&&($=!1,U=Ve,pe.next(te))}))})}function se(ne,_e){return ne===_e}},4004:(pt,Ce,P)=>{P.d(Ce,{U:()=>N});var o=P(4482),K=P(5403);function N(ie,se){return(0,o.e)((ne,_e)=>{let Le=0;ne.subscribe((0,K.x)(_e,pe=>{_e.next(ie.call(se,pe,Le++))}))})}},8189:(pt,Ce,P)=>{P.d(Ce,{J:()=>N});var o=P(5577),K=P(4671);function N(ie=1/0){return(0,o.z)(K.y,ie)}},5577:(pt,Ce,P)=>{P.d(Ce,{z:()=>Le});var o=P(4004),K=P(8421),N=P(4482),ie=P(9672),se=P(5403),_e=P(576);function Le(pe,U,$=1/0){return(0,_e.m)(U)?Le((te,Ve)=>(0,o.U)((Te,tt)=>U(te,Te,Ve,tt))((0,K.Xf)(pe(te,Ve))),$):("number"==typeof U&&($=U),(0,N.e)((te,Ve)=>function ne(pe,U,$,te,Ve,Te,tt,ke){const Ye=[];let Ne=0,xt=0,_t=!1;const oe=()=>{_t&&!Ye.length&&!Ne&&U.complete()},ye=me=>Ne<te?X(me):Ye.push(me),X=me=>{Te&&U.next(me),Ne++;let Se=!1;(0,K.Xf)($(me,xt++)).subscribe((0,se.x)(U,Ue=>{Ve?.(Ue),Te?ye(Ue):U.next(Ue)},()=>{Se=!0},void 0,()=>{if(Se)try{for(Ne--;Ye.length&&Ne<te;){const Ue=Ye.shift();tt?(0,ie.f)(U,tt,()=>X(Ue)):X(Ue)}oe()}catch(Ue){U.error(Ue)}}))};return pe.subscribe((0,se.x)(U,ye,()=>{_t=!0,oe()})),()=>{ke?.()}}(te,Ve,pe,$)))}},5363:(pt,Ce,P)=>{P.d(Ce,{Q:()=>ie});var o=P(9672),K=P(4482),N=P(5403);function ie(se,ne=0){return(0,K.e)((_e,Le)=>{_e.subscribe((0,N.x)(Le,pe=>(0,o.f)(Le,se,()=>Le.next(pe),ne),()=>(0,o.f)(Le,se,()=>Le.complete(),ne),pe=>(0,o.f)(Le,se,()=>Le.error(pe),ne)))})}},3099:(pt,Ce,P)=>{P.d(Ce,{B:()=>se});var o=P(8421),K=P(7579),N=P(930),ie=P(4482);function se(_e={}){const{connector:Le=(()=>new K.x),resetOnError:pe=!0,resetOnComplete:U=!0,resetOnRefCountZero:$=!0}=_e;return te=>{let Ve,Te,tt,ke=0,Ye=!1,Ne=!1;const xt=()=>{Te?.unsubscribe(),Te=void 0},_t=()=>{xt(),Ve=tt=void 0,Ye=Ne=!1},oe=()=>{const ye=Ve;_t(),ye?.unsubscribe()};return(0,ie.e)((ye,X)=>{ke++,!Ne&&!Ye&&xt();const me=tt=tt??Le();X.add(()=>{ke--,0===ke&&!Ne&&!Ye&&(Te=ne(oe,$))}),me.subscribe(X),!Ve&&ke>0&&(Ve=new N.Hp({next:Se=>me.next(Se),error:Se=>{Ne=!0,xt(),Te=ne(_t,pe,Se),me.error(Se)},complete:()=>{Ye=!0,xt(),Te=ne(_t,U),me.complete()}}),(0,o.Xf)(ye).subscribe(Ve))})(te)}}function ne(_e,Le,...pe){if(!0===Le)return void _e();if(!1===Le)return;const U=new N.Hp({next:()=>{U.unsubscribe(),_e()}});return(0,o.Xf)(Le(...pe)).subscribe(U)}},9468:(pt,Ce,P)=>{P.d(Ce,{R:()=>K});var o=P(4482);function K(N,ie=0){return(0,o.e)((se,ne)=>{ne.add(N.schedule(()=>se.subscribe(ne),ie))})}},8505:(pt,Ce,P)=>{P.d(Ce,{b:()=>se});var o=P(576),K=P(4482),N=P(5403),ie=P(4671);function se(ne,_e,Le){const pe=(0,o.m)(ne)||_e||Le?{next:ne,error:_e,complete:Le}:ne;return pe?(0,K.e)((U,$)=>{var te;null===(te=pe.subscribe)||void 0===te||te.call(pe);let Ve=!0;U.subscribe((0,N.x)($,Te=>{var tt;null===(tt=pe.next)||void 0===tt||tt.call(pe,Te),$.next(Te)},()=>{var Te;Ve=!1,null===(Te=pe.complete)||void 0===Te||Te.call(pe),$.complete()},Te=>{var tt;Ve=!1,null===(tt=pe.error)||void 0===tt||tt.call(pe,Te),$.error(Te)},()=>{var Te,tt;Ve&&(null===(Te=pe.unsubscribe)||void 0===Te||Te.call(pe)),null===(tt=pe.finalize)||void 0===tt||tt.call(pe)}))}):ie.y}},4408:(pt,Ce,P)=>{P.d(Ce,{o:()=>se});var o=P(727);class K extends o.w0{constructor(_e,Le){super()}schedule(_e,Le=0){return this}}const N={setInterval(ne,_e,...Le){const{delegate:pe}=N;return pe?.setInterval?pe.setInterval(ne,_e,...Le):setInterval(ne,_e,...Le)},clearInterval(ne){const{delegate:_e}=N;return(_e?.clearInterval||clearInterval)(ne)},delegate:void 0};var ie=P(8737);class se extends K{constructor(_e,Le){super(_e,Le),this.scheduler=_e,this.work=Le,this.pending=!1}schedule(_e,Le=0){var pe;if(this.closed)return this;this.state=_e;const U=this.id,$=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId($,U,Le)),this.pending=!0,this.delay=Le,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId($,this.id,Le),this}requestAsyncId(_e,Le,pe=0){return N.setInterval(_e.flush.bind(_e,this),pe)}recycleAsyncId(_e,Le,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return Le;null!=Le&&N.clearInterval(Le)}execute(_e,Le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(_e,Le);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,Le){let U,pe=!1;try{this.work(_e)}catch($){pe=!0,U=$||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:_e,scheduler:Le}=this,{actions:pe}=Le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(pe,this),null!=_e&&(this.id=this.recycleAsyncId(Le,_e,null)),this.delay=null,super.unsubscribe()}}}},7565:(pt,Ce,P)=>{P.d(Ce,{v:()=>N});var o=P(6063);class K{constructor(se,ne=K.now){this.schedulerActionCtor=se,this.now=ne}schedule(se,ne=0,_e){return new this.schedulerActionCtor(this,se).schedule(_e,ne)}}K.now=o.l.now;class N extends K{constructor(se,ne=K.now){super(se,ne),this.actions=[],this._active=!1}flush(se){const{actions:ne}=this;if(this._active)return void ne.push(se);let _e;this._active=!0;do{if(_e=se.execute(se.state,se.delay))break}while(se=ne.shift());if(this._active=!1,_e){for(;se=ne.shift();)se.unsubscribe();throw _e}}}},4986:(pt,Ce,P)=>{P.d(Ce,{P:()=>ie,z:()=>N});var o=P(4408);const N=new(P(7565).v)(o.o),ie=N},6063:(pt,Ce,P)=>{P.d(Ce,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},3410:(pt,Ce,P)=>{P.d(Ce,{z:()=>o});const o={setTimeout(K,N,...ie){const{delegate:se}=o;return se?.setTimeout?se.setTimeout(K,N,...ie):setTimeout(K,N,...ie)},clearTimeout(K){const{delegate:N}=o;return(N?.clearTimeout||clearTimeout)(K)},delegate:void 0}},2202:(pt,Ce,P)=>{P.d(Ce,{h:()=>K});const K=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pt,Ce,P)=>{P.d(Ce,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(pt,Ce,P)=>{P.d(Ce,{_6:()=>ne,jO:()=>ie,yG:()=>se});var o=P(576),K=P(3532);function N(_e){return _e[_e.length-1]}function ie(_e){return(0,o.m)(N(_e))?_e.pop():void 0}function se(_e){return(0,K.K)(N(_e))?_e.pop():void 0}function ne(_e,Le){return"number"==typeof N(_e)?_e.pop():Le}},8737:(pt,Ce,P)=>{function o(K,N){if(K){const ie=K.indexOf(N);0<=ie&&K.splice(ie,1)}}P.d(Ce,{P:()=>o})},3888:(pt,Ce,P)=>{function o(K){const ie=K(se=>{Error.call(se),se.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}P.d(Ce,{d:()=>o})},2806:(pt,Ce,P)=>{P.d(Ce,{O:()=>ie,x:()=>N});var o=P(2416);let K=null;function N(se){if(o.config.useDeprecatedSynchronousErrorHandling){const ne=!K;if(ne&&(K={errorThrown:!1,error:null}),se(),ne){const{errorThrown:_e,error:Le}=K;if(K=null,_e)throw Le}}else se()}function ie(se){o.config.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=se)}},9672:(pt,Ce,P)=>{function o(K,N,ie,se=0,ne=!1){const _e=N.schedule(function(){ie(),ne?K.add(this.schedule(null,se)):this.unsubscribe()},se);if(K.add(_e),!ne)return _e}P.d(Ce,{f:()=>o})},4671:(pt,Ce,P)=>{function o(K){return K}P.d(Ce,{y:()=>o})},1144:(pt,Ce,P)=>{P.d(Ce,{z:()=>o});const o=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(pt,Ce,P)=>{P.d(Ce,{D:()=>K});var o=P(576);function K(N){return Symbol.asyncIterator&&(0,o.m)(N?.[Symbol.asyncIterator])}},576:(pt,Ce,P)=>{function o(K){return"function"==typeof K}P.d(Ce,{m:()=>o})},3670:(pt,Ce,P)=>{P.d(Ce,{c:()=>N});var o=P(8822),K=P(576);function N(ie){return(0,K.m)(ie[o.L])}},6495:(pt,Ce,P)=>{P.d(Ce,{T:()=>N});var o=P(2202),K=P(576);function N(ie){return(0,K.m)(ie?.[o.h])}},8239:(pt,Ce,P)=>{P.d(Ce,{t:()=>K});var o=P(576);function K(N){return(0,o.m)(N?.then)}},3260:(pt,Ce,P)=>{P.d(Ce,{L:()=>ie,Q:()=>N});var o=P(7582),K=P(576);function N(se){return(0,o.FC)(this,arguments,function*(){const _e=se.getReader();try{for(;;){const{value:Le,done:pe}=yield(0,o.qq)(_e.read());if(pe)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(Le)}}finally{_e.releaseLock()}})}function ie(se){return(0,K.m)(se?.getReader)}},3532:(pt,Ce,P)=>{P.d(Ce,{K:()=>K});var o=P(576);function K(N){return N&&(0,o.m)(N.schedule)}},4482:(pt,Ce,P)=>{P.d(Ce,{A:()=>K,e:()=>N});var o=P(576);function K(ie){return(0,o.m)(ie?.lift)}function N(ie){return se=>{if(K(se))return se.lift(function(ne){try{return ie(ne,this)}catch(_e){this.error(_e)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(pt,Ce,P)=>{function o(){}P.d(Ce,{Z:()=>o})},9635:(pt,Ce,P)=>{P.d(Ce,{U:()=>N,z:()=>K});var o=P(4671);function K(...ie){return N(ie)}function N(ie){return 0===ie.length?o.y:1===ie.length?ie[0]:function(ne){return ie.reduce((_e,Le)=>Le(_e),ne)}}},7849:(pt,Ce,P)=>{P.d(Ce,{h:()=>N});var o=P(2416),K=P(3410);function N(ie){K.z.setTimeout(()=>{const{onUnhandledError:se}=o.config;if(!se)throw ie;se(ie)})}},4532:(pt,Ce,P)=>{function o(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ce,{z:()=>o})},2223:(pt,Ce,P)=>{P.d(Ce,{$8M:()=>Od,$WT:()=>xs,$Z:()=>bg,AFp:()=>lg,ALo:()=>pI,AaK:()=>te,AsE:()=>Ap,BQk:()=>fv,CHM:()=>Gc,CRH:()=>xh,D6c:()=>DR,DdM:()=>cI,Dn7:()=>UC,EJc:()=>eR,EiD:()=>qf,EpF:()=>Wn,F$t:()=>gv,F4k:()=>Lw,FYo:()=>hg,FiY:()=>Co,Gf:()=>cb,GfV:()=>hw,GkF:()=>pv,Gpc:()=>tt,Gre:()=>ul,HDt:()=>wb,Hsn:()=>Uw,Ikx:()=>Sv,JOm:()=>sa,JVY:()=>Dy,JZr:()=>_t,KtG:()=>Cd,L6k:()=>wr,LAX:()=>_M,LFG:()=>an,LSH:()=>My,Lbi:()=>wu,Lck:()=>Xg,MAs:()=>uh,MMx:()=>nI,MR2:()=>X0,NdJ:()=>mv,O4$:()=>Dm,Ojb:()=>qd,OlP:()=>Cn,Oqu:()=>eC,P3R:()=>ky,PXZ:()=>eS,Q6J:()=>Lg,QGY:()=>al,QbO:()=>IM,Qsj:()=>fg,R0b:()=>qr,RDi:()=>jf,Rgc:()=>r_,SBq:()=>sp,Sil:()=>lx,Suo:()=>YC,TTD:()=>Bc,TgZ:()=>Ep,Tol:()=>ma,Udp:()=>ao,W1O:()=>DI,WFA:()=>ku,X6Q:()=>dS,XFs:()=>Qe,Xpm:()=>Xo,Xts:()=>Yf,Y36:()=>Eu,YKP:()=>$u,YNc:()=>Ng,Yjl:()=>od,Yz7:()=>nn,Z0I:()=>ci,ZZ4:()=>Rb,_Bn:()=>XT,_UZ:()=>uv,_Vd:()=>ds,_c5:()=>Ax,_uU:()=>Jw,aQg:()=>Sx,c2e:()=>bb,cJS:()=>li,cg1:()=>dC,d8E:()=>Av,dDg:()=>aR,dqk:()=>hn,eBb:()=>yu,eFA:()=>iS,eJc:()=>db,ekj:()=>Ev,eoX:()=>__,f3M:()=>Xt,g9A:()=>cD,h0i:()=>wh,hGG:()=>wR,hij:()=>Hn,iGM:()=>u_,ifc:()=>Tn,ip1:()=>vb,jDz:()=>hr,kL8:()=>Mv,kcU:()=>mf,lG2:()=>Ml,lcZ:()=>Wv,lqb:()=>bu,lri:()=>QI,mCW:()=>zd,n5z:()=>ic,n_E:()=>i_,oAB:()=>es,oxw:()=>hh,pB0:()=>WE,q3G:()=>pi,q4F:()=>_D,qFp:()=>IR,qLn:()=>Qd,qOj:()=>Mg,qZA:()=>Ru,qzn:()=>$f,rWj:()=>JI,rg0:()=>tf,s9C:()=>Vg,sBO:()=>gl,s_b:()=>ib,soG:()=>Jp,tb:()=>b_,tp0:()=>Vr,uIk:()=>oh,vHH:()=>oe,vpe:()=>Vs,wAp:()=>Nt,xi3:()=>VC,xp6:()=>_w,ynx:()=>hv,z2F:()=>Sh,z3N:()=>cc,zSh:()=>iw,zs3:()=>fc});var o=P(7579),K=P(727),N=P(1135),ie=P(9751),se=P(6451),ne=P(9646),_e=P(3099),Le=P(5577),pe=P(1884);function U(a){for(let l in a)if(a[l]===U)return l;throw Error("Could not find renamed property on target object.")}function $(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function te(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(te).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function Ve(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const Te=U({__forward_ref__:U});function tt(a){return a.__forward_ref__=tt,a.toString=function(){return te(this())},a}function ke(a){return Ye(a)?a():a}function Ye(a){return"function"==typeof a&&a.hasOwnProperty(Te)&&a.__forward_ref__===tt}function Ne(a){return a&&!!a.\u0275providers}const _t="https://g.co/ng/security#xss";class oe extends Error{constructor(l,c){super(function ye(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}(l,c)),this.code=l}}function X(a){return"string"==typeof a?a:null==a?"":String(a)}function $e(a,l){throw new oe(-201,!1)}function at(a,l){null==a&&function yt(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function nn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function li(a){return{providers:a.providers||[],imports:a.imports||[]}}function gr(a){return $s(a,Rr)||$s(a,ws)}function ci(a){return null!==gr(a)}function $s(a,l){return a.hasOwnProperty(l)?a[l]:null}function Dl(a){return a&&(a.hasOwnProperty(kr)||a.hasOwnProperty(Tl))?a[kr]:null}const Rr=U({\u0275prov:U}),kr=U({\u0275inj:U}),ws=U({ngInjectableDef:U}),Tl=U({ngInjectorDef:U});var Qe=(()=>((Qe=Qe||{})[Qe.Default=0]="Default",Qe[Qe.Host=1]="Host",Qe[Qe.Self=2]="Self",Qe[Qe.SkipSelf=4]="SkipSelf",Qe[Qe.Optional=8]="Optional",Qe))();let vt;function vn(a){const l=vt;return vt=a,l}function Ln(a,l,c){const d=gr(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&Qe.Optional?null:void 0!==l?l:void $e(te(a))}const hn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Zi={},Yt="__NG_DI_FLAG__",ko="ngTempTokenPath",Sl=/\n/gm,Oo="__source";let Ri;function Dn(a){const l=Ri;return Ri=a,l}function Po(a,l=Qe.Default){if(void 0===Ri)throw new oe(-203,!1);return null===Ri?Ln(a,void 0,l):Ri.get(a,l&Qe.Optional?null:void 0,l)}function an(a,l=Qe.Default){return(function Et(){return vt}()||Po)(ke(a),l)}function Xt(a,l=Qe.Default){return an(a,H(l))}function H(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function V(a){const l=[];for(let c=0;c<a.length;c++){const d=ke(a[c]);if(Array.isArray(d)){if(0===d.length)throw new oe(900,!1);let f,m=Qe.Default;for(let y=0;y<d.length;y++){const C=d[y],D=we(C);"number"==typeof D?-1===D?f=C.token:m|=D:f=C}l.push(an(f,m))}else l.push(an(d))}return l}function Y(a,l){return a[Yt]=l,a.prototype[Yt]=l,a}function we(a){return a[Yt]}function bt(a){return{toString:a}.toString()}var Vt=(()=>((Vt=Vt||{})[Vt.OnPush=0]="OnPush",Vt[Vt.Default=1]="Default",Vt))(),Tn=(()=>{return(a=Tn||(Tn={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Tn;var a})();const bn={},kt=[],Jt=U({\u0275cmp:U}),ki=U({\u0275dir:U}),Yr=U({\u0275pipe:U}),Fo=U({\u0275mod:U}),Pr=U({\u0275fac:U}),he=U({__NG_ELEMENT_ID__:U}),re=U({__NG_ENV_ID__:U});function Oe(a,l,c){let d=a.length;for(;;){const f=a.indexOf(l,c);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const m=l.length;if(f+m===d||a.charCodeAt(f+m)<=32)return f}c=f+1}}function mt(a,l,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const m=c[d++],y=c[d++],C=c[d++];a.setAttribute(l,y,C,m)}else{const m=f,y=c[++d];$t(m)?a.setProperty(l,m,y):a.setAttribute(l,m,y),d++}}return d}function Ot(a){return 3===a||4===a||6===a}function $t(a){return 64===a.charCodeAt(0)}function rn(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?c=f:0===c||vi(a,c,f,null,-1===c||2===c?l[++d]:null)}}return a}function vi(a,l,c,d,f){let m=0,y=a.length;if(-1===l)y=-1;else for(;m<a.length;){const C=a[m++];if("number"==typeof C){if(C===l){y=-1;break}if(C>l){y=m-1;break}}}for(;m<a.length;){const C=a[m];if("number"==typeof C)break;if(C===c){if(null===d)return void(null!==f&&(a[m+1]=f));if(d===a[m+1])return void(a[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==y&&(a.splice(y,0,l),m=y+1),a.splice(m++,0,c),null!==d&&a.splice(m++,0,d),null!==f&&a.splice(m++,0,f)}const ui="ng-template";function Jo(a,l,c){let d=0,f=!0;for(;d<a.length;){let m=a[d++];if("string"==typeof m&&f){const y=a[d++];if(c&&"class"===m&&-1!==Oe(y.toLowerCase(),l,0))return!0}else{if(1===m){for(;d<a.length&&"string"==typeof(m=a[d++]);)if(m.toLowerCase()===l)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function Cs(a){return 4===a.type&&a.value!==ui}function Al(a,l,c){return l===(4!==a.type||c?a.value:ui)}function $h(a,l,c){let d=4;const f=a.attrs||[],m=function Zs(a){for(let l=0;l<a.length;l++)if(Ot(a[l]))return l;return a.length}(f);let y=!1;for(let C=0;C<l.length;C++){const D=l[C];if("number"!=typeof D){if(!y)if(4&d){if(d=2|1&d,""!==D&&!Al(a,D,c)||""===D&&1===l.length){if(ar(d))return!1;y=!0}}else{const A=8&d?D:l[++C];if(8&d&&null!==a.attrs){if(!Jo(a.attrs,A,c)){if(ar(d))return!1;y=!0}continue}const L=Gh(8&d?"class":D,f,Cs(a),c);if(-1===L){if(ar(d))return!1;y=!0;continue}if(""!==A){let Z;Z=L>m?"":f[L+1].toLowerCase();const J=8&d?Z:null;if(J&&-1!==Oe(J,A,0)||2&d&&A!==Z){if(ar(d))return!1;y=!0}}}}else{if(!y&&!ar(d)&&!ar(D))return!1;if(y&&ar(D))continue;y=!1,d=D|1&d}}return ar(d)||y}function ar(a){return 0==(1&a)}function Gh(a,l,c,d){if(null===l)return-1;let f=0;if(d||!c){let m=!1;for(;f<l.length;){const y=l[f];if(y===a)return f;if(3===y||6===y)m=!0;else{if(1===y||2===y){let C=l[++f];for(;"string"==typeof C;)C=l[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=m?1:2}return-1}return function qh(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function Wr(a,l,c=!1){for(let d=0;d<l.length;d++)if($h(a,l[d],c))return!0;return!1}function di(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let f=0;f<a.length;f++)if(a[f]!==d[f])continue e;return!0}}return!1}function Oi(a,l){return a?":not("+l.trim()+")":l}function J_(a){let l=a[0],c=1,d=2,f="",m=!1;for(;c<a.length;){let y=a[c];if("string"==typeof y)if(2&d){const C=a[++c];f+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+y:4&d&&(f+=" "+y);else""!==f&&!ar(y)&&(l+=Oi(m,f),f=""),d=y,m=m||!ar(d);c++}return""!==f&&(l+=Oi(m,f)),l}function Xo(a){return bt(()=>{const l=Rc(a),c={...l,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===Vt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:l.standalone&&a.dependencies||null,getStandaloneInjector:null,data:a.data||{},encapsulation:a.encapsulation||Tn.Emulated,styles:a.styles||kt,_:null,schemas:a.schemas||null,tView:null,id:""};sd(c);const d=a.dependencies;return c.directiveDefs=Da(d,!1),c.pipeDefs=Da(d,!0),c.id=function Yh(a){let l=0;const c=[a.selectors,a.ngContentSelectors,a.hostVars,a.hostAttrs,a.consts,a.vars,a.decls,a.encapsulation,a.standalone,a.exportAs,JSON.stringify(a.inputs),JSON.stringify(a.outputs),Object.getOwnPropertyNames(a.type.prototype),!!a.contentQueries,!!a.viewQuery].join("|");for(const f of c)l=Math.imul(31,l)+f.charCodeAt(0)<<0;return l+=2147483648,"c"+l}(c),c})}function rd(a){return Gt(a)||Ci(a)}function X_(a){return null!==a}function es(a){return bt(()=>({type:a.type,bootstrap:a.bootstrap||kt,declarations:a.declarations||kt,imports:a.imports||kt,exports:a.exports||kt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function Ea(a,l){if(null==a)return bn;const c={};for(const d in a)if(a.hasOwnProperty(d)){let f=a[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),c[f]=d,l&&(l[f]=m)}return c}function Ml(a){return bt(()=>{const l=Rc(a);return sd(l),l})}function od(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function Gt(a){return a[Jt]||null}function Ci(a){return a[ki]||null}function yn(a){return a[Yr]||null}function xs(a){const l=Gt(a)||Ci(a)||yn(a);return null!==l&&l.standalone}function Yi(a,l){const c=a[Fo]||null;if(!c&&!0===l)throw new Error(`Type ${te(a)} does not have '\u0275mod' property.`);return c}function Rc(a){const l={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:l,exportAs:a.exportAs||null,standalone:!0===a.standalone,selectors:a.selectors||kt,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ea(a.inputs,l),outputs:Ea(a.outputs)}}function sd(a){a.features?.forEach(l=>l(a))}function Da(a,l){if(!a)return null;const c=l?yn:rd;return()=>("function"==typeof a?a():a).map(d=>c(d)).filter(X_)}const Jn=0,Xe=1,zt=2,In=3,Nr=4,Es=5,lr=6,Ys=7,Rn=8,Pi=9,ts=10,Ht=11,yr=12,Wh=13,Lo=14,Gn=15,ho=16,kl=17,Xn=18,Ta=19,Kh=20,Fr=21,ei=22,kc=23,Ws=24,Wt=25,Oc=1,Bo=2,vr=7,Kr=8,Ks=9,bi=11;function ti(a){return Array.isArray(a)&&"object"==typeof a[Oc]}function Lr(a){return Array.isArray(a)&&!0===a[Oc]}function Ia(a){return 0!=(4&a.flags)}function ns(a){return a.componentOffset>-1}function is(a){return 1==(1&a.flags)}function Ni(a){return!!a.template}function Wi(a){return 0!=(512&a[zt])}function Ds(a,l){return a.hasOwnProperty(Pr)?a[Pr]:null}let Ll=hn.WeakRef??class Pc{constructor(l){this.ref=l}deref(){return this.ref}},oy=0,cr=null,Nc=!1;function hi(a){const l=cr;return cr=a,l}class Fc{constructor(){this.id=oy++,this.ref=function ef(a){return new Ll(a)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[l,c]of this.producers){const d=c.producerNode.deref();if(void 0!==d&&c.atTrackingVersion===this.trackingVersion){if(d.producerPollStatus(c.seenValueVersion))return!0}else this.producers.delete(l),d?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const l=Nc;Nc=!0;try{for(const[c,d]of this.consumers){const f=d.consumerNode.deref();void 0!==f&&f.trackingVersion===d.atTrackingVersion?f.onConsumerDependencyMayHaveChanged():(this.consumers.delete(c),f?.producers.delete(this.id))}}finally{Nc=l}}producerAccessed(){if(Nc)throw new Error("");if(null===cr)return;let l=cr.producers.get(this.id);void 0===l?(l={consumerNode:cr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:cr.trackingVersion},cr.producers.set(this.id,l),this.consumers.set(cr.id,l)):(l.seenValueVersion=this.valueVersion,l.atTrackingVersion=cr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==cr?.consumerAllowSignalWrites}producerPollStatus(l){return this.valueVersion!==l||(this.onProducerUpdateValueVersion(),this.valueVersion!==l)}}let Ul=null;function tf(a){const l=hi(null);try{return a()}finally{hi(l)}}const fd=()=>{};class nf extends Fc{constructor(l,c,d){super(),this.watch=l,this.schedule=c,this.dirty=!1,this.cleanupFn=fd,this.registerOnCleanup=f=>{this.cleanupFn=f},this.consumerAllowSignalWrites=d}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const l=hi(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=fd,this.watch(this.registerOnCleanup)}finally{hi(l)}}cleanup(){this.cleanupFn()}}class pd{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Bc(){return Hl}function Hl(a){return a.type.prototype.ngOnChanges&&(a.setInput=Vc),md}function md(){const a=Uc(this),l=a?.current;if(l){const c=a.previous;if(c===bn)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function Vc(a,l,c,d){const f=this.declaredInputs[c],m=Uc(a)||function ay(a,l){return a[gd]=l}(a,{previous:bn,current:null}),y=m.current||(m.current={}),C=m.previous,D=C[f];y[f]=new pd(D&&D.currentValue,l,C===bn),a[d]=l}Bc.ngInherit=!0;const gd="__ngSimpleChanges__";function Uc(a){return a[gd]||null}const po=function(a,l,c){},rf="svg";function kn(a){for(;Array.isArray(a);)a=a[Jn];return a}function Hc(a,l){return kn(l[a])}function dr(a,l){return kn(l[a.index])}function _d(a,l){return a.data[l]}function Ts(a,l){return a[l]}function xi(a,l){const c=l[a];return ti(c)?c:c[Jn]}function ka(a){return 128==(128&a[zt])}function Is(a,l){return null==l?null:a[l]}function yd(a){a[kl]=0}function af(a){1024&a[zt]||(a[zt]|=1024,jc(a,1))}function vd(a){1024&a[zt]&&(a[zt]&=-1025,jc(a,-1))}function jc(a,l){let c=a[In];if(null===c)return;c[Es]+=l;let d=c;for(c=c[In];null!==c&&(1===l&&1===d[Es]||-1===l&&0===d[Es]);)c[Es]+=l,d=c,c=c[In]}const wt={lFrame:Ed(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function uf(){return wt.bindingsEnabled}function Pa(){return null!==wt.skipHydrationRootTNode}function Ie(){return wt.lFrame.lView}function en(){return wt.lFrame.tView}function Gc(a){return wt.lFrame.contextLView=a,a[Rn]}function Cd(a){return wt.lFrame.contextLView=null,a}function Bn(){let a=xm();for(;null!==a&&64===a.type;)a=a.parent;return a}function xm(){return wt.lFrame.currentTNode}function os(a,l){const c=wt.lFrame;c.currentTNode=a,c.isParent=l}function Gl(){return wt.lFrame.isParent}function Fa(){wt.lFrame.isParent=!1}function Ki(){const a=wt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function As(){return wt.lFrame.bindingIndex++}function wn(a){const l=wt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function ql(a,l){const c=wt.lFrame;c.bindingIndex=c.bindingRootIndex=a,Ms(l)}function Ms(a){wt.lFrame.currentDirectiveIndex=a}function Zl(a){const l=wt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function ff(){return wt.lFrame.currentQueryIndex}function Yc(a){wt.lFrame.currentQueryIndex=a}function Wc(a){const l=a[Xe];return 2===l.type?l.declTNode:1===l.type?a[lr]:null}function Yl(a,l,c){if(c&Qe.SkipSelf){let f=l,m=a;for(;!(f=f.parent,null!==f||c&Qe.Host||(f=Wc(m),null===f||(m=m[Lo],10&f.type))););if(null===f)return!1;l=f,a=m}const d=wt.lFrame=mo();return d.currentTNode=l,d.lView=a,!0}function La(a){const l=mo(),c=a[Xe];wt.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function mo(){const a=wt.lFrame,l=null===a?null:a.child;return null===l?Ed(a):l}function Ed(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function pf(){const a=wt.lFrame;return wt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Kc=pf;function Dd(){const a=pf();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function br(){return wt.lFrame.selectedIndex}function ta(a){wt.lFrame.selectedIndex=a}function Nn(){const a=wt.lFrame;return _d(a.tView,a.selectedIndex)}function Dm(){wt.lFrame.currentNamespace=rf}function mf(){!function gf(){wt.lFrame.currentNamespace=null}()}let Ba=!0;function Qc(){return Ba}function go(a){Ba=a}function Ql(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const m=a.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:A,ngOnDestroy:k}=m;y&&(a.contentHooks??=[]).push(-c,y),C&&((a.contentHooks??=[]).push(c,C),(a.contentCheckHooks??=[]).push(c,C)),D&&(a.viewHooks??=[]).push(-c,D),A&&((a.viewHooks??=[]).push(c,A),(a.viewCheckHooks??=[]).push(c,A)),null!=k&&(a.destroyHooks??=[]).push(c,k)}}function Td(a,l,c){Id(a,l,3,c)}function Va(a,l,c,d){(3&a[zt])===c&&Id(a,l,c,d)}function yf(a,l){let c=a[zt];(3&c)===l&&(c&=4095,c+=1,a[zt]=c)}function Id(a,l,c,d){const m=d??-1,y=l.length-1;let C=0;for(let D=void 0!==d?65535&a[kl]:0;D<y;D++)if("number"==typeof l[D+1]){if(C=l[D],null!=d&&C>=d)break}else l[D]<0&&(a[kl]+=65536),(C<m||-1==m)&&(Jc(a,c,l,D),a[kl]=(4294901760&a[kl])+D+2),D++}function Im(a,l){po(4,a,l);const c=hi(null);try{l.call(a)}finally{hi(c),po(5,a,l)}}function Jc(a,l,c,d){const f=c[d]<0,m=c[d+1],C=a[f?-c[d]:c[d]];f?a[zt]>>12<a[kl]>>16&&(3&a[zt])===l&&(a[zt]+=4096,Im(C,m)):Im(C,m)}const ln=-1;class On{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Sn(a){return a!==ln}function Ke(a){return 32767&a}function Xl(a,l){let c=function Xr(a){return a>>16}(a),d=l;for(;c>0;)d=d[Lo],c--;return d}let za=!0;function ks(a){const l=za;return za=a,l}const ec=255,Fi=5;let eo=0;const _o={};function ja(a,l){const c=tu(a,l);if(-1!==c)return c;const d=l[Xe];d.firstCreatePass&&(a.injectorIndex=l.length,bf(d.data,a),bf(l,null),bf(d.blueprint,null));const f=Br(a,l),m=a.injectorIndex;if(Sn(f)){const y=Ke(f),C=Xl(f,l),D=C[Xe].data;for(let A=0;A<8;A++)l[m+A]=C[y+A]|D[y+A]}return l[m+8]=f,m}function bf(a,l){a.push(0,0,0,0,0,0,0,0,l)}function tu(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Br(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,f=l;for(;null!==f;){if(d=kd(f),null===d)return ln;if(c++,f=f[Lo],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return ln}function to(a,l,c){!function vf(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(he)&&(d=c[he]),null==d&&(d=c[he]=eo++);const f=d&ec;l.data[a+(f>>Fi)]|=1<<f}(a,l,c)}function Ji(a,l,c){if(c&Qe.Optional||void 0!==a)return a;$e()}function yo(a,l,c,d){if(c&Qe.Optional&&void 0===d&&(d=null),!(c&(Qe.Self|Qe.Host))){const f=a[Pi],m=vn(void 0);try{return f?f.get(l,d,c&Qe.Optional):Ln(l,d,c&Qe.Optional)}finally{vn(m)}}return Ji(d,0,c)}function Md(a,l,c,d=Qe.Default,f){if(null!==a){if(2048&l[zt]&&!(d&Qe.Self)){const y=function au(a,l,c,d,f){let m=a,y=l;for(;null!==m&&null!==y&&2048&y[zt]&&!(512&y[zt]);){const C=nu(m,y,c,d|Qe.Self,_o);if(C!==_o)return C;let D=m.parent;if(!D){const A=y[Kh];if(A){const k=A.get(c,_o,d);if(k!==_o)return k}D=kd(y),y=y[Lo]}m=D}return f}(a,l,c,d,_o);if(y!==_o)return y}const m=nu(a,l,c,d,_o);if(m!==_o)return m}return yo(l,c,d,f)}function nu(a,l,c,d,f){const m=function wf(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(he)?a[he]:void 0;return"number"==typeof l?l>=0?l&ec:ou:l}(c);if("function"==typeof m){if(!Yl(l,a,d))return d&Qe.Host?Ji(f,0,d):yo(l,c,d,f);try{const y=m(d);if(null!=y||d&Qe.Optional)return y;$e()}finally{Kc()}}else if("number"==typeof m){let y=null,C=tu(a,l),D=ln,A=d&Qe.Host?l[Gn][lr]:null;for((-1===C||d&Qe.SkipSelf)&&(D=-1===C?Br(a,l):l[C+8],D!==ln&&ru(d,!1)?(y=l[Xe],C=Ke(D),l=Xl(D,l)):C=-1);-1!==C;){const k=l[Xe];if(nc(m,C,k.data)){const L=Rd(C,l,c,y,d,A);if(L!==_o)return L}D=l[C+8],D!==ln&&ru(d,l[Xe].data[C+8]===A)&&nc(m,C,l)?(y=k,C=Ke(D),l=Xl(D,l)):C=-1}}return f}function Rd(a,l,c,d,f,m){const y=l[Xe],C=y.data[a+8],k=iu(C,y,c,null==d?ns(C)&&za:d!=y&&0!=(3&C.type),f&Qe.Host&&m===C);return null!==k?Uo(l,y,k,C):_o}function iu(a,l,c,d,f){const m=a.providerIndexes,y=l.data,C=1048575&m,D=a.directiveStart,k=m>>20,Z=f?C+k:a.directiveEnd;for(let J=d?C:C+k;J<Z;J++){const be=y[J];if(J<D&&c===be||J>=D&&be.type===c)return J}if(f){const J=y[D];if(J&&Ni(J)&&J.type===c)return D}return null}function Uo(a,l,c,d){let f=a[c];const m=l.data;if(function Sm(a){return a instanceof On}(f)){const y=f;y.resolving&&function Se(a,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new oe(-200,`Circular dependency in DI detected for ${a}${c}`)}(function me(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():X(a)}(m[c]));const C=ks(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?vn(y.injectImpl):null;Yl(a,d,Qe.Default);try{f=a[c]=y.factory(void 0,m,a,d),l.firstCreatePass&&c>=d.directiveStart&&function _f(a,l,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=l.type.prototype;if(d){const y=Hl(l);(c.preOrderHooks??=[]).push(a,y),(c.preOrderCheckHooks??=[]).push(a,y)}f&&(c.preOrderHooks??=[]).push(0-a,f),m&&((c.preOrderHooks??=[]).push(a,m),(c.preOrderCheckHooks??=[]).push(a,m))}(c,m[c],l)}finally{null!==D&&vn(D),ks(C),y.resolving=!1,Kc()}}return f}function nc(a,l,c){return!!(c[l+(a>>Fi)]&1<<a)}function ru(a,l){return!(a&Qe.Self||a&Qe.Host&&l)}class na{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return Md(this._tNode,this._lView,l,H(d),c)}}function ou(){return new na(Bn(),Ie())}function ic(a){return bt(()=>{const l=a.prototype.constructor,c=l[Pr]||su(l),d=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==d;){const m=f[Pr]||su(f);if(m&&m!==c)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function su(a){return Ye(a)?()=>{const l=su(ke(a));return l&&l()}:Ds(a)}function kd(a){const l=a[Xe],c=l.type;return 2===c?l.declTNode:1===c?a[lr]:null}function Od(a){return function tc(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const m=c[f];if(Ot(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(m===l)return c[f+1];f+=2}}}return null}(Bn(),a)}const ia="__parameters__";function vo(a,l,c){return bt(()=>{const d=function $a(a){return function(...c){if(a){const d=a(...c);for(const f in d)this[f]=d[f]}}}(l);function f(...m){if(this instanceof f)return d.apply(this,m),this;const y=new f(...m);return C.annotation=y,C;function C(D,A,k){const L=D.hasOwnProperty(ia)?D[ia]:Object.defineProperty(D,ia,{value:[]})[ia];for(;L.length<=k;)L.push(null);return(L[k]=L[k]||[]).push(y),D}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}function wo(a,l){a.forEach(c=>Array.isArray(c)?wo(c,l):l(c))}function Ps(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function qa(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function uu(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function x(a,l,c){let d=M(a,l);return d>=0?a[1|d]=c:(d=~d,function cy(a,l,c,d){let f=a.length;if(f==l)a.push(c,d);else if(1===f)a.push(d,a[0]),a[0]=c;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function T(a,l){const c=M(a,l);if(c>=0)return a[1|c]}function M(a,l){return function G(a,l,c){let d=0,f=a.length>>c;for(;f!==d;){const m=d+(f-d>>1),y=a[m<<c];if(l===y)return m<<c;y>l?f=m:d=m+1}return~(f<<c)}(a,l,1)}const Co=Y(vo("Optional"),8),Vr=Y(vo("SkipSelf"),4);function $m(a){return 128==(128&a.flags)}var sa=(()=>((sa=sa||{})[sa.Important=1]="Important",sa[sa.DashCase=2]="DashCase",sa))();const ZE=/^>|^->|<!--|-->|--!>|<!-$/g,F0=/(<|>)/,Gm="\u200b$1\u200b";const Sf=new Map;let Ka=0;const Af="__ngContext__";function Bi(a,l){ti(l)?(a[Af]=l[Ta],function Vd(a){Sf.set(a[Ta],a)}(l)):a[Af]=l}let kf;function Of(a,l){return kf(a,l)}function zo(a){const l=a[In];return Lr(l)?l[In]:l}function Jm(a){return Xm(a[yr])}function Nf(a){return Xm(a[Nr])}function Xm(a){for(;null!==a&&!Lr(a);)a=a[Nr];return a}function Xi(a,l,c,d,f){if(null!=d){let m,y=!1;Lr(d)?m=d:ti(d)&&(y=!0,d=d[Jn]);const C=kn(d);0===a&&null!==c?null==f?j(l,c,C):R(l,c,C,f||null,!0):1===a&&null!==c?R(l,c,C,f||null,!0):2===a?function Hf(a,l,c){const d=ot(a,l);d&&function Ae(a,l,c,d){a.removeChild(l,c,d)}(a,d,l,c)}(l,C,y):3===a&&l.destroyNode(C),null!=m&&function fM(a,l,c,d,f){const m=c[vr];m!==kn(c)&&Xi(l,a,d,m,f);for(let C=bi;C<c.length;C++){const D=c[C];st(D[Xe],D,a,l,d,m)}}(l,a,m,c,f)}}function Lf(a,l){return a.createComment(function py(a){return a.replace(ZE,l=>l.replace(F0,Gm))}(l))}function To(a,l,c){return a.createElement(l,c)}function vy(a,l){const c=a[Ks],d=c.indexOf(l);vd(l),c.splice(d,1)}function Ud(a,l){if(a.length<=bi)return;const c=bi+l,d=a[c];if(d){const f=d[ho];null!==f&&f!==a&&vy(f,d),l>0&&(a[c-1][Nr]=d[Nr]);const m=qa(a,bi+l);!function ls(a,l){st(a,l,l[Ht],2,null,null),l[Jn]=null,l[lr]=null}(d[Xe],d);const y=m[Xn];null!==y&&y.detachView(m[Xe]),d[In]=null,d[Nr]=null,d[zt]&=-129}return d}function eg(a,l){if(!(256&l[zt])){const c=l[Ht];l[kc]?.destroy(),l[Ws]?.destroy(),c.destroyNode&&st(a,l,c,3,null,null),function V0(a){let l=a[yr];if(!l)return v(a[Xe],a);for(;l;){let c=null;if(ti(l))c=l[yr];else{const d=l[bi];d&&(c=d)}if(!c){for(;l&&!l[Nr]&&l!==a;)ti(l)&&v(l[Xe],l),l=l[In];null===l&&(l=a),ti(l)&&v(l[Xe],l),c=l&&l[Nr]}l=c}}(l)}}function v(a,l){if(!(256&l[zt])){l[zt]&=-129,l[zt]|=256,function g(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const f=l[c[d]];if(!(f instanceof On)){const m=c[d+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const C=f[m[y]],D=m[y+1];po(4,C,D);try{D.call(C)}finally{po(5,C,D)}}else{po(4,f,m);try{m.call(f)}finally{po(5,f,m)}}}}}(a,l),function p(a,l){const c=a.cleanup,d=l[Ys];if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const y=c[m+3];y>=0?d[y]():d[-y].unsubscribe(),m+=2}else c[m].call(d[c[m+1]]);null!==d&&(l[Ys]=null);const f=l[Fr];if(null!==f){l[Fr]=null;for(let m=0;m<f.length;m++)(0,f[m])()}}(a,l),1===l[Xe].type&&l[Ht].destroy();const c=l[ho];if(null!==c&&Lr(l[In])){c!==l[In]&&vy(c,l);const d=l[Xn];null!==d&&d.detachView(a)}!function my(a){Sf.delete(a[Ta])}(l)}}function w(a,l,c){return function I(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[Jn];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:m}=a.data[d.directiveStart+f];if(m===Tn.None||m===Tn.Emulated)return null}return dr(d,c)}}(a,l.parent,c)}function R(a,l,c,d,f){a.insertBefore(l,c,d,f)}function j(a,l,c){a.appendChild(l,c)}function ee(a,l,c,d,f){null!==d?R(a,l,c,d,f):j(a,l,c)}function ot(a,l){return a.parentNode(l)}function qn(a,l,c){return Vf(a,l,c)}let tg,Cy,us,qt,Vf=function cs(a,l,c){return 40&a.type?dr(a,c):null};function Uf(a,l,c,d){const f=w(a,d,l),m=l[Ht],C=qn(d.parent||l[lr],d,l);if(null!=f)if(Array.isArray(c))for(let D=0;D<c.length;D++)ee(m,f,c[D],C,!1);else ee(m,f,c,C,!1);void 0!==tg&&tg(m,d,l,c,f)}function Hd(a,l){if(null!==l){const c=l.type;if(3&c)return dr(l,a);if(4&c)return aa(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return Hd(a,d);{const f=a[l.index];return Lr(f)?aa(-1,f):kn(f)}}if(32&c)return Of(l,a)()||kn(a[l.index]);{const d=ig(a,l);return null!==d?Array.isArray(d)?d[0]:Hd(zo(a[Gn]),d):Hd(a,l.next)}}return null}function ig(a,l){return null!==l?a[Gn][lr].projection[l.projection]:null}function aa(a,l){const c=bi+a+1;if(c<l.length){const d=l[c],f=d[Xe].firstChild;if(null!==f)return Hd(d,f)}return l[vr]}function ac(a,l,c,d,f,m,y){for(;null!=c;){const C=d[c.index],D=c.type;if(y&&0===l&&(C&&Bi(kn(C),d),c.flags|=2),32!=(32&c.flags))if(8&D)ac(a,l,c.child,d,f,m,!1),Xi(l,a,f,C,m);else if(32&D){const A=Of(c,d);let k;for(;k=A();)Xi(l,a,f,k,m);Xi(l,a,f,C,m)}else 16&D?_u(a,l,d,c,f,m):Xi(l,a,f,C,m);c=y?c.projectionNext:c.next}}function st(a,l,c,d,f,m){ac(c,d,a.firstChild,l,f,m,!1)}function _u(a,l,c,d,f,m){const y=c[Gn],D=y[lr].projection[d.projection];if(Array.isArray(D))for(let A=0;A<D.length;A++)Xi(l,a,f,D[A],m);else{let A=D;const k=y[In];$m(d)&&(A.flags|=128),ac(a,l,A,k,f,m,!0)}}function Ns(a,l,c){""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c)}function wy(a,l,c){const{mergedAttrs:d,classes:f,styles:m}=c;null!==d&&mt(a,l,d),null!==f&&Ns(a,l,f),null!==m&&function Hr(a,l,c){a.setAttribute(l,"style",c)}(a,l,m)}function lc(a){return function zf(){if(void 0===Cy&&(Cy=null,hn.trustedTypes))try{Cy=hn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Cy}()?.createHTML(a)||a}function jf(a){us=a}function xy(a){return function H0(){if(void 0===qt&&(qt=null,hn.trustedTypes))try{qt=hn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return qt}()?.createScriptURL(a)||a}class Ft{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_t})`}}class Ey extends Ft{getTypeName(){return"HTML"}}class rg extends Ft{getTypeName(){return"Style"}}class mM extends Ft{getTypeName(){return"Script"}}class z0 extends Ft{getTypeName(){return"URL"}}class gM extends Ft{getTypeName(){return"ResourceURL"}}function cc(a){return a instanceof Ft?a.changingThisBreaksApplicationSecurity:a}function $f(a,l){const c=function io(a){return a instanceof Ft&&a.getTypeName()||null}(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see ${_t})`)}return c===l}function Dy(a){return new Ey(a)}function wr(a){return new rg(a)}function yu(a){return new mM(a)}function _M(a){return new z0(a)}function WE(a){return new gM(a)}class KE{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(lc(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch{return null}}}class ro{constructor(l){this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(l){const c=this.inertDocument.createElement("template");return c.innerHTML=lc(l),c}}const og=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function zd(a){return(a=String(a)).match(og)?a:"unsafe:"+a}function Cr(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function jd(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const QE=Cr("area,br,col,hr,img,wbr"),JE=Cr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$d=Cr("rp,rt"),j0=jd(QE,jd(JE,Cr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jd($d,Cr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jd($d,JE)),Iy=Cr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sy=jd(Iy,Cr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Cr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$0=Cr("script,style,template");class G0{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!j0.hasOwnProperty(c))return this.sanitizedSomething=!0,!$0.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),y=m.name,C=y.toLowerCase();if(!Sy.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let D=m.value;Iy[C]&&(D=zd(D)),this.buf.push(" ",y,'="',Gf(D),'"')}return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();j0.hasOwnProperty(c)&&!QE.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(Gf(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const nD=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wM=/([^\#-~ |!])/g;function Gf(a){return a.replace(/&/g,"&amp;").replace(nD,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(wM,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ay;function qf(a,l){let c=null;try{Ay=Ay||function Ty(a){const l=new ro(a);return function yM(){try{return!!(new window.DOMParser).parseFromString(lc(""),"text/html")}catch{return!1}}()?new KE(l):l}(a);let d=l?String(l):"";c=Ay.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=c.innerHTML,c=Ay.getInertBodyElement(d)}while(d!==m);return lc((new G0).sanitizeChildren(q0(c)||c))}finally{if(c){const d=q0(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function q0(a){return"content"in a&&function CM(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var pi=(()=>((pi=pi||{})[pi.NONE=0]="NONE",pi[pi.HTML=1]="HTML",pi[pi.STYLE=2]="STYLE",pi[pi.SCRIPT=3]="SCRIPT",pi[pi.URL=4]="URL",pi[pi.RESOURCE_URL=5]="RESOURCE_URL",pi))();function My(a){const l=Zf();return l?l.sanitize(pi.URL,a)||"":$f(a,"URL")?cc(a):zd(X(a))}function Y0(a){const l=Zf();if(l)return xy(l.sanitize(pi.RESOURCE_URL,a)||"");if($f(a,"ResourceURL"))return xy(cc(a));throw new oe(904,!1)}function ky(a,l,c){return function K0(a,l){return"src"===l&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===l&&("base"===a||"link"===a)?Y0:My}(l,c)(a)}function Zf(){const a=Ie();return a&&a[ts].sanitizer}class Cn{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=nn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Yf=new Cn("ENVIRONMENT_INITIALIZER"),Q0=new Cn("INJECTOR",-1),Oy=new Cn("INJECTOR_DEF_TYPES");class J0{get(l,c=Zi){if(c===Zi){const d=new Error(`NullInjectorError: No provider for ${te(l)}!`);throw d.name="NullInjectorError",d}return c}}function X0(a){return{\u0275providers:a}}function ew(...a){return{\u0275providers:Py(0,a),\u0275fromNgModule:!0}}function Py(a,...l){const c=[],d=new Set;let f;return wo(l,m=>{const y=m;tr(y,c,[],d)&&(f||=[],f.push(y))}),void 0!==f&&Ny(f,c),c}function Ny(a,l){for(let c=0;c<a.length;c++){const{providers:f}=a[c];Wf(f,m=>{l.push(m)})}}function tr(a,l,c,d){if(!(a=ke(a)))return!1;let f=null,m=Dl(a);const y=!m&&Gt(a);if(m||y){if(y&&!y.standalone)return!1;f=a}else{const D=a.ngModule;if(m=Dl(D),!m)return!1;f=D}const C=d.has(f);if(y){if(C)return!1;if(d.add(f),y.dependencies){const D="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const A of D)tr(A,l,c,d)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let A;d.add(f);try{wo(m.imports,k=>{tr(k,l,c,d)&&(A||=[],A.push(k))})}finally{}void 0!==A&&Ny(A,l)}if(!C){const A=Ds(f)||(()=>new f);l.push({provide:f,useFactory:A,deps:kt},{provide:Oy,useValue:f,multi:!0},{provide:Yf,useValue:()=>an(f),multi:!0})}const D=m.providers;null==D||C||Wf(D,k=>{l.push(k)})}}return f!==a&&void 0!==a.providers}function Wf(a,l){for(let c of a)Ne(c)&&(c=c.\u0275providers),Array.isArray(c)?Wf(c,l):l(c)}const tw=U({provide:String,useValue:U});function nw(a){return null!==a&&"object"==typeof a&&tw in a}function vu(a){return"function"==typeof a}const iw=new Cn("Set Injector scope."),Fy={},sg={};let Gd;function Kf(){return void 0===Gd&&(Gd=new J0),Gd}class bu{}class rw extends bu{get destroyed(){return this._destroyed}constructor(l,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ly(l,y=>this.processProvider(y)),this.records.set(Q0,Jf(void 0,this)),f.has("environment")&&this.records.set(bu,Jf(void 0,this));const m=this.records.get(iw);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Oy.multi,kt,Qe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const l=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of l)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(l){return this.assertNotDestroyed(),this._onDestroyHooks.push(l),()=>this.removeOnDestroy(l)}runInContext(l){this.assertNotDestroyed();const c=Dn(this),d=vn(void 0);try{return l()}finally{Dn(c),vn(d)}}get(l,c=Zi,d=Qe.Default){if(this.assertNotDestroyed(),l.hasOwnProperty(re))return l[re](this);d=H(d);const f=Dn(this),m=vn(void 0);try{if(!(d&Qe.SkipSelf)){let C=this.records.get(l);if(void 0===C){const D=function lD(a){return"function"==typeof a||"object"==typeof a&&a instanceof Cn}(l)&&gr(l);C=D&&this.injectableDefInScope(D)?Jf(Qf(l),Fy):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(d&Qe.Self?Kf():this.parent).get(l,c=d&Qe.Optional&&c===Zi?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[ko]=y[ko]||[]).unshift(te(l)),f)throw y;return function ce(a,l,c,d){const f=a[ko];throw l[Oo]&&f.unshift(l[Oo]),a.message=function lt(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let f=te(l);if(Array.isArray(l))f=l.map(te).join(" -> ");else if("object"==typeof l){let m=[];for(let y in l)if(l.hasOwnProperty(y)){let C=l[y];m.push(y+":"+("string"==typeof C?JSON.stringify(C):te(C)))}f=`{${m.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${a.replace(Sl,"\n  ")}`}("\n"+a.message,f,c,d),a.ngTokenPath=f,a[ko]=null,a}(y,l,"R3InjectorError",this.source)}throw y}finally{vn(m),Dn(f)}}resolveInjectorInitializers(){const l=Dn(this),c=vn(void 0);try{const d=this.get(Yf.multi,kt,Qe.Self);for(const f of d)f()}finally{Dn(l),vn(c)}}toString(){const l=[],c=this.records;for(const d of c.keys())l.push(te(d));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new oe(205,!1)}processProvider(l){let c=vu(l=ke(l))?l:ke(l&&l.provide);const d=function sw(a){return nw(a)?Jf(void 0,a.useValue):Jf(aw(a),Fy)}(l);if(vu(l)||!0!==l.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=Jf(void 0,Fy,!0),f.factory=()=>V(f.multi),this.records.set(c,f)),c=l,f.multi.push(l)}this.records.set(c,d)}hydrate(l,c){return c.value===Fy&&(c.value=sg,c.value=c.factory()),"object"==typeof c.value&&c.value&&function aD(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=ke(l.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(l){const c=this._onDestroyHooks.indexOf(l);-1!==c&&this._onDestroyHooks.splice(c,1)}}function Qf(a){const l=gr(a),c=null!==l?l.factory:Ds(a);if(null!==c)return c;if(a instanceof Cn)throw new oe(204,!1);if(a instanceof Function)return function ow(a){const l=a.length;if(l>0)throw uu(l,"?"),new oe(204,!1);const c=function Gs(a){return a&&(a[Rr]||a[ws])||null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new oe(204,!1)}function aw(a,l,c){let d;if(vu(a)){const f=ke(a);return Ds(f)||Qf(f)}if(nw(a))d=()=>ke(a.useValue);else if(function sD(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...V(a.deps||[]));else if(function oD(a){return!(!a||!a.useExisting)}(a))d=()=>an(ke(a.useExisting));else{const f=ke(a&&(a.useClass||a.provide));if(!function ag(a){return!!a.deps}(a))return Ds(f)||Qf(f);d=()=>new f(...V(a.deps))}return d}function Jf(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function Ly(a,l){for(const c of a)Array.isArray(c)?Ly(c,l):c&&Ne(c)?Ly(c.\u0275providers,l):l(c)}const lg=new Cn("AppId",{providedIn:"root",factory:()=>TM}),TM="ng",cD=new Cn("Platform Initializer"),wu=new Cn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),IM=new Cn("AnimationModuleType"),qd=new Cn("CSP nonce",{providedIn:"root",factory:()=>function Fs(){if(void 0!==us)return us;if(typeof document<"u")return document;throw new oe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let cw=(a,l)=>null;function dg(a,l){return cw(a,l)}class kM{}class mD{}class Kd{resolveComponentFactory(l){throw function gD(a){const l=Error(`No component factory found for ${te(a)}.`);return l.ngComponent=a,l}(l)}}let ds=(()=>{class a{}return a.NULL=new Kd,a})();function jy(){return hc(Bn(),Ie())}function hc(a,l){return new sp(dr(a,l))}let sp=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=jy,a})();function ri(a){return a instanceof sp?a.nativeElement:a}class hg{}let fg=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function pg(){const a=Ie(),c=xi(Bn().index,a);return(ti(c)?c:a)[Ht]}(),a})(),OM=(()=>{class a{}return a.\u0275prov=nn({token:a,providedIn:"root",factory:()=>null}),a})();class hw{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const _D=new hw("16.0.4"),fw={};function mg(a){for(;a;){a[zt]|=64;const l=zo(a);if(Wi(a)&&!l)return a;a=l}return null}function tl(a){return a.ngOriginalError}class Qd{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l);this._console.error("ERROR",l),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&tl(l);for(;c&&tl(c);)c=tl(c);return c||null}}const Jd=new Cn("",{providedIn:"root",factory:()=>!1});function nl(a){return a instanceof Function?a():a}class qy extends Fc{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(l){this._lView=l}onConsumerDependencyMayHaveChanged(){mg(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(l,c,d){const f=hi(this);this.trackingVersion++;try{l(c,d)}finally{hi(f)}}destroy(){this.trackingVersion++}}let yg=null;function lp(){return yg??=new qy,yg}function cp(a,l){return a[l]??lp()}function CD(a,l){const c=lp();c.hasReadASignal&&(a[l]=yg,c.lView=a,yg=new qy)}const ft={};function _w(a){xD(en(),Ie(),br()+a,!1)}function xD(a,l,c,d){if(!d)if(3==(3&l[zt])){const m=a.preOrderCheckHooks;null!==m&&Td(l,m,c)}else{const m=a.preOrderHooks;null!==m&&Va(l,m,0,c)}ta(c)}function Zy(a,l=null,c=null,d){const f=up(a,l,c,d);return f.resolveInjectorInitializers(),f}function up(a,l=null,c=null,d,f=new Set){const m=[c||kt,ew(a)];return d=d||("object"==typeof a?void 0:te(a)),new rw(m,l||Kf(),d||null,f)}let fc=(()=>{class a{static create(c,d){if(Array.isArray(c))return Zy({name:""},d,c,"");{const f=c.name??"";return Zy({name:f},c.parent,c.providers,f)}}}return a.THROW_IF_NOT_FOUND=Zi,a.NULL=new J0,a.\u0275prov=nn({token:a,providedIn:"any",factory:()=>an(Q0)}),a.__NG_ELEMENT_ID__=-1,a})();function Eu(a,l=Qe.Default){const c=Ie();return null===c?an(a,l):Md(Bn(),c,ke(a),l)}function bg(){throw new Error("invalid")}function Xd(a,l,c,d,f,m,y,C,D,A,k){const L=l.blueprint.slice();return L[Jn]=f,L[zt]=140|d,(null!==A||a&&2048&a[zt])&&(L[zt]|=2048),yd(L),L[In]=L[Lo]=a,L[Rn]=c,L[ts]=y||a&&a[ts],L[Ht]=C||a&&a[Ht],L[Pi]=D||a&&a[Pi]||null,L[lr]=m,L[Ta]=function L0(){return Ka++}(),L[ei]=k,L[Kh]=A,L[Gn]=2==l.type?a[Gn]:L,L}function dp(a,l,c,d,f){let m=a.data[l];if(null===m)m=function Yy(a,l,c,d,f){const m=xm(),y=Gl(),D=a.data[l]=function Ky(a,l,c,d,f,m){let y=l?l.injectorIndex:-1,C=0;return Pa()&&(C|=128),{type:c,index:d,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,c,l,d,f);return null===a.firstChild&&(a.firstChild=D),null!==m&&(y?null==m.child&&null!==D.parent&&(m.child=D):null===m.next&&(m.next=D,D.prev=m)),D}(a,l,c,d,f),function hf(){return wt.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=c,m.value=d,m.attrs=f;const y=function Jr(){const a=wt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return os(m,!0),m}function pc(a,l,c,d){if(0===c)return-1;const f=l.length;for(let m=0;m<c;m++)l.push(d),a.blueprint.push(d),a.data.push(null);return f}function vw(a,l,c,d,f){const m=cp(l,kc),y=br(),C=2&d;try{if(ta(-1),C&&l.length>Wt&&xD(a,l,Wt,!1),po(C?2:0,f),C)m.runInContext(c,d,f);else{const A=hi(null);try{c(d,f)}finally{hi(A)}}}finally{C&&null===l[kc]&&CD(l,kc),ta(y),po(C?3:1,f)}}function Wy(a,l,c){if(Ia(l)){const d=hi(null);try{const m=l.directiveEnd;for(let y=l.directiveStart;y<m;y++){const C=a.data[y];C.contentQueries&&C.contentQueries(1,c[y],y)}}finally{hi(d)}}}function wg(a,l,c){uf()&&(function Dw(a,l,c,d){const f=c.directiveStart,m=c.directiveEnd;ns(c)&&function xg(a,l,c){const d=dr(l,a),y=nv(a,Xd(a,bw(c),null,c.onPush?64:16,d,l,null,a[ts].rendererFactory.createRenderer(d,c),null,null,null));a[l.index]=y}(l,c,a.data[f+c.componentOffset]),a.firstCreatePass||ja(c,l),Bi(d,l);const y=c.initialInputs;for(let C=f;C<m;C++){const D=a.data[C],A=Uo(l,a,C,c);Bi(A,l),null!==y&&pp(0,C-f,A,D,0,y),Ni(D)&&(xi(c.index,l)[Rn]=Uo(l,a,C,c))}}(a,l,c,dr(c,l)),64==(64&c.flags)&&th(a,l,c))}function Cg(a,l,c=dr){const d=l.localNames;if(null!==d){let f=l.index+1;for(let m=0;m<d.length;m+=2){const y=d[m+1],C=-1===y?c(l,a):a[y];a[f++]=C}}}function bw(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=hp(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts,a.id):l}function hp(a,l,c,d,f,m,y,C,D,A,k){const L=Wt+d,Z=L+f,J=function AD(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:ft);return c}(L,Z),be="function"==typeof A?A():A;return J[Xe]={type:a,blueprint:J,template:c,queries:null,viewQuery:C,declTNode:l,data:J.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:Z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:be,incompleteFirstPass:!1,ssrId:k}}let ww=a=>null;function jo(a,l,c,d){for(let f in a)if(a.hasOwnProperty(f)){c=null===c?{}:c;const m=a[f];null===d?Cw(c,l,f,m):d.hasOwnProperty(f)&&Cw(c,l,d[f],m)}return c}function Cw(a,l,c,d){a.hasOwnProperty(c)?a[c].push(l,d):a[c]=[l,d]}function hs(a,l,c,d,f,m,y,C){const D=dr(l,c);let k,A=l.inputs;!C&&null!=A&&(k=A[d])?(rv(a,c,k,d,f),ns(l)&&function ca(a,l){const c=xi(l,a);16&c[zt]||(c[zt]|=64)}(c,l.index)):3&l.type&&(d=function fp(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),f=null!=y?y(f,l.value||"",d):f,m.setProperty(D,d,f))}function Ew(a,l,c,d){if(uf()){const f=null===d?null:{"":-1},m=function FD(a,l){const c=a.directiveRegistry;let d=null,f=null;if(c)for(let m=0;m<c.length;m++){const y=c[m];if(Wr(l,y.selectors,!1))if(d||(d=[]),Ni(y))if(null!==y.findHostDirectiveDefs){const C=[];f=f||new Map,y.findHostDirectiveDefs(y,C,f),d.unshift(...C,y),ua(a,l,C.length)}else d.unshift(y),ua(a,l,0);else f=f||new Map,y.findHostDirectiveDefs?.(y,d,f),d.push(y)}return null===d?null:[d,f]}(a,c);let y,C;null===m?y=C=null:[y,C]=m,null!==y&&Qy(a,l,c,y,f,C),f&&function Bs(a,l,c){if(l){const d=a.localNames=[];for(let f=0;f<l.length;f+=2){const m=c[l[f+1]];if(null==m)throw new oe(-301,!1);d.push(l[f],m)}}}(c,d,f)}c.mergedAttrs=rn(c.mergedAttrs,c.attrs)}function Qy(a,l,c,d,f,m){for(let A=0;A<d.length;A++)to(ja(c,l),a,d[A].type);!function Jy(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}(c,a.data.length,d.length);for(let A=0;A<d.length;A++){const k=d[A];k.providersResolver&&k.providersResolver(k)}let y=!1,C=!1,D=pc(a,l,d.length,null);for(let A=0;A<d.length;A++){const k=d[A];c.mergedAttrs=rn(c.mergedAttrs,k.hostAttrs),Xy(a,c,l,D,k),jr(D,k,f),null!==k.contentQueries&&(c.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(c.flags|=64);const L=k.type.prototype;!y&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((a.preOrderHooks??=[]).push(c.index),y=!0),!C&&(L.ngOnChanges||L.ngDoCheck)&&((a.preOrderCheckHooks??=[]).push(c.index),C=!0),D++}!function PD(a,l,c){const f=l.directiveEnd,m=a.data,y=l.attrs,C=[];let D=null,A=null;for(let k=l.directiveStart;k<f;k++){const L=m[k],Z=c?c.get(L):null,be=Z?Z.outputs:null;D=jo(L.inputs,k,D,Z?Z.inputs:null),A=jo(L.outputs,k,A,be);const Fe=null===D||null===y||Cs(l)?null:HM(D,k,y);C.push(Fe)}null!==D&&(D.hasOwnProperty("class")&&(l.flags|=8),D.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=C,l.inputs=D,l.outputs=A}(a,c,m)}function th(a,l,c){const d=c.directiveStart,f=c.directiveEnd,m=c.index,y=function Zc(){return wt.lFrame.currentDirectiveIndex}();try{ta(m);for(let C=d;C<f;C++){const D=a.data[C],A=l[C];Ms(C),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Tw(D,A)}}finally{ta(-1),Ms(y)}}function Tw(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function ua(a,l,c){l.componentOffset=c,(a.components??=[]).push(l.index)}function jr(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;Ni(l)&&(c[""]=a)}}function Xy(a,l,c,d,f){a.data[d]=f;const m=f.factory||(f.factory=Ds(f.type)),y=new On(m,Ni(f),Eu);a.blueprint[d]=y,c[d]=y,function il(a,l,c,d,f){const m=f.hostBindings;if(m){let y=a.hostBindingOpCodes;null===y&&(y=a.hostBindingOpCodes=[]);const C=~l.index;(function ND(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(y)!=C&&y.push(C),y.push(c,d,m)}}(a,l,d,pc(a,c,f.hostVars,ft),f)}function fs(a,l,c,d,f,m){const y=dr(a,l);!function ev(a,l,c,d,f,m,y){if(null==m)a.removeAttribute(l,f,c);else{const C=null==y?X(m):y(m,d||"",f);a.setAttribute(l,f,C,c)}}(l[Ht],y,m,a.value,c,d,f)}function pp(a,l,c,d,f,m){const y=m[l];if(null!==y)for(let C=0;C<y.length;)LD(d,c,y[C++],y[C++],y[C++])}function LD(a,l,c,d,f){const m=hi(null);try{null!==a.setInput?a.setInput(l,f,c,d):l[d]=f}finally{hi(m)}}function HM(a,l,c){let d=null,f=0;for(;f<c.length;){const m=c[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(a.hasOwnProperty(m)){null===d&&(d=[]);const y=a[m];for(let C=0;C<y.length;C+=2)if(y[C]===l){d.push(m,y[C+1],c[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function tv(a,l,c,d){return[a,!0,!1,l,null,0,d,c,null,null,null]}function BD(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const m=c[d+1];if(-1!==m){const y=a.data[m];Yc(c[d]),y.contentQueries(2,l[m],m)}}}function nv(a,l){return a[yr]?a[Wh][Nr]=l:a[yr]=l,a[Wh]=l,l}function iv(a,l,c){Yc(0);const d=hi(null);try{l(a,c)}finally{hi(d)}}function Eg(a){return a[Ys]||(a[Ys]=[])}function VD(a){return a.cleanup||(a.cleanup=[])}function UD(a,l,c){return(null===a||Ni(a))&&(c=function ea(a){for(;Array.isArray(a);){if("object"==typeof a[Oc])return a;a=a[Jn]}return null}(c[l.index])),c[Ht]}function nh(a,l){const c=a[Pi],d=c?c.get(Qd,null):null;d&&d.handleError(l)}function rv(a,l,c,d,f){for(let m=0;m<c.length;){const y=c[m++],C=c[m++];LD(a.data[y],l[y],d,C,f)}}function Yn(a,l,c){const d=Hc(l,a);!function Ff(a,l,c){a.setValue(l,c)}(a[Ht],d,c)}function mp(a,l){const c=xi(l,a),d=c[Xe];!function Du(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])}(d,c);const f=c[Jn];null!==f&&null===c[ei]&&(c[ei]=dg(f,c[Pi])),Dg(d,c,c[Rn])}function Dg(a,l,c){La(l);try{const d=a.viewQuery;null!==d&&iv(1,d,c);const f=a.template;null!==f&&vw(a,l,f,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&BD(a,l),a.staticViewQueries&&iv(2,a.viewQuery,c);const m=a.components;null!==m&&function zM(a,l){for(let c=0;c<l.length;c++)mp(a,l[c])}(l,m)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[zt]&=-5,Dd()}}let ov=(()=>{class a{constructor(){this.all=new Set,this.queue=new Map}create(c,d,f){const m=typeof Zone>"u"?null:Zone.current,y=new nf(c,A=>{this.all.has(A)&&this.queue.set(A,m)},f);let C;this.all.add(y),y.notify();const D=()=>{y.cleanup(),C?.(),this.all.delete(y),this.queue.delete(y)};return C=d?.onDestroy(D),{destroy:D}}flush(){if(0!==this.queue.size)for(const[c,d]of this.queue)this.queue.delete(c),d?d.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}}return a.\u0275prov=nn({token:a,providedIn:"root",factory:()=>new a}),a})();function gt(a,l,c){let d=c?a.styles:null,f=c?a.classes:null,m=0;if(null!==l)for(let y=0;y<l.length;y++){const C=l[y];"number"==typeof C?m=C:1==m?f=Ve(f,C):2==m&&(d=Ve(d,C+": "+l[++y]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=f:a.classesWithoutHost=f}function Tg(a,l,c,d,f=!1){for(;null!==c;){const m=l[c.index];if(null!==m&&d.push(kn(m)),Lr(m)){for(let C=bi;C<m.length;C++){const D=m[C],A=D[Xe].firstChild;null!==A&&Tg(D[Xe],D,A,d)}m[vr]!==m[Jn]&&d.push(m[vr])}const y=c.type;if(8&y)Tg(a,l,c.child,d);else if(32&y){const C=Of(c,l);let D;for(;D=C();)d.push(D)}else if(16&y){const C=ig(l,c);if(Array.isArray(C))d.push(...C);else{const D=zo(l[Gn]);Tg(D[Xe],D,C,d,!0)}}c=f?c.projectionNext:c.next}return d}function et(a,l,c,d=!0){const f=l[ts].rendererFactory;f.begin&&f.begin();try{Di(a,l,a.template,c)}catch(y){throw d&&nh(l,y),y}finally{f.end&&f.end(),l[ts].effectManager?.flush()}}function Di(a,l,c,d){const f=l[zt];if(256!=(256&f)){l[ts].effectManager?.flush(),La(l);try{yd(l),function qc(a){return wt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&vw(a,l,c,2,d);const y=3==(3&f);if(y){const A=a.preOrderCheckHooks;null!==A&&Td(l,A,null)}else{const A=a.preOrderHooks;null!==A&&Va(l,A,0,null),yf(l,0)}if(function jM(a){for(let l=Jm(a);null!==l;l=Nf(l)){if(!l[Bo])continue;const c=l[Ks];for(let d=0;d<c.length;d++){af(c[d])}}}(l),function HD(a){for(let l=Jm(a);null!==l;l=Nf(l))for(let c=bi;c<l.length;c++){const d=l[c],f=d[Xe];ka(d)&&Di(f,d,f.template,d[Rn])}}(l),null!==a.contentQueries&&BD(a,l),y){const A=a.contentCheckHooks;null!==A&&Td(l,A)}else{const A=a.contentHooks;null!==A&&Va(l,A,1),yf(l,1)}!function SD(a,l){const c=a.hostBindingOpCodes;if(null===c)return;const d=cp(l,Ws);try{for(let f=0;f<c.length;f++){const m=c[f];if(m<0)ta(~m);else{const y=m,C=c[++f],D=c[++f];ql(C,y),d.runInContext(D,2,l[y])}}}finally{null===l[Ws]&&CD(l,Ws),ta(-1)}}(a,l);const C=a.components;null!==C&&function GM(a,l){for(let c=0;c<l.length;c++)$M(a,l[c])}(l,C);const D=a.viewQuery;if(null!==D&&iv(2,D,d),y){const A=a.viewCheckHooks;null!==A&&Td(l,A)}else{const A=a.viewHooks;null!==A&&Va(l,A,2),yf(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[zt]&=-73,vd(l)}finally{Dd()}}}function $M(a,l){const c=xi(l,a);if(ka(c)){const d=c[Xe];80&c[zt]?Di(d,c,d.template,c[Rn]):c[Es]>0&&Iw(c)}}function Iw(a){for(let d=Jm(a);null!==d;d=Nf(d))for(let f=bi;f<d.length;f++){const m=d[f];if(ka(m))if(1024&m[zt]){const y=m[Xe];Di(y,m,y.template,m[Rn])}else m[Es]>0&&Iw(m)}const c=a[Xe].components;if(null!==c)for(let d=0;d<c.length;d++){const f=xi(c[d],a);ka(f)&&f[Es]>0&&Iw(f)}}class Ig{get rootNodes(){const l=this._lView,c=l[Xe];return Tg(c,l,c.firstChild,[])}constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rn]}set context(l){this._lView[Rn]=l}get destroyed(){return 256==(256&this._lView[zt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[In];if(Lr(l)){const c=l[Kr],d=c?c.indexOf(this):-1;d>-1&&(Ud(l,d),qa(c,d))}this._attachedToViewContainer=!1}eg(this._lView[Xe],this._lView)}onDestroy(l){!function bd(a,l){if(256==(256&a[zt]))throw new oe(911,!1);null===a[Fr]&&(a[Fr]=[]),a[Fr].push(l)}(this._lView,l)}markForCheck(){mg(this._cdRefInjectingView||this._lView)}detach(){this._lView[zt]&=-129}reattach(){this._lView[zt]|=128}detectChanges(){et(this._lView[Xe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Bf(a,l){st(a,l,l[Ht],2,null,null)}(this._lView[Xe],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new oe(902,!1);this._appRef=l}}class zD extends Ig{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;et(l[Xe],l,l[Rn],!1)}checkNoChanges(){}get context(){return null}}class jD extends ds{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=Gt(l);return new Bt(c,this.ngModule)}}function qM(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}class $D{constructor(l,c){this.injector=l,this.parentInjector=c}get(l,c,d){d=H(d);const f=this.injector.get(l,fw,d);return f!==fw||c===fw?f:this.parentInjector.get(l,c,d)}}class Bt extends mD{get inputs(){return qM(this.componentDef.inputs)}get outputs(){return qM(this.componentDef.outputs)}constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function pm(a){return a.map(J_).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}create(l,c,d,f){let m=(f=f||this.ngModule)instanceof bu?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new $D(l,m):l,C=y.get(hg,null);if(null===C)throw new oe(407,!1);const k={rendererFactory:C,sanitizer:y.get(OM,null),effectManager:y.get(ov,null)},L=C.createRenderer(null,this.componentDef),Z=this.componentDef.selectors[0][0]||"div",J=d?function MD(a,l,c,d){const m=d.get(Jd,!1)||c===Tn.ShadowDom,y=a.selectRootElement(l,m);return function eh(a){ww(a)}(y),y}(L,d,this.componentDef.encapsulation,y):To(L,Z,function ZM(a){const l=a.toLowerCase();return"svg"===l?rf:"math"===l?"math":null}(Z)),be=this.componentDef.onPush?576:528,Fe=hp(0,null,null,1,0,null,null,null,null,null,null),je=Xd(null,Fe,null,be,null,null,k,L,y,null,null);let ht,xe;La(je);try{const Tt=this.componentDef;let on,xn=null;Tt.findHostDirectiveDefs?(on=[],xn=new Map,Tt.findHostDirectiveDefs(Tt,on,xn),on.push(Tt)):on=[Tt];const ya=function mi(a,l){const c=a[Xe],d=Wt;return a[d]=l,dp(c,d,2,"#host",null)}(je,J),Ec=function Dt(a,l,c,d,f,m,y){const C=f[Xe];!function Sg(a,l,c,d){for(const f of a)l.mergedAttrs=rn(l.mergedAttrs,f.hostAttrs);null!==l.mergedAttrs&&(gt(l,l.mergedAttrs,!0),null!==c&&wy(d,c,l))}(d,a,l,y);let D=null;null!==l&&(D=dg(l,f[Pi]));const A=m.rendererFactory.createRenderer(l,c),k=Xd(f,bw(c),null,c.onPush?64:16,f[a.index],a,m,A,null,null,D);return C.firstCreatePass&&ua(C,a,d.length-1),nv(f,k),f[a.index]=k}(ya,J,Tt,on,je,k,L);xe=_d(Fe,Wt),J&&function WM(a,l,c,d){if(d)mt(a,c,["ng-version",_D.full]);else{const{attrs:f,classes:m}=function Ac(a){const l=[],c=[];let d=1,f=2;for(;d<a.length;){let m=a[d];if("string"==typeof m)2===f?""!==m&&l.push(m,a[++d]):8===f&&c.push(m);else{if(!ar(f))break;f=m}d++}return{attrs:l,classes:c}}(l.selectors[0]);f&&mt(a,c,f),m&&m.length>0&&Ns(a,c,m.join(" "))}}(L,Tt,J,d),void 0!==c&&function Ti(a,l,c){const d=a.projection=[];for(let f=0;f<l.length;f++){const m=c[f];d.push(null!=m?Array.from(m):null)}}(xe,this.ngContentSelectors,c),ht=function fn(a,l,c,d,f,m){const y=Bn(),C=f[Xe],D=dr(y,f);Qy(C,f,y,c,null,d);for(let k=0;k<c.length;k++)Bi(Uo(f,C,y.directiveStart+k,y),f);th(C,f,y),D&&Bi(D,f);const A=Uo(f,C,y.directiveStart+y.componentOffset,y);if(a[Rn]=f[Rn]=A,null!==m)for(const k of m)k(A,l);return Wy(C,y,a),A}(Ec,Tt,on,xn,je,[nt]),Dg(Fe,je,null)}finally{Dd()}return new gp(this.componentType,ht,hc(xe,je),je,xe)}}class gp extends kM{constructor(l,c,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new zD(f),this.componentType=l}setInput(l,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[l])){if(this.previousInputValues??=new Map,this.previousInputValues.has(l)&&Object.is(this.previousInputValues.get(l),c))return;const m=this._rootLView;rv(m[Xe],m,f,l,c),this.previousInputValues.set(l,c),mg(xi(this._tNode.index,m))}}get injector(){return new na(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function nt(){const a=Bn();Ql(Ie()[Xe],a)}function Mg(a){let l=function Ag(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let f;if(Ni(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new oe(903,!1);f=l.\u0275dir}if(f){if(c){d.push(f);const y=a;y.inputs=Sw(a.inputs),y.declaredInputs=Sw(a.declaredInputs),y.outputs=Sw(a.outputs);const C=f.hostBindings;C&&Rg(a,C);const D=f.viewQuery,A=f.contentQueries;if(D&&sv(a,D),A&&KM(a,A),$(a.inputs,f.inputs),$(a.declaredInputs,f.declaredInputs),$(a.outputs,f.outputs),Ni(f)&&f.data.animation){const k=a.data;k.animation=(k.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let y=0;y<m.length;y++){const C=m[y];C&&C.ngInherit&&C(a),C===Mg&&(c=!1)}}l=Object.getPrototypeOf(l)}!function ih(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const f=a[d];f.hostVars=l+=f.hostVars,f.hostAttrs=rn(f.hostAttrs,c=rn(c,f.hostAttrs))}}(d)}function Sw(a){return a===bn?{}:a===kt?[]:a}function sv(a,l){const c=a.viewQuery;a.viewQuery=c?(d,f)=>{l(d,f),c(d,f)}:l}function KM(a,l){const c=a.contentQueries;a.contentQueries=c?(d,f,m)=>{l(d,f,m),c(d,f,m)}:l}function Rg(a,l){const c=a.hostBindings;a.hostBindings=c?(d,f)=>{l(d,f),c(d,f)}:l}function $o(a){return!!rl(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function rl(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function so(a,l,c){return a[l]=c}function xr(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function rh(a,l,c,d){const f=xr(a,l,c);return xr(a,l+1,d)||f}function oh(a,l,c,d){const f=Ie();return xr(f,As(),l)&&(en(),fs(Nn(),f,a,l,c,d)),oh}function sh(a,l,c,d){return xr(a,As(),c)?l+X(c)+d:ft}function Ui(a,l,c,d,f,m){const C=rh(a,function ss(){return wt.lFrame.bindingIndex}(),c,f);return wn(2),C?l+X(c)+d+X(f)+m:ft}function Ng(a,l,c,d,f,m,y,C){const D=Ie(),A=en(),k=a+Wt,L=A.firstCreatePass?function Au(a,l,c,d,f,m,y,C,D){const A=l.consts,k=dp(l,a,4,y||null,Is(A,C));Ew(l,c,k,Is(A,D)),Ql(l,k);const L=k.tView=hp(2,k,d,f,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,A,null);return null!==l.queries&&(l.queries.template(l,k),L.queries=l.queries.embeddedTView(k)),k}(k,A,D,l,c,d,f,m,y):A.data[k];os(L,!1);const Z=_c(A,D,L,a);Qc()&&Uf(A,D,Z,L),Bi(Z,D),nv(D,D[k]=tv(Z,D,Z,L)),is(L)&&wg(A,D,L),null!=y&&Cg(D,L,C)}let _c=function fa(a,l,c,d){return go(!0),l[Ht].createComment("")};function uh(a){return Ts(function A0(){return wt.lFrame.contextLView}(),Wt+a)}function Lg(a,l,c){const d=Ie();return xr(d,As(),l)&&hs(en(),Nn(),d,a,l,d[Ht],c,!1),Lg}function xp(a,l,c,d,f){const y=f?"class":"style";rv(a,c,l.inputs[y],y,d)}function Ep(a,l,c,d){const f=Ie(),m=en(),y=Wt+a,C=f[Ht],D=m.firstCreatePass?function dh(a,l,c,d,f,m){const y=l.consts,D=dp(l,a,2,d,Is(y,f));return Ew(l,c,D,Is(y,m)),null!==D.attrs&&gt(D,D.attrs,!1),null!==D.mergedAttrs&&gt(D,D.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,D),D}(y,m,f,l,c,d):m.data[y],A=Nw(m,f,D,C,l,a);f[y]=A;const k=is(D);return os(D,!0),wy(C,A,D),32!=(32&D.flags)&&Qc()&&Uf(m,f,A,D),0===function wd(){return wt.lFrame.elementDepthCount}()&&Bi(A,f),function Cm(){wt.lFrame.elementDepthCount++}(),k&&(wg(m,f,D),Wy(m,D,f)),null!==d&&Cg(f,D),Ep}function Ru(){let a=Bn();Gl()?Fa():(a=a.parent,os(a,!1));const l=a;(function jl(a){return wt.skipHydrationRootTNode===a})(l)&&function df(){wt.skipHydrationRootTNode=null}(),function cf(){wt.lFrame.elementDepthCount--}();const c=en();return c.firstCreatePass&&(Ql(c,a),Ia(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Ua(a){return 0!=(8&a.flags)}(l)&&xp(c,l,Ie(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Ad(a){return 0!=(16&a.flags)}(l)&&xp(c,l,Ie(),l.stylesWithoutHost,!1),Ru}function uv(a,l,c,d){return Ep(a,l,c,d),Ru(),uv}let Nw=(a,l,c,d,f,m)=>(go(!0),To(d,f,function Tm(){return wt.lFrame.currentNamespace}()));function hv(a,l,c){const d=Ie(),f=en(),m=a+Wt,y=f.firstCreatePass?function aT(a,l,c,d,f){const m=l.consts,y=Is(m,d),C=dp(l,a,8,"ng-container",y);return null!==y&&gt(C,y,!0),Ew(l,c,C,Is(m,f)),null!==l.queries&&l.queries.elementStart(l,C),C}(m,f,d,l,c):f.data[m];os(y,!0);const C=Fw(f,d,y,a);return d[m]=C,Qc()&&Uf(f,d,C,y),Bi(C,d),is(y)&&(wg(f,d,y),Wy(f,y,d)),null!=c&&Cg(d,y),hv}function fv(){let a=Bn();const l=en();return Gl()?Fa():(a=a.parent,os(a,!1)),l.firstCreatePass&&(Ql(l,a),Ia(a)&&l.queries.elementEnd(a)),fv}function pv(a,l,c){return hv(a,l,c),fv(),pv}let Fw=(a,l,c,d)=>(go(!0),Lf(l[Ht],""));function Wn(){return Ie()}function al(a){return!!a&&"function"==typeof a.then}function Lw(a){return!!a&&"function"==typeof a.subscribe}function mv(a,l,c,d){const f=Ie(),m=en(),y=Bn();return Bw(m,f,f[Ht],y,a,l,d),mv}function ku(a,l){const c=Bn(),d=Ie(),f=en();return Bw(f,d,UD(Zl(f.data),c,d),c,a,l),ku}function Bw(a,l,c,d,f,m,y){const C=is(d),A=a.firstCreatePass&&VD(a),k=l[Rn],L=Eg(l);let Z=!0;if(3&d.type||y){const Fe=dr(d,l),je=y?y(Fe):Fe,ht=L.length,xe=y?on=>y(kn(on[d.index])):d.index;let Tt=null;if(!y&&C&&(Tt=function l1(a,l,c,d){const f=a.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const y=f[m];if(y===c&&f[m+1]===d){const C=l[Ys],D=f[m+2];return C.length>D?C[D]:null}"string"==typeof y&&(m+=2)}return null}(a,l,f,d.index)),null!==Tt)(Tt.__ngLastListenerFn__||Tt).__ngNextListenerFn__=m,Tt.__ngLastListenerFn__=m,Z=!1;else{m=An(d,l,k,m,!1);const on=c.listen(je,f,m);L.push(m,on),A&&A.push(f,xe,ht,ht+1)}}else m=An(d,l,k,m,!1);const J=d.outputs;let be;if(Z&&null!==J&&(be=J[f])){const Fe=be.length;if(Fe)for(let je=0;je<Fe;je+=2){const xn=l[be[je]][be[je+1]].subscribe(m),ya=L.length;L.push(m,xn),A&&A.push(f,d.index,ya,-(ya+1))}}}function cn(a,l,c,d){try{return po(6,l,c),!1!==c(d)}catch(f){return nh(a,f),!1}finally{po(7,l,c)}}function An(a,l,c,d,f){return function m(y){if(y===Function)return d;mg(a.componentOffset>-1?xi(a.index,l):l);let D=cn(l,c,d,y),A=m.__ngNextListenerFn__;for(;A;)D=cn(l,c,A,y)&&D,A=A.__ngNextListenerFn__;return f&&!1===D&&y.preventDefault(),D}}function hh(a=1){return function Wl(a){return(wt.lFrame.contextLView=function Em(a,l){for(;a>0;)l=l[Lo],a--;return l}(a,wt.lFrame.contextLView))[Rn]}(a)}function Vw(a,l){let c=null;const d=function id(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(!(1&c))return l[c+1]}return null}(a);for(let f=0;f<l.length;f++){const m=l[f];if("*"!==m){if(null===d?Wr(a,m,!0):di(d,m))return f}else c=f}return c}function gv(a){const l=Ie()[Gn][lr];if(!l.projection){const d=l.projection=uu(a?a.length:1,null),f=d.slice();let m=l.child;for(;null!==m;){const y=a?Vw(m,a):0;null!==y&&(f[y]?f[y].projectionNext=m:d[y]=m,f[y]=m),m=m.next}}}function Uw(a,l=0,c){const d=Ie(),f=en(),m=dp(f,Wt+a,16,null,c||null);null===m.projection&&(m.projection=l),Fa(),(!d[ei]||Pa())&&32!=(32&m.flags)&&function Zn(a,l,c){_u(l[Ht],0,l,c,w(a,c,l),qn(c.parent||l[lr],c,l))}(f,d,m)}function Vg(a,l,c){return _v(a,"",l,"",c),Vg}function _v(a,l,c,d,f){const m=Ie(),y=sh(m,l,c,d);return y!==ft&&hs(en(),Nn(),m,a,y,m[Ht],f,!1),_v}function yv(a,l){return a<<17|l<<2}function Ou(a){return a>>17&32767}function yc(a){return 2|a}function pa(a){return(131068&a)>>2}function Dp(a,l){return-131069&a|l<<2}function bv(a){return 1|a}function qw(a,l,c,d,f){const m=a[c+1],y=null===l;let C=d?Ou(m):pa(m),D=!1;for(;0!==C&&(!1===D||y);){const k=a[C+1];Zw(a[C],l)&&(D=!0,a[C+1]=d?bv(k):yc(k)),C=d?Ou(k):pa(k)}D&&(a[c+1]=d?yc(m):bv(m))}function Zw(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&M(a,l)>=0}const Ii={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wv(a){return a.substring(Ii.key,Ii.keyEnd)}function Cv(a,l){const c=Ii.textEnd;return c===l?-1:(l=Ii.keyEnd=function Ug(a,l,c){for(;l<c&&a.charCodeAt(l)>32;)l++;return l}(a,Ii.key=l,c),Nu(a,l,c))}function Nu(a,l,c){for(;l<c&&a.charCodeAt(l)<=32;)l++;return l}function ao(a,l,c){return Ao(a,l,c,!1),ao}function Ev(a,l){return Ao(a,l,null,!0),Ev}function ma(a){_a(bT,ga,a,!0)}function ga(a,l){for(let c=function So(a){return function Yw(a){Ii.key=0,Ii.keyEnd=0,Ii.value=0,Ii.valueEnd=0,Ii.textEnd=a.length}(a),Cv(a,Nu(a,0,Ii.textEnd))}(l);c>=0;c=Cv(l,c))x(a,wv(l),!0)}function Ao(a,l,c,d){const f=Ie(),m=en(),y=wn(2);m.firstUpdatePass&&Kt(m,a,y,d),l!==ft&&xr(f,y,l)&&Lu(m,m.data[br()],f,f[Ht],a,f[y+1]=function wT(a,l){return null==a||""===a||("string"==typeof l?a+=l:"object"==typeof a&&(a=te(cc(a)))),a}(l,c),d,y)}function _a(a,l,c,d){const f=en(),m=wn(2);f.firstUpdatePass&&Kt(f,null,m,d);const y=Ie();if(c!==ft&&xr(y,m,c)){const C=f.data[br()];if(ph(C,d)&&!gT(f,m)){let D=d?C.classesWithoutHost:C.stylesWithoutHost;null!==D&&(c=Ve(D,c||"")),xp(f,C,y,c,d)}else!function Sp(a,l,c,d,f,m,y,C){f===ft&&(f=kt);let D=0,A=0,k=0<f.length?f[0]:null,L=0<m.length?m[0]:null;for(;null!==k||null!==L;){const Z=D<f.length?f[D+1]:void 0,J=A<m.length?m[A+1]:void 0;let Fe,be=null;k===L?(D+=2,A+=2,Z!==J&&(be=L,Fe=J)):null===L||null!==k&&k<L?(D+=2,be=k):(A+=2,be=L,Fe=J),null!==be&&Lu(a,l,c,d,be,Fe,y,C),k=D<f.length?f[D]:null,L=A<m.length?m[A]:null}}(f,C,y,y[Ht],y[m+1],y[m+1]=function f1(a,l,c){if(null==c||""===c)return kt;const d=[],f=cc(c);if(Array.isArray(f))for(let m=0;m<f.length;m++)a(d,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&a(d,m,f[m]);else"string"==typeof f&&l(d,f);return d}(a,l,c),d,m)}}function gT(a,l){return l>=a.expandoStartIndex}function Kt(a,l,c,d){const f=a.data;if(null===f[c+1]){const m=f[br()],y=gT(a,c);ph(m,d)&&null===l&&!y&&(l=!1),l=function h1(a,l,c,d){const f=Zl(a);let m=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(c=Fu(c=Dv(null,a,l,c,d),l.attrs,d),m=null);else{const y=l.directiveStylingLast;if(-1===y||a[y]!==f)if(c=Dv(f,a,l,c,d),null===m){let D=function Kw(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==pa(d))return a[Ou(d)]}(a,l,d);void 0!==D&&Array.isArray(D)&&(D=Dv(null,a,l,D[1],d),D=Fu(D,l.attrs,d),function _T(a,l,c,d){a[Ou(c?l.classBindings:l.styleBindings)]=d}(a,l,d,D))}else m=function yT(a,l,c){let d;const f=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<f;m++)d=Fu(d,a[m].hostAttrs,c);return Fu(d,l.attrs,c)}(a,l,d)}return void 0!==m&&(d?l.residualClasses=m:l.residualStyles=m),c}(f,m,l,d),function fT(a,l,c,d,f,m){let y=m?l.classBindings:l.styleBindings,C=Ou(y),D=pa(y);a[d]=c;let k,A=!1;if(Array.isArray(c)?(k=c[1],(null===k||M(c,k)>0)&&(A=!0)):k=c,f)if(0!==D){const Z=Ou(a[C+1]);a[d+1]=yv(Z,C),0!==Z&&(a[Z+1]=Dp(a[Z+1],d)),a[C+1]=function Gw(a,l){return 131071&a|l<<17}(a[C+1],d)}else a[d+1]=yv(C,0),0!==C&&(a[C+1]=Dp(a[C+1],d)),C=d;else a[d+1]=yv(D,0),0===C?C=d:a[D+1]=Dp(a[D+1],d),D=d;A&&(a[d+1]=yc(a[d+1])),qw(a,k,d,!0),qw(a,k,d,!1),function Tp(a,l,c,d,f){const m=f?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof l&&M(m,l)>=0&&(c[d+1]=bv(c[d+1]))}(l,k,a,d,m),y=yv(C,D),m?l.classBindings=y:l.styleBindings=y}(f,m,l,c,y,d)}}function Dv(a,l,c,d,f){let m=null;const y=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<y&&(m=l[C],d=Fu(d,m.hostAttrs,f),m!==a);)C++;return null!==a&&(c.directiveStylingLast=C),d}function Fu(a,l,c){const d=c?1:2;let f=-1;if(null!==l)for(let m=0;m<l.length;m++){const y=l[m];"number"==typeof y?f=y:f===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),x(a,y,!!c||l[++m]))}return void 0===a?null:a}function bT(a,l,c){const d=String(l);""!==d&&!d.includes(" ")&&x(a,d,c)}function Lu(a,l,c,d,f,m,y,C){if(!(3&l.type))return;const D=a.data,A=D[C+1],k=function vv(a){return 1==(1&a)}(A)?Qw(D,l,c,f,pa(A),y):void 0;cl(k)||(cl(m)||function c1(a){return 2==(2&a)}(A)&&(m=Qw(D,null,c,f,C,y)),function by(a,l,c,d,f){if(l)f?a.addClass(c,d):a.removeClass(c,d);else{let m=-1===d.indexOf("-")?void 0:sa.DashCase;null==f?a.removeStyle(c,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=sa.Important),a.setStyle(c,d,f,m))}}(d,y,Hc(br(),c),f,m))}function Qw(a,l,c,d,f,m){const y=null===l;let C;for(;f>0;){const D=a[f],A=Array.isArray(D),k=A?D[1]:D,L=null===k;let Z=c[f+1];Z===ft&&(Z=L?kt:void 0);let J=L?T(Z,d):k===d?Z:void 0;if(A&&!cl(J)&&(J=T(D,d)),cl(J)&&(C=J,y))return C;const be=a[f+1];f=y?Ou(be):pa(be)}if(null!==l){let D=m?l.residualClasses:l.residualStyles;null!=D&&(C=T(D,d))}return C}function cl(a){return void 0!==a}function ph(a,l){return 0!=(a.flags&(l?8:16))}function Jw(a,l=""){const c=Ie(),d=en(),f=a+Wt,m=d.firstCreatePass?dp(d,f,1,l,null):d.data[f],y=Xw(d,c,m,l,a);c[f]=y,Qc()&&Uf(d,c,y,m),os(m,!1)}let Xw=(a,l,c,d,f)=>(go(!0),function el(a,l){return a.createText(l)}(l[Ht],d));function eC(a){return Hn("",a,""),eC}function Hn(a,l,c){const d=Ie(),f=sh(d,a,l,c);return f!==ft&&Yn(d,br(),f),Hn}function Ap(a,l,c,d,f){const m=Ie(),y=Ui(m,a,l,c,d,f);return y!==ft&&Yn(m,br(),y),Ap}function ul(a,l,c){_a(x,ga,sh(Ie(),a,l,c),!0)}function Sv(a,l,c){const d=Ie();return xr(d,As(),l)&&hs(en(),Nn(),d,a,l,d[Ht],c,!0),Sv}function Av(a,l,c){const d=Ie();if(xr(d,As(),l)){const m=en(),y=Nn();hs(m,y,d,a,l,UD(Zl(m.data),y,d),c,!0)}return Av}const gh=void 0;var kT=["en",[["a","p"],["AM","PM"],gh],[["AM","PM"],gh,gh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gh,"{1} 'at' {0}",gh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function RT(a){const c=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Np={};function dC(a){const l=function ji(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=_h(l);if(c)return c;const d=l.split("-")[0];if(c=_h(d),c)return c;if("en"===d)return kT;throw new oe(701,!1)}function Mv(a){return dC(a)[Nt.PluralCase]}function _h(a){return a in Np||(Np[a]=hn.ng&&hn.ng.common&&hn.ng.common.locales&&hn.ng.common.locales[a]),Np[a]}var Nt=(()=>((Nt=Nt||{})[Nt.LocaleId=0]="LocaleId",Nt[Nt.DayPeriodsFormat=1]="DayPeriodsFormat",Nt[Nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nt[Nt.DaysFormat=3]="DaysFormat",Nt[Nt.DaysStandalone=4]="DaysStandalone",Nt[Nt.MonthsFormat=5]="MonthsFormat",Nt[Nt.MonthsStandalone=6]="MonthsStandalone",Nt[Nt.Eras=7]="Eras",Nt[Nt.FirstDayOfWeek=8]="FirstDayOfWeek",Nt[Nt.WeekendRange=9]="WeekendRange",Nt[Nt.DateFormat=10]="DateFormat",Nt[Nt.TimeFormat=11]="TimeFormat",Nt[Nt.DateTimeFormat=12]="DateTimeFormat",Nt[Nt.NumberSymbols=13]="NumberSymbols",Nt[Nt.NumberFormats=14]="NumberFormats",Nt[Nt.CurrencyCode=15]="CurrencyCode",Nt[Nt.CurrencySymbol=16]="CurrencySymbol",Nt[Nt.CurrencyName=17]="CurrencyName",Nt[Nt.Currencies=18]="Currencies",Nt[Nt.Directionality=19]="Directionality",Nt[Nt.PluralCase=20]="PluralCase",Nt[Nt.ExtraData=21]="ExtraData",Nt))();const dl="en-US";let fC=dl;function Uv(a,l,c,d,f){if(a=ke(a),Array.isArray(a))for(let m=0;m<a.length;m++)Uv(a[m],l,c,d,f);else{const m=en(),y=Ie();let C=vu(a)?a:ke(a.provide),D=aw(a);const A=Bn(),k=1048575&A.providerIndexes,L=A.directiveStart,Z=A.providerIndexes>>20;if(vu(a)||!a.multi){const J=new On(D,f,Eu),be=IC(C,l,f?k:k+Z,L);-1===be?(to(ja(A,y),m,C),DC(m,a,l.length),l.push(C),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),c.push(J),y.push(J)):(c[be]=J,y[be]=J)}else{const J=IC(C,l,k+Z,L),be=IC(C,l,k,k+Z),je=be>=0&&c[be];if(f&&!je||!f&&!(J>=0&&c[J])){to(ja(A,y),m,C);const ht=function JT(a,l,c,d,f){const m=new On(a,c,Eu);return m.multi=[],m.index=l,m.componentProviders=0,TC(m,f,d&&!c),m}(f?QT:Hv,c.length,f,d,D);!f&&je&&(c[be].providerFactory=ht),DC(m,a,l.length,0),l.push(C),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),c.push(ht),y.push(ht)}else DC(m,a,J>-1?J:be,TC(c[f?be:J],D,!f&&d));!f&&d&&je&&c[be].componentProviders++}}}function DC(a,l,c,d){const f=vu(l),m=function DM(a){return!!a.useClass}(l);if(f||m){const D=(m?ke(l.useClass):l).prototype.ngOnDestroy;if(D){const A=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const k=A.indexOf(c);-1===k?A.push(c,[d,D]):A[k+1].push(d,D)}else A.push(c,D)}}}function TC(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function IC(a,l,c,d){for(let f=c;f<d;f++)if(l[f]===a)return f;return-1}function Hv(a,l,c,d){return SC(this.multi,[])}function QT(a,l,c,d){const f=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=Uo(c,c[Xe],this.providerFactory.index,d);m=C.slice(0,y),SC(f,m);for(let D=y;D<C.length;D++)m.push(C[D])}else m=[],SC(f,m);return m}function SC(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function XT(a,l=[]){return c=>{c.providersResolver=(d,f)=>function P1(a,l,c){const d=en();if(d.firstCreatePass){const f=Ni(a);Uv(c,d.data,d.blueprint,f,!0),Uv(l,d.data,d.blueprint,f,!1)}}(d,f?f(a):a,l)}}class wh{}class $u{}function Xg(a,l){return new zv(a,l??null,[])}class zv extends wh{constructor(l,c,d){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jD(this);const f=Yi(l);this._bootstrapComponents=nl(f.bootstrap),this._r3Injector=up(l,c,[{provide:wh,useValue:this},{provide:ds,useValue:this.componentFactoryResolver},...d],te(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class AC extends $u{constructor(l){super(),this.moduleType=l}create(l){return new zv(this.moduleType,l,[])}}class tI extends wh{constructor(l){super(),this.componentFactoryResolver=new jD(this),this.instance=null;const c=new rw([...l.providers,{provide:wh,useValue:this},{provide:ds,useValue:this.componentFactoryResolver}],l.parent||Kf(),l.debugName,new Set(["environment"]));this.injector=c,l.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function nI(a,l,c=null){return new tI({providers:a,parent:l,debugName:c,runEnvironmentInitializers:!0}).injector}let MC=(()=>{class a{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=Py(0,c.type),f=d.length>0?nI([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=nn({token:a,providedIn:"environment",factory:()=>new a(an(bu))}),a})();function hr(a){a.getStandaloneInjector=l=>l.get(MC).getOrCreateStandaloneInjector(a)}function cI(a,l,c){const d=Ki()+a,f=Ie();return f[d]===ft?so(f,d,c?l.call(c):l()):function _p(a,l){return a[l]}(f,d)}function fl(a,l){const c=a[l];return c===ft?void 0:c}function NC(a,l,c,d,f,m,y,C){const D=l+c;return function av(a,l,c,d,f){const m=rh(a,l,c,d);return xr(a,l+2,f)||m}(a,D,f,m,y)?so(a,D+3,C?d.call(C,f,m,y):d(f,m,y)):fl(a,D+3)}function pI(a,l){const c=en();let d;const f=a+Wt;c.firstCreatePass?(d=function BC(a,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(a===d.name)return d}}(l,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks??=[]).push(f,d.onDestroy)):d=c.data[f];const m=d.factory||(d.factory=Ds(d.type)),y=vn(Eu);try{const C=ks(!1),D=m();return ks(C),function sT(a,l,c,d){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),l[c]=d}(c,Ie(),f,D),D}finally{vn(y)}}function Wv(a,l,c){const d=a+Wt,f=Ie(),m=Ts(f,d);return wc(f,d)?function Yv(a,l,c,d,f,m){const y=l+c;return xr(a,y,f)?so(a,y+1,m?d.call(m,f):d(f)):fl(a,y+1)}(f,Ki(),l,m.transform,c,m):m.transform(c)}function VC(a,l,c,d){const f=a+Wt,m=Ie(),y=Ts(m,f);return wc(m,f)?function t_(a,l,c,d,f,m,y){const C=l+c;return rh(a,C,f,m)?so(a,C+2,y?d.call(y,f,m):d(f,m)):fl(a,C+2)}(m,Ki(),l,y.transform,c,d,y):y.transform(c,d)}function UC(a,l,c,d,f){const m=a+Wt,y=Ie(),C=Ts(y,m);return wc(y,m)?NC(y,Ki(),l,C.transform,c,d,f,C):C.transform(c,d,f)}function wc(a,l){return a[Xe].data[l].pure}function n_(a){return l=>{setTimeout(a,void 0,l)}}const Vs=class Qv extends o.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){let f=l,m=c||(()=>null),y=d;if(l&&"object"==typeof l){const D=l;f=D.next?.bind(D),m=D.error?.bind(D),y=D.complete?.bind(D)}this.__isAsync&&(m=n_(m),f&&(f=n_(f)),y&&(y=n_(y)));const C=super.subscribe({next:f,error:m,complete:y});return l instanceof K.w0&&l.add(C),C}};function zC(){return this._results[Symbol.iterator]()}class i_{get changes(){return this._changes||(this._changes=new Vs)}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=i_.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=zC)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const f=function fi(a){return a.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function xf(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let f=a[d],m=l[d];if(c&&(f=c(f),m=c(m)),m!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let r_=(()=>{class a{}return a.__NG_ELEMENT_ID__=jC,a})();const mI=r_,Jv=class extends mI{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(l,c){return this.createEmbeddedViewImpl(l,c,null)}createEmbeddedViewImpl(l,c,d){const f=this._declarationTContainer.tView,m=Xd(this._declarationLView,f,l,16,null,f.declTNode,null,null,null,c||null,d||null);m[ho]=this._declarationLView[this._declarationTContainer.index];const C=this._declarationLView[Xn];return null!==C&&(m[Xn]=C.createEmbeddedView(f)),Dg(f,m,l),new Ig(m)}};function jC(){return Xv(Bn(),Ie())}function Xv(a,l){return 4&a.type?new Jv(l,a,hc(a,l)):null}let ib=(()=>{class a{}return a.__NG_ELEMENT_ID__=j1,a})();function j1(){return rb(Bn(),Ie())}const $C=ib,vI=class extends $C{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return hc(this._hostTNode,this._hostLView)}get injector(){return new na(this._hostTNode,this._hostLView)}get parentInjector(){const l=Br(this._hostTNode,this._hostLView);if(Sn(l)){const c=Xl(l,this._hostLView),d=Ke(l);return new na(c[Xe].data[d+8],c)}return new na(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=bI(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-bi}createEmbeddedView(l,c,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const C=l.createEmbeddedViewImpl(c||{},m,null);return this.insertImpl(C,f,false),C}createComponent(l,c,d,f,m){const y=l&&!function bo(a){return"function"==typeof a}(l);let C;if(y)C=c;else{const Fe=c||{};C=Fe.index,d=Fe.injector,f=Fe.projectableNodes,m=Fe.environmentInjector||Fe.ngModuleRef}const D=y?l:new Bt(Gt(l)),A=d||this.parentInjector;if(!m&&null==D.ngModule){const je=(y?A:this.parentInjector).get(bu,null);je&&(m=je)}Gt(D.componentType??{});const J=D.create(A,f,null,m);return this.insertImpl(J.hostView,C,false),J}insert(l,c){return this.insertImpl(l,c,!1)}insertImpl(l,c,d){const f=l._lView,m=f[Xe];if(function sf(a){return Lr(a[In])}(f)){const D=this.indexOf(l);if(-1!==D)this.detach(D);else{const A=f[In],k=new vI(A,A[lr],A[In]);k.detach(k.indexOf(l))}}const y=this._adjustIndex(c),C=this._lContainer;if(function gu(a,l,c,d){const f=bi+d,m=c.length;d>0&&(c[f-1][Nr]=l),d<m-bi?(l[Nr]=c[f],Ps(c,bi+d,l)):(c.push(l),l[Nr]=null),l[In]=c;const y=l[ho];null!==y&&c!==y&&function U0(a,l){const c=a[Ks];l[Gn]!==l[In][In][Gn]&&(a[Bo]=!0),null===c?a[Ks]=[l]:c.push(l)}(y,l);const C=l[Xn];null!==C&&C.insertView(a),l[zt]|=128}(m,f,C,y),!d){const D=aa(y,C),A=f[Ht],k=ot(A,C[vr]);null!==k&&function yy(a,l,c,d,f,m){d[Jn]=f,d[lr]=l,st(a,d,c,1,f,m)}(m,C[lr],A,f,k,D)}return l.attachToViewContainerRef(),Ps(Ch(C),y,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=bI(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=Ud(this._lContainer,c);d&&(qa(Ch(this._lContainer),c),eg(d[Xe],d))}detach(l){const c=this._adjustIndex(l,-1),d=Ud(this._lContainer,c);return d&&null!=qa(Ch(this._lContainer),c)?new Ig(d):null}_adjustIndex(l,c=0){return l??this.length+c}};function bI(a){return a[Kr]}function Ch(a){return a[Kr]||(a[Kr]=[])}function rb(a,l){let c;const d=l[a.index];return Lr(d)?c=d:(c=tv(d,l,null,a),l[a.index]=c,nv(l,c)),ob(c,l,a,d),new vI(c,a,l)}let ob=function s_(a,l,c,d){if(a[vr])return;let f;f=8&c.type?kn(d):function qp(a,l){const c=a[Ht],d=c.createComment(""),f=dr(l,a);return R(c,ot(c,f),d,function ct(a,l){return a.nextSibling(l)}(c,f),!1),d}(l,c),a[vr]=f};class sb{constructor(l){this.queryList=l,this.matches=null}clone(){return new sb(this.queryList)}setDirty(){this.queryList.setDirty()}}class l_{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,f=[];for(let m=0;m<d;m++){const y=c.getByIndex(m);f.push(this.queries[y.indexInDeclarationView].clone())}return new l_(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==KC(l,c).matches&&this.queries[c].setDirty()}}class ab{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class pl{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,m=this.getByIndex(d).embeddedTView(l,f);m&&(m.indexInDeclarationView=d,null!==c?c.push(m):c=[m])}return null!==c?new pl(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class lb{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new lb(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(l,c,$1(c,m)),this.matchTNodeWithReadOption(l,c,iu(c,l,m,!1,!1))}else d===r_?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,iu(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===sp||f===ib||f===r_&&4&c.type)this.addMatch(c.index,-2);else{const m=iu(c,l,f,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function $1(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function G1(a,l,c,d){return-1===c?function qC(a,l){return 11&a.type?hc(a,l):4&a.type?Xv(a,l):null}(l,a):-2===c?function ZC(a,l,c){return c===sp?hc(l,a):c===r_?Xv(l,a):c===ib?rb(l,a):void 0}(a,l,d):Uo(a,a[Xe],c,l)}function wI(a,l,c,d){const f=l[Xn].queries[d];if(null===f.matches){const m=a.data,y=c.matches,C=[];for(let D=0;D<y.length;D+=2){const A=y[D];C.push(A<0?null:G1(l,m[A],y[D+1],c.metadata.read))}f.matches=C}return f.matches}function c_(a,l,c,d){const f=a.queries.getByIndex(c),m=f.matches;if(null!==m){const y=wI(a,l,f,c);for(let C=0;C<m.length;C+=2){const D=m[C];if(D>0)d.push(y[C/2]);else{const A=m[C+1],k=l[-D];for(let L=bi;L<k.length;L++){const Z=k[L];Z[ho]===Z[In]&&c_(Z[Xe],Z,A,d)}if(null!==k[Ks]){const L=k[Ks];for(let Z=0;Z<L.length;Z++){const J=L[Z];c_(J[Xe],J,A,d)}}}}}return d}function u_(a){const l=Ie(),c=en(),d=ff();Yc(d+1);const f=KC(c,d);if(a.dirty&&function ly(a){return 4==(4&a[zt])}(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const m=f.crossesNgTemplate?c_(c,l,d,[]):wI(c,l,f,d);a.reset(m,ri),a.notifyOnChanges()}return!0}return!1}function cb(a,l,c){const d=en();d.firstCreatePass&&(xI(d,new ab(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),CI(d,Ie(),l)}function YC(a,l,c,d){const f=en();if(f.firstCreatePass){const m=Bn();xI(f,new ab(l,c,d),m.index),function EI(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(f,a),2==(2&c)&&(f.staticContentQueries=!0)}CI(f,Ie(),c)}function xh(){return function WC(a,l){return a[Xn].queries[l].queryList}(Ie(),ff())}function CI(a,l,c){const d=new i_(4==(4&c));(function OD(a,l,c,d){const f=Eg(l);f.push(c),a.firstCreatePass&&VD(a).push(d,f.length-1)})(a,l,d,d.destroy),null===l[Xn]&&(l[Xn]=new l_),l[Xn].queries.push(new sb(d))}function xI(a,l,c){null===a.queries&&(a.queries=new pl),a.queries.track(new lb(l,c))}function KC(a,l){return a.queries.getByIndex(l)}function DI(a,l){return Xv(a,l)}function db(a){return!!Yi(a)}const vb=new Cn("Application Initializer");let ax=(()=>{class a{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d}),this.appInits=Xt(vb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const f of this.appInits){const m=f();if(al(m))c.push(m);else if(Lw(m)){const y=new Promise((C,D)=>{m.subscribe({complete:C,error:D})});c.push(y)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=nn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),bb=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=nn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Jp=new Cn("LocaleId",{providedIn:"root",factory:()=>Xt(Jp,Qe.Optional|Qe.SkipSelf)||function xc(){return typeof $localize<"u"&&$localize.locale||dl}()}),eR=new Cn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let wb=(()=>{class a{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new N.X(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=nn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();class tR{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let lx=(()=>{class a{compileModuleSync(c){return new AC(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),m=nl(Yi(c).declarations).reduce((y,C)=>{const D=Gt(C);return D&&y.push(new Bt(D)),y},[]);return new tR(d,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=nn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const rR=(()=>Promise.resolve(0))();function ux(a){typeof Zone>"u"?rR.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}function xb(...a){}class qr{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vs(!1),this.onMicrotaskEmpty=new Vs(!1),this.onStable=new Vs(!1),this.onError=new Vs(!1),typeof Zone>"u")throw new oe(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function oR(){let a=hn.requestAnimationFrame,l=hn.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function sR(a){const l=()=>{!function p_(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(hn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,m_(a),a.isCheckStableRunning=!0,hx(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),m_(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,m,y,C)=>{try{return fx(a),c.invokeTask(f,m,y,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&l(),Th(a)}},onInvoke:(c,d,f,m,y,C,D)=>{try{return fx(a),c.invoke(f,m,y,C,D)}finally{a.shouldCoalesceRunChangeDetection&&l(),Th(a)}},onHasTask:(c,d,f,m)=>{c.hasTask(f,m),d===f&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,m_(a),hx(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,d,f,m)=>(c.handleError(f,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qr.isInAngularZone())throw new oe(909,!1)}static assertNotInAngularZone(){if(qr.isInAngularZone())throw new oe(909,!1)}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,f){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+f,l,dx,xb,xb);try{return m.runTask(y,c,d)}finally{m.cancelTask(y)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const dx={};function hx(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function m_(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function fx(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Th(a){a._nesting--,hx(a)}class WI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vs,this.onMicrotaskEmpty=new Vs,this.onStable=new Vs,this.onError=new Vs}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,f){return l.apply(c,d)}}const g_=new Cn("",{providedIn:"root",factory:KI});function KI(){const a=Xt(qr);let l=!0;const c=new ie.y(f=>{l=a.isStable&&!a.hasPendingMacrotasks&&!a.hasPendingMicrotasks,a.runOutsideAngular(()=>{f.next(l),f.complete()})}),d=new ie.y(f=>{let m;a.runOutsideAngular(()=>{m=a.onStable.subscribe(()=>{qr.assertNotInAngularZone(),ux(()=>{!l&&!a.hasPendingMacrotasks&&!a.hasPendingMicrotasks&&(l=!0,f.next(!0))})})});const y=a.onUnstable.subscribe(()=>{qr.assertInAngularZone(),l&&(l=!1,a.runOutsideAngular(()=>{f.next(!1)}))});return()=>{m.unsubscribe(),y.unsubscribe()}});return(0,se.T)(c,d.pipe((0,_e.B)()))}const QI=new Cn(""),JI=new Cn("");let y_,aR=(()=>{class a{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,y_||(function px(a){y_=a}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qr.assertNotInAngularZone(),ux(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ux(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return a.\u0275fac=function(c){return new(c||a)(an(qr),an(__),an(JI))},a.\u0275prov=nn({token:a,factory:a.\u0275fac}),a})(),__=(()=>{class a{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return y_?.findTestabilityInTree(this,c,d)??null}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=nn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),ml=null;const mx=new Cn("AllowMultipleToken"),v_=new Cn("PlatformDestroyListeners"),b_=new Cn("appBootstrapListener");class eS{constructor(l,c){this.name=l,this.token=c}}function iS(a,l,c=[]){const d=`Platform: ${l}`,f=new Cn(d);return(m=[])=>{let y=yx();if(!y||y.injector.get(mx,!1)){const C=[...c,...m,{provide:f,useValue:!0}];a?a(C):function _x(a){if(ml&&!ml.get(mx,!1))throw new oe(400,!1);(function gx(){!function Lc(a){Ul=a}(()=>{throw new oe(600,!1)})})(),ml=a;const l=a.get(vx);(function Ih(a){a.get(cD,null)?.forEach(c=>c())})(a)}(function rS(a=[],l){return fc.create({name:l,providers:[{provide:iw,useValue:"platform"},{provide:v_,useValue:new Set([()=>ml=null])},...a]})}(C,d))}return function lR(a){const l=yx();if(!l)throw new oe(401,!1);return l}()}}function yx(){return ml?.get(vx)??null}let vx=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function uR(a="zone.js",l){return"noop"===a?new WI:"zone.js"===a?new qr(l):a}(d?.ngZone,function oS(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:a?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:a?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return f.run(()=>{const m=function eI(a,l,c){return new zv(a,l,c)}(c.moduleType,this.injector,function un(a){return[{provide:qr,useFactory:a},{provide:Yf,multi:!0,useFactory:()=>{const l=Xt(cS,{optional:!0});return()=>l.initialize()}},{provide:bx,useFactory:lS},{provide:g_,useFactory:KI}]}(()=>f)),y=m.injector.get(Qd,null);return f.runOutsideAngular(()=>{const C=f.onError.subscribe({next:D=>{y.handleError(D)}});m.onDestroy(()=>{w_(this._modules,m),C.unsubscribe()})}),function sS(a,l,c){try{const d=c();return al(d)?d.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(y,f,()=>{const C=m.injector.get(ax);return C.runInitializers(),C.donePromise.then(()=>(function pC(a){at(a,"Expected localeId to be defined"),"string"==typeof a&&(fC=a.toLowerCase().replace(/_/g,"-"))}(m.injector.get(Jp,dl)||dl),this._moduleDoBootstrap(m),m))})})}bootstrapModule(c,d=[]){const f=aS({},d);return function Eb(a,l,c){const d=new AC(c);return Promise.resolve(d)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(c){const d=c.injector.get(Sh);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new oe(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new oe(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(v_,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(an(fc))},a.\u0275prov=nn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function aS(a,l){return Array.isArray(l)?l.reduce(aS,a):{...a,...l}}let Sh=(()=>{class a{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Xt(bx),this.zoneIsStable=Xt(g_),this.componentTypes=[],this.components=[],this.isStable=Xt(wb).hasPendingTasks.pipe((0,Le.z)(c=>c?(0,ne.of)(!1):this.zoneIsStable),(0,pe.x)(),(0,_e.B)()),this._injector=Xt(bu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof mD;if(!this._injector.get(ax).done)throw!f&&xs(c),new oe(405,!1);let y;y=f?c:this._injector.get(ds).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const C=function Db(a){return a.isBoundToModule}(y)?void 0:this._injector.get(wh),A=y.create(fc.NULL,[],d||y.selector,C),k=A.location.nativeElement,L=A.injector.get(QI,null);return L?.registerApplication(k),A.onDestroy(()=>{this.detachView(A.hostView),w_(this.components,A),L?.unregisterApplication(k)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new oe(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;w_(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(b_,[]);d.push(...this._bootstrapListeners),d.forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>w_(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new oe(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=nn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function w_(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}const bx=new Cn("",{providedIn:"root",factory:()=>Xt(Qd).handleError.bind(void 0)});function lS(){const a=Xt(qr),l=Xt(Qd);return c=>a.runOutsideAngular(()=>l.handleError(c))}let cS=(()=>{class a{constructor(){this.zone=Xt(qr),this.applicationRef=Xt(Sh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=nn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function dS(){return!1}let gl=(()=>{class a{}return a.__NG_ELEMENT_ID__=hS,a})();function hS(a){return function hR(a,l,c){if(ns(a)&&!c){const d=xi(a.index,l);return new Ig(d,d)}return 47&a.type?new Ig(l[Gn],l):null}(Bn(),Ie(),16==(16&a))}class gS{constructor(){}supports(l){return $o(l)}create(l){return new C_(l)}}const _S=(a,l)=>l;class C_{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||_S}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,f=0,m=null;for(;c||d;){const y=!d||c&&c.currentIndex<_R(d,f,m)?c:d,C=_R(y,f,m),D=y.currentIndex;if(y===d)f--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)f++;else{m||(m=[]);const A=C-f,k=D-f;if(A!=k){for(let Z=0;Z<A;Z++){const J=Z<m.length?m[Z]:m[Z]=0,be=J+Z;k<=be&&be<A&&(m[Z]=J+1)}m[y.previousIndex]=k-A}}C!==D&&l(y,C,D)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!$o(l))throw new oe(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,m,y,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)m=l[C],y=this._trackByFn(C,m),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,m,y,C)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,y,C),d=!0),c=c._next}else f=0,function kg(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[Symbol.iterator]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,C=>{y=this._trackByFn(f,C),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,C,y,f)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,y,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,f){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,m,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,m,f)):l=this._addAfter(new gR(c,d),m,f),l}_verifyReinsertion(l,c,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?l=this._reinsertAfter(m,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,m=l._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const f=null===c?this._itHead:c._next;return l._next=f,l._prev=c,null===f?this._itTail=l:f._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new yl),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yl),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class gR{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _l{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class yl{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new _l,this.map.set(c,d)),d.add(l)}get(l,c){const f=this.map.get(l);return f?f.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _R(a,l,c){const d=a.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+l+f}class Gu{constructor(){}supports(l){return l instanceof Map||rl(l)}create(){return new Mb}}class Mb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||rl(l)))throw new oe(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,c);const m=f._prev,y=f._next;return m&&(m._next=y),y&&(y._prev=m),f._next=null,f._prev=null,f}const d=new yR(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class yR{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yS(){return new Rb([new gS])}let Rb=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||yS()),deps:[[a,new Vr,new Co]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new oe(901,!1)}}return a.\u0275prov=nn({token:a,providedIn:"root",factory:yS}),a})();function x_(){return new Sx([new Gu])}let Sx=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||x_()),deps:[[a,new Vr,new Co]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new oe(901,!1)}}return a.\u0275prov=nn({token:a,providedIn:"root",factory:x_}),a})();const Ax=iS(null,"core",[]);let wR=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(an(Sh))},a.\u0275mod=es({type:a}),a.\u0275inj=li({}),a})();function DR(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}function IR(a){const l=Gt(a);if(!l)return null;const c=new Bt(l);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return l.standalone}}}},3942:(pt,Ce,P)=>{P.d(Ce,{Z:()=>tt});var o=P(2090),K=P(4859),N=P(6881),ie=P(1877);class se{constructor(Ye,Ne){this._delegate=Ye,this.firebase=Ne,(0,N._addComponent)(Ye,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=Ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this._delegate.automaticDataCollectionEnabled=Ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ye=>{this._delegate.checkDestroyed(),Ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(Ye,Ne=N._DEFAULT_ENTRY_NAME){var xt;this._delegate.checkDestroyed();const _t=this._delegate.container.getProvider(Ye);return!_t.isInitialized()&&"EXPLICIT"===(null===(xt=_t.getComponent())||void 0===xt?void 0:xt.instantiationMode)&&_t.initialize(),_t.getImmediate({identifier:Ne})}_removeServiceInstance(Ye,Ne=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ye).clearInstance(Ne)}_addComponent(Ye){(0,N._addComponent)(this._delegate,Ye)}_addOrOverwriteComponent(Ye){(0,N._addOrOverwriteComponent)(this._delegate,Ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function pe(){const ke=function Le(ke){const Ye={},Ne={__esModule:!0,initializeApp:function oe(Se,Ue={}){const le=N.initializeApp(Se,Ue);if((0,o.r3)(Ye,le.name))return Ye[le.name];const $e=new ke(le,Ne);return Ye[le.name]=$e,$e},app:_t,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function X(Se){const Ue=Se.name,le=Ue.replace("-compat","");if(N._registerComponent(Se)&&"PUBLIC"===Se.type){const $e=(Qt=_t())=>{if("function"!=typeof Qt[le])throw _e.create("invalid-app-argument",{appName:Ue});return Qt[le]()};void 0!==Se.serviceProps&&(0,o.ZB)($e,Se.serviceProps),Ne[le]=$e,ke.prototype[le]=function(...Qt){return this._getService.bind(this,Ue).apply(this,Se.multipleInstances?Qt:[])}}return"PUBLIC"===Se.type?Ne[le]:null},removeApp:function xt(Se){delete Ye[Se]},useAsService:function me(Se,Ue){return"serverAuth"===Ue?null:Ue},modularAPIs:N}};function _t(Se){if(!(0,o.r3)(Ye,Se=Se||N._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:Se});return Ye[Se]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function ye(){return Object.keys(Ye).map(Se=>Ye[Se])}}),_t.App=ke,Ne}(se);return ke.INTERNAL=Object.assign(Object.assign({},ke.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function Ye(Ne){(0,o.ZB)(ke,Ne)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),ke}(),$=new ie.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ke=self.firebase.SDK_VERSION;ke&&ke.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const tt=U;!function Te(ke){(0,N.registerVersion)("@firebase/app-compat","0.2.11",ke)}()},6881:(pt,Ce,P)=>{P.r(Ce),P.d(Ce,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>qs,_DEFAULT_ENTRY_NAME:()=>Qe,_addComponent:()=>Ln,_addOrOverwriteComponent:()=>_r,_apps:()=>Et,_clearComponents:()=>_n,_components:()=>vn,_getProvider:()=>Mi,_registerComponent:()=>hn,_removeServiceInstance:()=>Il,deleteApp:()=>Ri,getApp:()=>Or,getApps:()=>Oo,initializeApp:()=>Sl,onLog:()=>Po,registerVersion:()=>Dn,setLogLevel:()=>an});var o=P(5861),K=P(4859),N=P(1877),ie=P(2090);const se=(he,re)=>re.some(Oe=>he instanceof Oe);let ne,_e;const U=new WeakMap,$=new WeakMap,te=new WeakMap,Ve=new WeakMap,Te=new WeakMap;let Ye={get(he,re,Oe){if(he instanceof IDBTransaction){if("done"===re)return $.get(he);if("objectStoreNames"===re)return he.objectStoreNames||te.get(he);if("store"===re)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return oe(he[re])},set:(he,re,Oe)=>(he[re]=Oe,!0),has:(he,re)=>he instanceof IDBTransaction&&("done"===re||"store"===re)||re in he};function _t(he){return"function"==typeof he?function xt(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...re){return he.apply(ye(this),re),oe(U.get(this))}:function(...re){return oe(he.apply(ye(this),re))}:function(re,...Oe){const mt=he.call(ye(this),re,...Oe);return te.set(mt,re.sort?re.sort():[re]),oe(mt)}}(he):(he instanceof IDBTransaction&&function ke(he){if($.has(he))return;const re=new Promise((Oe,mt)=>{const Ot=()=>{he.removeEventListener("complete",$t),he.removeEventListener("error",rn),he.removeEventListener("abort",rn)},$t=()=>{Oe(),Ot()},rn=()=>{mt(he.error||new DOMException("AbortError","AbortError")),Ot()};he.addEventListener("complete",$t),he.addEventListener("error",rn),he.addEventListener("abort",rn)});$.set(he,re)}(he),se(he,function Le(){return ne||(ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,Ye):he)}function oe(he){if(he instanceof IDBRequest)return function tt(he){const re=new Promise((Oe,mt)=>{const Ot=()=>{he.removeEventListener("success",$t),he.removeEventListener("error",rn)},$t=()=>{Oe(oe(he.result)),Ot()},rn=()=>{mt(he.error),Ot()};he.addEventListener("success",$t),he.addEventListener("error",rn)});return re.then(Oe=>{Oe instanceof IDBCursor&&U.set(Oe,he)}).catch(()=>{}),Te.set(re,he),re}(he);if(Ve.has(he))return Ve.get(he);const re=_t(he);return re!==he&&(Ve.set(he,re),Te.set(re,he)),re}const ye=he=>Te.get(he),Se=["get","getKey","getAll","getAllKeys","count"],Ue=["put","add","delete","clear"],le=new Map;function $e(he,re){if(!(he instanceof IDBDatabase)||re in he||"string"!=typeof re)return;if(le.get(re))return le.get(re);const Oe=re.replace(/FromIndex$/,""),mt=re!==Oe,Ot=Ue.includes(Oe);if(!(Oe in(mt?IDBIndex:IDBObjectStore).prototype)||!Ot&&!Se.includes(Oe))return;const $t=function(){var rn=(0,o.Z)(function*(vi,...ui){const Jo=this.transaction(vi,Ot?"readwrite":"readonly");let Cs=Jo.store;return mt&&(Cs=Cs.index(ui.shift())),(yield Promise.all([Cs[Oe](...ui),Ot&&Jo.done]))[0]});return function(ui){return rn.apply(this,arguments)}}();return le.set(re,$t),$t}!function Ne(he){Ye=he(Ye)}(he=>({...he,get:(re,Oe,mt)=>$e(re,Oe)||he.get(re,Oe,mt),has:(re,Oe)=>!!$e(re,Oe)||he.has(re,Oe)}));class Qt{constructor(re){this.container=re}getPlatformInfoString(){return this.container.getProviders().map(Oe=>{if(function Ai(he){const re=he.getComponent();return"VERSION"===re?.type}(Oe)){const mt=Oe.getImmediate();return`${mt.library}/${mt.version}`}return null}).filter(Oe=>Oe).join(" ")}}const mr="@firebase/app",ue=new N.Yd("@firebase/app"),Qe="[DEFAULT]",vt={[mr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Et=new Map,vn=new Map;function Ln(he,re){try{he.container.addComponent(re)}catch(Oe){ue.debug(`Component ${re.name} failed to register with FirebaseApp ${he.name}`,Oe)}}function _r(he,re){he.container.addOrOverwriteComponent(re)}function hn(he){const re=he.name;if(vn.has(re))return ue.debug(`There were multiple attempts to register component ${re}.`),!1;vn.set(re,he);for(const Oe of Et.values())Ln(Oe,he);return!0}function Mi(he,re){const Oe=he.container.getProvider("heartbeat").getImmediate({optional:!0});return Oe&&Oe.triggerHeartbeat(),he.container.getProvider(re)}function Il(he,re,Oe=Qe){Mi(he,re).clearInstance(Oe)}function _n(){vn.clear()}const Yt=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ko{constructor(re,Oe,mt){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},Oe),this._name=Oe.name,this._automaticDataCollectionEnabled=Oe.automaticDataCollectionEnabled,this._container=mt,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw Yt.create("app-deleted",{appName:this._name})}}const qs="9.22.1";function Sl(he,re={}){let Oe=he;"object"!=typeof re&&(re={name:re});const mt=Object.assign({name:Qe,automaticDataCollectionEnabled:!1},re),Ot=mt.name;if("string"!=typeof Ot||!Ot)throw Yt.create("bad-app-name",{appName:String(Ot)});if(Oe||(Oe=(0,ie.aH)()),!Oe)throw Yt.create("no-options");const $t=Et.get(Ot);if($t){if((0,ie.vZ)(Oe,$t.options)&&(0,ie.vZ)(mt,$t.config))return $t;throw Yt.create("duplicate-app",{appName:Ot})}const rn=new K.H0(Ot);for(const ui of vn.values())rn.addComponent(ui);const vi=new ko(Oe,mt,rn);return Et.set(Ot,vi),vi}function Or(he=Qe){const re=Et.get(he);if(!re&&he===Qe&&(0,ie.aH)())return Sl();if(!re)throw Yt.create("no-app",{appName:he});return re}function Oo(){return Array.from(Et.values())}function Ri(he){return yi.apply(this,arguments)}function yi(){return(yi=(0,o.Z)(function*(he){const re=he.name;Et.has(re)&&(Et.delete(re),yield Promise.all(he.container.getProviders().map(Oe=>Oe.delete())),he.isDeleted=!0)})).apply(this,arguments)}function Dn(he,re,Oe){var mt;let Ot=null!==(mt=vt[he])&&void 0!==mt?mt:he;Oe&&(Ot+=`-${Oe}`);const $t=Ot.match(/\s|\//),rn=re.match(/\s|\//);if($t||rn){const vi=[`Unable to register library "${Ot}" with version "${re}":`];return $t&&vi.push(`library name "${Ot}" contains illegal characters (whitespace or "/")`),$t&&rn&&vi.push("and"),rn&&vi.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void ue.warn(vi.join(" "))}hn(new K.wA(`${Ot}-version`,()=>({library:Ot,version:re}),"VERSION"))}function Po(he,re){if(null!==he&&"function"!=typeof he)throw Yt.create("invalid-log-argument");(0,N.Am)(he,re)}function an(he){(0,N.Ub)(he)}const No="firebase-heartbeat-database",Xt=1,H="firebase-heartbeat-store";let V=null;function Y(){return V||(V=function X(he,re,{blocked:Oe,upgrade:mt,blocking:Ot,terminated:$t}={}){const rn=indexedDB.open(he,re),vi=oe(rn);return mt&&rn.addEventListener("upgradeneeded",ui=>{mt(oe(rn.result),ui.oldVersion,ui.newVersion,oe(rn.transaction),ui)}),Oe&&rn.addEventListener("blocked",ui=>Oe(ui.oldVersion,ui.newVersion,ui)),vi.then(ui=>{$t&&ui.addEventListener("close",()=>$t()),Ot&&ui.addEventListener("versionchange",Jo=>Ot(Jo.oldVersion,Jo.newVersion,Jo))}).catch(()=>{}),vi}(No,Xt,{upgrade:(he,re)=>{0===re&&he.createObjectStore(H)}}).catch(he=>{throw Yt.create("idb-open",{originalErrorMessage:he.message})})),V}function ce(){return(ce=(0,o.Z)(function*(he){try{return yield(yield Y()).transaction(H).objectStore(H).get(Vt(he))}catch(re){if(re instanceof ie.ZR)ue.warn(re.message);else{const Oe=Yt.create("idb-get",{originalErrorMessage:re?.message});ue.warn(Oe.message)}}})).apply(this,arguments)}function lt(he,re){return bt.apply(this,arguments)}function bt(){return(bt=(0,o.Z)(function*(he,re){try{const mt=(yield Y()).transaction(H,"readwrite");yield mt.objectStore(H).put(re,Vt(he)),yield mt.done}catch(Oe){if(Oe instanceof ie.ZR)ue.warn(Oe.message);else{const mt=Yt.create("idb-set",{originalErrorMessage:Oe?.message});ue.warn(mt.message)}}})).apply(this,arguments)}function Vt(he){return`${he.name}!${he.options.appId}`}class kt{constructor(re){this.container=re,this._heartbeatsCache=null;const Oe=this.container.getProvider("app").getImmediate();this._storage=new Yr(Oe),this._heartbeatsCachePromise=this._storage.read().then(mt=>(this._heartbeatsCache=mt,mt))}triggerHeartbeat(){var re=this;return(0,o.Z)(function*(){const mt=re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ot=Jt();if(null===re._heartbeatsCache&&(re._heartbeatsCache=yield re._heartbeatsCachePromise),re._heartbeatsCache.lastSentHeartbeatDate!==Ot&&!re._heartbeatsCache.heartbeats.some($t=>$t.date===Ot))return re._heartbeatsCache.heartbeats.push({date:Ot,agent:mt}),re._heartbeatsCache.heartbeats=re._heartbeatsCache.heartbeats.filter($t=>{const rn=new Date($t.date).valueOf();return Date.now()-rn<=2592e6}),re._storage.overwrite(re._heartbeatsCache)})()}getHeartbeatsHeader(){var re=this;return(0,o.Z)(function*(){if(null===re._heartbeatsCache&&(yield re._heartbeatsCachePromise),null===re._heartbeatsCache||0===re._heartbeatsCache.heartbeats.length)return"";const Oe=Jt(),{heartbeatsToSend:mt,unsentEntries:Ot}=function ki(he,re=1024){const Oe=[];let mt=he.slice();for(const Ot of he){const $t=Oe.find(rn=>rn.agent===Ot.agent);if($t){if($t.dates.push(Ot.date),Fo(Oe)>re){$t.dates.pop();break}}else if(Oe.push({agent:Ot.agent,dates:[Ot.date]}),Fo(Oe)>re){Oe.pop();break}mt=mt.slice(1)}return{heartbeatsToSend:Oe,unsentEntries:mt}}(re._heartbeatsCache.heartbeats),$t=(0,ie.L)(JSON.stringify({version:2,heartbeats:mt}));return re._heartbeatsCache.lastSentHeartbeatDate=Oe,Ot.length>0?(re._heartbeatsCache.heartbeats=Ot,yield re._storage.overwrite(re._heartbeatsCache)):(re._heartbeatsCache.heartbeats=[],re._storage.overwrite(re._heartbeatsCache)),$t})()}}function Jt(){return(new Date).toISOString().substring(0,10)}class Yr{constructor(re){this.app=re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var re=this;return(0,o.Z)(function*(){return(yield re._canUseIndexedDBPromise)&&(yield function we(he){return ce.apply(this,arguments)}(re.app))||{heartbeats:[]}})()}overwrite(re){var Oe=this;return(0,o.Z)(function*(){var mt;if(yield Oe._canUseIndexedDBPromise){const $t=yield Oe.read();return lt(Oe.app,{lastSentHeartbeatDate:null!==(mt=re.lastSentHeartbeatDate)&&void 0!==mt?mt:$t.lastSentHeartbeatDate,heartbeats:re.heartbeats})}})()}add(re){var Oe=this;return(0,o.Z)(function*(){var mt;if(yield Oe._canUseIndexedDBPromise){const $t=yield Oe.read();return lt(Oe.app,{lastSentHeartbeatDate:null!==(mt=re.lastSentHeartbeatDate)&&void 0!==mt?mt:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,...re.heartbeats]})}})()}}function Fo(he){return(0,ie.L)(JSON.stringify({version:2,heartbeats:he})).length}!function Pr(he){hn(new K.wA("platform-logger",re=>new Qt(re),"PRIVATE")),hn(new K.wA("heartbeat",re=>new kt(re),"PRIVATE")),Dn(mr,"0.9.11",he),Dn(mr,"0.9.11","esm2017"),Dn("fire-js","")}("")},4859:(pt,Ce,P)=>{P.d(Ce,{H0:()=>Le,wA:()=>N});var o=P(5861),K=P(2090);class N{constructor(U,$,te){this.name=U,this.instanceFactory=$,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const ie="[DEFAULT]";class se{constructor(U,$){this.name=U,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const $=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has($)){const te=new K.BH;if(this.instancesDeferred.set($,te),this.isInitialized($)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:$});Ve&&te.resolve(Ve)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(U){var $;const te=this.normalizeInstanceIdentifier(U?.identifier),Ve=null!==($=U?.optional)&&void 0!==$&&$;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Te){if(Ve)return null;throw Te}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function _e(pe){return"EAGER"===pe.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[$,te]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier($);try{const Te=this.getOrInitializeService({instanceIdentifier:Ve});te.resolve(Te)}catch{}}}}clearInstance(U=ie){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,o.Z)(function*(){const $=Array.from(U.instances.values());yield Promise.all([...$.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...$.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=ie){return this.instances.has(U)}getOptions(U=ie){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:$={}}=U,te=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:te,options:$});for(const[Te,tt]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Te)&&tt.resolve(Ve);return Ve}onInit(U,$){var te;const Ve=this.normalizeInstanceIdentifier($),Te=null!==(te=this.onInitCallbacks.get(Ve))&&void 0!==te?te:new Set;Te.add(U),this.onInitCallbacks.set(Ve,Te);const tt=this.instances.get(Ve);return tt&&U(tt,Ve),()=>{Te.delete(U)}}invokeOnInitCallbacks(U,$){const te=this.onInitCallbacks.get($);if(te)for(const Ve of te)try{Ve(U,$)}catch{}}getOrInitializeService({instanceIdentifier:U,options:$={}}){let te=this.instances.get(U);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=U,pe===ie?void 0:pe),options:$}),this.instances.set(U,te),this.instancesOptions.set(U,$),this.invokeOnInitCallbacks(te,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,te)}catch{}var pe;return te||null}normalizeInstanceIdentifier(U=ie){return this.component?this.component.multipleInstances?U:ie:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Le{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const $=this.getProvider(U.name);if($.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);$.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const $=new se(U,this);return this.providers.set(U,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(pt,Ce,P)=>{P.d(Ce,{Am:()=>pe,Ub:()=>Le,Yd:()=>_e,in:()=>K});const o=[];var K=(()=>((K=K||{})[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",K))();const N={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},ie=K.INFO,se={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},ne=(U,$,...te)=>{if($<U.logLevel)return;const Ve=(new Date).toISOString(),Te=se[$];if(!Te)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Te](`[${Ve}]  ${U.name}:`,...te)};class _e{constructor($){this.name=$,this._logLevel=ie,this._logHandler=ne,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in K))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?N[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...$),this._logHandler(this,K.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...$),this._logHandler(this,K.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,K.INFO,...$),this._logHandler(this,K.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,K.WARN,...$),this._logHandler(this,K.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...$),this._logHandler(this,K.ERROR,...$)}}function Le(U){o.forEach($=>{$.setLogLevel(U)})}function pe(U,$){for(const te of o){let Ve=null;$&&$.level&&(Ve=N[$.level]),te.userLogHandler=null===U?null:(Te,tt,...ke)=>{const Ye=ke.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch{return null}}).filter(Ne=>Ne).join(" ");tt>=(Ve??Te.logLevel)&&U({level:K[tt].toLowerCase(),message:Ye,args:ke,type:Te.name})}}}},259:(pt,Ce,P)=>{P.d(Ce,{C6:()=>o.getApps,Mq:()=>o.getApp});var o=P(6881);(0,o.registerVersion)("firebase","9.22.1","app")},9260:(pt,Ce,P)=>{P.d(Ce,{Z:()=>o.Z});var o=P(3942);o.Z.registerVersion("firebase","9.22.1","app-compat")},2644:(pt,Ce,P)=>{P.r(Ce);var o=P(5861),K=P(3942),N=P(2090),ie=P(6881),se=P(7582),ne=P(1877),_e=P(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const tt=function Ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ke=function Te(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ye=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xt=new ne.Yd("@firebase/auth");function oe(v,...p){xt.logLevel<=ne.in.ERROR&&xt.error(`Auth (${ie.SDK_VERSION}): ${v}`,...p)}function ye(v,...p){throw Ue(v,...p)}function X(v,...p){return Ue(v,...p)}function me(v,p,g){const w=Object.assign(Object.assign({},ke()),{[p]:g});return new N.LL("auth","Firebase",w).create(p,{appName:v.name})}function Se(v,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&ye(v,"argument-error"),me(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ue(v,...p){if("string"!=typeof v){const g=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(g,...w)}return Ye.create(v,...p)}function le(v,p,...g){if(!v)throw Ue(p,...g)}function $e(v){const p="INTERNAL ASSERTION FAILED: "+v;throw oe(p),new Error(p)}function Qt(v,p){v||$e(p)}function Ai(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function mr(){return"http:"===bs()||"https:"===bs()}function bs(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Ee{constructor(p,g){this.shortDelay=p,this.longDelay=g,Qt(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function ue(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(mr()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Me(v,p){Qt(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class qe{static initialize(p,g,w){this.fetchImpl=p,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void $e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void $e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void $e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const He={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},St=new Ee(3e4,6e4);function rt(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function Zt(v,p,g,w){return at.apply(this,arguments)}function at(){return(at=(0,o.Z)(function*(v,p,g,w,I={}){return yt(v,I,(0,o.Z)(function*(){let R={},j={};w&&("GET"===p?j=w:R={body:JSON.stringify(w)});const ee=(0,N.xO)(Object.assign({key:v.config.apiKey},j)).slice(1),Ae=yield v._getAdditionalHeaders();return Ae["Content-Type"]="application/json",v.languageCode&&(Ae["X-Firebase-Locale"]=v.languageCode),qe.fetch()(nn(v,v.config.apiHost,g,ee),Object.assign({method:p,headers:Ae,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function yt(v,p,g){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,o.Z)(function*(v,p,g){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},He),p);try{const I=new Mr(v),R=yield Promise.race([g(),I.promise]);I.clearNetworkTimeout();const j=yield R.json();if("needConfirmation"in j)throw li(v,"account-exists-with-different-credential",j);if(R.ok&&!("errorMessage"in j))return j;{const ee=R.ok?j.errorMessage:j.error.message,[Ae,Ze]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ae)throw li(v,"credential-already-in-use",j);if("EMAIL_EXISTS"===Ae)throw li(v,"email-already-in-use",j);if("USER_DISABLED"===Ae)throw li(v,"user-disabled",j);const ot=w[Ae]||Ae.toLowerCase().replace(/[_\s]+/g,"-");if(Ze)throw me(v,ot,Ze);ye(v,ot)}}catch(I){if(I instanceof N.ZR)throw I;ye(v,"network-request-failed",{message:String(I)})}})).apply(this,arguments)}function dn(v,p,g,w){return $n.apply(this,arguments)}function $n(){return($n=(0,o.Z)(function*(v,p,g,w,I={}){const R=yield Zt(v,p,g,w,I);return"mfaPendingCredential"in R&&ye(v,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function nn(v,p,g,w){const I=`${p}${g}?${w}`;return v.config.emulator?Me(v.config,I):`${v.config.apiScheme}://${I}`}class Mr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(X(this.auth,"network-request-failed")),St.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function li(v,p,g){const w={appName:v.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const I=X(v,p,w);return I.customData._tokenResponse=g,I}function ci(){return(ci=(0,o.Z)(function*(v,p){return Zt(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Gs(){return(Gs=(0,o.Z)(function*(v,p){return Zt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Rr(){return(Rr=(0,o.Z)(function*(v,p){return Zt(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function kr(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Qe(){return(Qe=(0,o.Z)(function*(v,p=!1){const g=(0,N.m9)(v),w=yield g.getIdToken(p),I=Et(w);le(I&&I.exp&&I.auth_time&&I.iat,g.auth,"internal-error");const R="object"==typeof I.firebase?I.firebase:void 0,j=R?.sign_in_provider;return{claims:I,token:w,authTime:kr(vt(I.auth_time)),issuedAtTime:kr(vt(I.iat)),expirationTime:kr(vt(I.exp)),signInProvider:j||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function vt(v){return 1e3*Number(v)}function Et(v){const[p,g,w]=v.split(".");if(void 0===p||void 0===g||void 0===w)return oe("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,N.tV)(g);return I?JSON.parse(I):(oe("Failed to decode base64 JWT payload"),null)}catch(I){return oe("Caught error parsing JWT payload as JSON",I?.toString()),null}}function Ln(v,p){return _r.apply(this,arguments)}function _r(){return(_r=(0,o.Z)(function*(v,p,g=!1){if(g)return p;try{return yield p}catch(w){throw w instanceof N.ZR&&function hn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}class Mi{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const I=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,o.Z)(function*(){yield g.iteration()}),w)}iteration(){var p=this;return(0,o.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class Il{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=kr(this.lastLoginAt),this.creationTime=kr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _n(v){return Zi.apply(this,arguments)}function Zi(){return Zi=(0,o.Z)(function*(v){var p;const g=v.auth,w=yield v.getIdToken(),I=yield Ln(v,function Dl(v,p){return Rr.apply(this,arguments)}(g,{idToken:w}));le(I?.users.length,g,"internal-error");const R=I.users[0];v._notifyReloadListener(R);const j=null!==(p=R.providerUserInfo)&&void 0!==p&&p.length?function Sl(v){return v.map(p=>{var{providerId:g}=p,w=(0,se._T)(p,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(R.providerUserInfo):[],ee=function qs(v,p){return[...v.filter(w=>!p.some(I=>I.providerId===w.providerId)),...p]}(v.providerData,j),ot=!!v.isAnonymous&&!(v.email&&R.passwordHash||ee?.length),ct={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ee,metadata:new Il(R.createdAt,R.lastLoginAt),isAnonymous:ot};Object.assign(v,ct)}),Zi.apply(this,arguments)}function ko(){return(ko=(0,o.Z)(function*(v){const p=(0,N.m9)(v);yield _n(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Oo(){return(Oo=(0,o.Z)(function*(v,p){const g=yield yt(v,{},(0,o.Z)(function*(){const w=(0,N.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:I,apiKey:R}=v.config,j=nn(v,I,"/v1/token",`key=${R}`),ee=yield v._getAdditionalHeaders();return ee["Content-Type"]="application/x-www-form-urlencoded",qe.fetch()(j,{method:"POST",headers:ee,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Ri{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){le(p.idToken,"internal-error"),le(typeof p.idToken<"u","internal-error"),le(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function vn(v){const p=Et(v);return le(p,"internal-error"),le(typeof p.exp<"u","internal-error"),le(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var w=this;return(0,o.Z)(function*(){return le(!w.accessToken||w.refreshToken,p,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var w=this;return(0,o.Z)(function*(){const{accessToken:I,refreshToken:R,expiresIn:j}=yield function Or(v,p){return Oo.apply(this,arguments)}(p,g);w.updateTokensAndExpiration(I,R,Number(j))})()}updateTokensAndExpiration(p,g,w){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,g){const{refreshToken:w,accessToken:I,expirationTime:R}=g,j=new Ri;return w&&(le("string"==typeof w,"internal-error",{appName:p}),j.refreshToken=w),I&&(le("string"==typeof I,"internal-error",{appName:p}),j.accessToken=I),R&&(le("number"==typeof R,"internal-error",{appName:p}),j.expirationTime=R),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ri,this.toJSON())}_performRefresh(){return $e("not implemented")}}function yi(v,p){le("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class Dn{constructor(p){var{uid:g,auth:w,stsTokenManager:I}=p,R=(0,se._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Il(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,o.Z)(function*(){const w=yield Ln(g,g.stsTokenManager.getToken(g.auth,p));return le(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(p){return function Tl(v){return Qe.apply(this,arguments)}(this,p)}reload(){return function Yt(v){return ko.apply(this,arguments)}(this)}_assign(p){this!==p&&(le(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const g=new Dn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(p){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var w=this;return(0,o.Z)(function*(){let I=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),I=!0),g&&(yield _n(w)),yield w.auth._persistUserIfCurrent(w),I&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,o.Z)(function*(){const g=yield p.getIdToken();return yield Ln(p,function gr(v,p){return ci.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var w,I,R,j,ee,Ae,Ze,ot;const ct=null!==(w=g.displayName)&&void 0!==w?w:void 0,qn=null!==(I=g.email)&&void 0!==I?I:void 0,cs=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,Vf=null!==(j=g.photoURL)&&void 0!==j?j:void 0,tg=null!==(ee=g.tenantId)&&void 0!==ee?ee:void 0,ng=null!==(Ae=g._redirectEventId)&&void 0!==Ae?Ae:void 0,Uf=null!==(Ze=g.createdAt)&&void 0!==Ze?Ze:void 0,Hd=null!==(ot=g.lastLoginAt)&&void 0!==ot?ot:void 0,{uid:ig,emailVerified:aa,isAnonymous:Hf,providerData:er,stsTokenManager:ac}=g;le(ig&&ac,p,"internal-error");const st=Ri.fromJSON(this.name,ac);le("string"==typeof ig,p,"internal-error"),yi(ct,p.name),yi(qn,p.name),le("boolean"==typeof aa,p,"internal-error"),le("boolean"==typeof Hf,p,"internal-error"),yi(cs,p.name),yi(Vf,p.name),yi(tg,p.name),yi(ng,p.name),yi(Uf,p.name),yi(Hd,p.name);const Zn=new Dn({uid:ig,auth:p,email:qn,emailVerified:aa,displayName:ct,isAnonymous:Hf,photoURL:Vf,phoneNumber:cs,tenantId:tg,stsTokenManager:st,createdAt:Uf,lastLoginAt:Hd});return er&&Array.isArray(er)&&(Zn.providerData=er.map(_u=>Object.assign({},_u))),ng&&(Zn._redirectEventId=ng),Zn}static _fromIdTokenResponse(p,g,w=!1){return(0,o.Z)(function*(){const I=new Ri;I.updateFromServerResponse(g);const R=new Dn({uid:g.localId,auth:p,stsTokenManager:I,isAnonymous:w});return yield _n(R),R})()}}const Po=new Map;function an(v){Qt(v instanceof Function,"Expected a class definition");let p=Po.get(v);return p?(Qt(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,Po.set(v,p),p)}const Xt=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(g,w){var I=this;return(0,o.Z)(function*(){I.storage[g]=w})()}_get(g){var w=this;return(0,o.Z)(function*(){const I=w.storage[g];return void 0===I?null:I})()}_remove(g){var w=this;return(0,o.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return v.type="NONE",v})();function H(v,p,g){return`firebase:${v}:${p}:${g}`}class V{constructor(p,g,w){this.persistence=p,this.auth=g,this.userKey=w;const{config:I,name:R}=this.auth;this.fullUserKey=H(this.userKey,I.apiKey,R),this.fullPersistenceKey=H("persistence",I.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,o.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Dn._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,o.Z)(function*(){if(g.persistence===p)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,w="authUser"){return(0,o.Z)(function*(){if(!g.length)return new V(an(Xt),p,w);const I=(yield Promise.all(g.map(function(){var Ze=(0,o.Z)(function*(ot){if(yield ot._isAvailable())return ot});return function(ot){return Ze.apply(this,arguments)}}()))).filter(Ze=>Ze);let R=I[0]||an(Xt);const j=H(w,p.config.apiKey,p.name);let ee=null;for(const Ze of g)try{const ot=yield Ze._get(j);if(ot){const ct=Dn._fromJSON(p,ot);Ze!==R&&(ee=ct),R=Ze;break}}catch{}const Ae=I.filter(Ze=>Ze._shouldAllowMigration);return R._shouldAllowMigration&&Ae.length?(R=Ae[0],ee&&(yield R._set(j,ee.toJSON())),yield Promise.all(g.map(function(){var Ze=(0,o.Z)(function*(ot){if(ot!==R)try{yield ot._remove(j)}catch{}});return function(ot){return Ze.apply(this,arguments)}}())),new V(R,p,w)):new V(R,p,w)})()}}function Y(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(bt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(we(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Tn(p))return"Blackberry";if(bn(p))return"Webos";if(ce(p))return"Safari";if((p.includes("chrome/")||lt(p))&&!p.includes("edge/"))return"Chrome";if(Vt(p))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function we(v=(0,N.z$)()){return/firefox\//i.test(v)}function ce(v=(0,N.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function lt(v=(0,N.z$)()){return/crios\//i.test(v)}function bt(v=(0,N.z$)()){return/iemobile/i.test(v)}function Vt(v=(0,N.z$)()){return/android/i.test(v)}function Tn(v=(0,N.z$)()){return/blackberry/i.test(v)}function bn(v=(0,N.z$)()){return/webos/i.test(v)}function kt(v=(0,N.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Fo(v=(0,N.z$)()){return kt(v)||Vt(v)||bn(v)||Tn(v)||/windows phone/i.test(v)||bt(v)}function he(v,p=[]){let g;switch(v){case"Browser":g=Y((0,N.z$)());break;case"Worker":g=`${Y((0,N.z$)())}-${v}`;break;default:g=v}const w=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${ie.SDK_VERSION}/${w}`}function Oe(){return(Oe=(0,o.Z)(function*(v){return(yield Zt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function mt(v,p){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,o.Z)(function*(v,p){return Zt(v,"GET","/v2/recaptchaConfig",rt(v,p))})).apply(this,arguments)}function $t(v){return void 0!==v&&void 0!==v.getResponse}function rn(v){return void 0!==v&&void 0!==v.enterprise}class vi{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Jo(v){return new Promise((p,g)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=p,w.onerror=I=>{const R=X("internal-error");R.customData=I,g(R)},w.type="text/javascript",w.charset="UTF-8",function ui(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(w)})}function Cs(v){return`__${v}${Math.floor(1e6*Math.random())}`}class Gh{constructor(p){this.type="recaptcha-enterprise",this.auth=di(p)}verify(p="verify",g=!1){var w=this;return(0,o.Z)(function*(){function R(){return R=(0,o.Z)(function*(ee){if(!g){if(null==ee.tenantId&&null!=ee._agentRecaptchaConfig)return ee._agentRecaptchaConfig.siteKey;if(null!=ee.tenantId&&void 0!==ee._tenantRecaptchaConfigs[ee.tenantId])return ee._tenantRecaptchaConfigs[ee.tenantId].siteKey}return new Promise(function(){var Ae=(0,o.Z)(function*(Ze,ot){mt(ee,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ct=>{if(void 0!==ct.recaptchaKey){const qn=new vi(ct);return null==ee.tenantId?ee._agentRecaptchaConfig=qn:ee._tenantRecaptchaConfigs[ee.tenantId]=qn,Ze(qn.siteKey)}ot(new Error("recaptcha Enterprise site key undefined"))}).catch(ct=>{ot(ct)})});return function(Ze,ot){return Ae.apply(this,arguments)}}())}),R.apply(this,arguments)}function j(ee,Ae,Ze){const ot=window.grecaptcha;rn(ot)?ot.enterprise.ready(()=>{ot.enterprise.execute(ee,{action:p}).then(ct=>{Ae(ct)}).catch(()=>{Ae("NO_RECAPTCHA")})}):Ze(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ee,Ae)=>{(function I(ee){return R.apply(this,arguments)})(w.auth).then(Ze=>{if(!g&&rn(window.grecaptcha))j(Ze,ee,Ae);else{if(typeof window>"u")return void Ae(new Error("RecaptchaVerifier is only supported in browser"));Jo("https://www.google.com/recaptcha/enterprise.js?render="+Ze).then(()=>{j(Ze,ee,Ae)}).catch(ot=>{Ae(ot)})}}).catch(Ze=>{Ae(Ze)})})})()}}function Wr(v,p,g){return id.apply(this,arguments)}function id(){return(id=(0,o.Z)(function*(v,p,g,w=!1){const I=new Gh(v);let R;try{R=yield I.verify(g)}catch{R=yield I.verify(g,!0)}const j=Object.assign({},p);return Object.assign(j,w?{captchaResp:R}:{captchaResponse:R}),Object.assign(j,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(j,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),j})).apply(this,arguments)}class Zs{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const w=R=>new Promise((j,ee)=>{try{j(p(R))}catch(Ae){ee(Ae)}});w.onAbort=g,this.queue.push(w);const I=this.queue.length-1;return()=>{this.queue[I]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,o.Z)(function*(){if(g.auth.currentUser===p)return;const w=[];try{for(const I of g.queue)yield I(p),I.onAbort&&w.push(I.onAbort)}catch(I){w.reverse();for(const R of w)try{R()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:I?.message})}})()}}class qh{constructor(p,g,w,I){this.app=p,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=w,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Oi(this),this.idTokenSubscription=new Oi(this),this.beforeStateQueue=new Zs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ye,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(p,g){var w=this;return g&&(this._popupRedirectResolver=an(g)),this._initializationPromise=this.queue((0,o.Z)(function*(){var I,R;if(!w._deleted&&(w.persistenceManager=yield V.create(w,p),!w._deleted)){if(null!==(I=w._popupRedirectResolver)&&void 0!==I&&I._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,o.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,o.Z)(function*(){var w;const I=yield g.assertedPersistence.getCurrentUser();let R=I,j=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ee=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Ae=R?._redirectEventId,Ze=yield g.tryRedirectSignIn(p);(!ee||ee===Ae)&&Ze?.user&&(R=Ze.user,j=!0)}if(!R)return g.directlySetCurrentUser(null);if(!R._redirectEventId){if(j)try{yield g.beforeStateQueue.runMiddleware(R)}catch(ee){R=I,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ee))}return R?g.reloadAndSetCurrentUserOrClear(R):g.directlySetCurrentUser(null)}return le(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===R._redirectEventId?g.directlySetCurrentUser(R):g.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(p){var g=this;return(0,o.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,o.Z)(function*(){try{yield _n(p)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ve(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,o.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,o.Z)(function*(){const w=p?(0,N.m9)(p):null;return w&&le(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(p,g=!1){var w=this;return(0,o.Z)(function*(){if(!w._deleted)return p&&le(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,o.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,o.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,o.Z)(function*(){yield g.assertedPersistence.setPersistence(an(p))}))}initializeRecaptchaConfig(){var p=this;return(0,o.Z)(function*(){const g=yield mt(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new vi(g);null==p.tenantId?p._agentRecaptchaConfig=w:p._tenantRecaptchaConfigs[p.tenantId]=w,w.emailPasswordEnabled&&new Gh(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new N.LL("auth","Firebase",p())}onAuthStateChanged(p,g,w){return this.registerStateListener(this.authStateSubscription,p,g,w)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,w){return this.registerStateListener(this.idTokenSubscription,p,g,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var w=this;return(0,o.Z)(function*(){const I=yield w.getOrInitRedirectPersistenceManager(g);return null===p?I.removeCurrentUser():I.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,o.Z)(function*(){if(!g.redirectPersistenceManager){const w=p&&an(p)||g._popupRedirectResolver;le(w,g,"argument-error"),g.redirectPersistenceManager=yield V.create(g,[an(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,o.Z)(function*(){var w,I;return g._isInitialized&&(yield g.queue((0,o.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===p?g._currentUser:(null===(I=g.redirectUser)||void 0===I?void 0:I._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,o.Z)(function*(){if(p===g.currentUser)return g.queue((0,o.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,w,I){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),j=this._isInitialized?Promise.resolve():this._initializationPromise;return le(j,this,"internal-error"),j.then(()=>R(this.currentUser)),"function"==typeof g?p.addObserver(g,w,I):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,o.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=he(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,o.Z)(function*(){var g;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const I=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();I&&(w["X-Firebase-Client"]=I);const R=yield p._getAppCheckToken();return R&&(w["X-Firebase-AppCheck"]=R),w})()}_getAppCheckToken(){var p=this;return(0,o.Z)(function*(){var g;const w=yield null===(g=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return w?.error&&function _t(v,...p){xt.logLevel<=ne.in.WARN&&xt.warn(`Auth (${ie.SDK_VERSION}): ${v}`,...p)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function di(v){return(0,N.m9)(v)}class Oi{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,N.ne)(g=>this.observer=g)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xo(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function rd(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class es{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return $e("not implemented")}_getIdTokenResponse(p){return $e("not implemented")}_linkToIdToken(p,g){return $e("not implemented")}_getReauthenticationResolver(p){return $e("not implemented")}}function Zh(v,p){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,o.Z)(function*(v,p){return Zt(v,"POST","/v1/accounts:resetPassword",rt(v,p))})).apply(this,arguments)}function Ml(v,p){return od.apply(this,arguments)}function od(){return(od=(0,o.Z)(function*(v,p){return Zt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ci(){return(Ci=(0,o.Z)(function*(v,p){return Zt(v,"POST","/v1/accounts:update",rt(v,p))})).apply(this,arguments)}function yn(v,p){return xs.apply(this,arguments)}function xs(){return(xs=(0,o.Z)(function*(v,p){return dn(v,"POST","/v1/accounts:signInWithPassword",rt(v,p))})).apply(this,arguments)}function Yi(v,p){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,o.Z)(function*(v,p){return Zt(v,"POST","/v1/accounts:sendOobCode",rt(v,p))})).apply(this,arguments)}function Da(){return(Da=(0,o.Z)(function*(v,p){return Yi(v,p)})).apply(this,arguments)}function Rl(v,p){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,o.Z)(function*(v,p){return Yi(v,p)})).apply(this,arguments)}function Jn(v,p){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,o.Z)(function*(v,p){return Yi(v,p)})).apply(this,arguments)}function In(){return(In=(0,o.Z)(function*(v,p){return Yi(v,p)})).apply(this,arguments)}function Es(){return(Es=(0,o.Z)(function*(v,p){return dn(v,"POST","/v1/accounts:signInWithEmailLink",rt(v,p))})).apply(this,arguments)}function Ys(){return(Ys=(0,o.Z)(function*(v,p){return dn(v,"POST","/v1/accounts:signInWithEmailLink",rt(v,p))})).apply(this,arguments)}class Rn extends es{constructor(p,g,w,I=null){super("password",w),this._email=p,this._password=g,this._tenantId=I}static _fromEmailAndPassword(p,g){return new Rn(p,g,"password")}static _fromEmailAndCode(p,g,w=null){return new Rn(p,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,o.Z)(function*(){var w;switch(g.signInMethod){case"password":const I={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=p._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const R=yield Wr(p,I,"signInWithPassword");return yn(p,R)}return yn(p,I).catch(function(){var R=(0,o.Z)(function*(j){if("auth/missing-recaptcha-token"===j.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ee=yield Wr(p,I,"signInWithPassword");return yn(p,ee)}return Promise.reject(j)});return function(j){return R.apply(this,arguments)}}());case"emailLink":return function Nr(v,p){return Es.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:ye(p,"internal-error")}})()}_linkToIdToken(p,g){var w=this;return(0,o.Z)(function*(){switch(w.signInMethod){case"password":return Ml(p,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function lr(v,p){return Ys.apply(this,arguments)}(p,{idToken:g,email:w._email,oobCode:w._password});default:ye(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Pi(v,p){return ts.apply(this,arguments)}function ts(){return(ts=(0,o.Z)(function*(v,p){return dn(v,"POST","/v1/accounts:signInWithIdp",rt(v,p))})).apply(this,arguments)}class yr extends es{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new yr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):ye("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:I}=g,R=(0,se._T)(g,["providerId","signInMethod"]);if(!w||!I)return null;const j=new yr(w,I);return j.idToken=R.idToken||void 0,j.accessToken=R.accessToken||void 0,j.secret=R.secret,j.nonce=R.nonce,j.pendingToken=R.pendingToken||null,j}_getIdTokenResponse(p){return Pi(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,Pi(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Pi(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,N.xO)(g)}return p}}function Lo(){return(Lo=(0,o.Z)(function*(v,p){return Zt(v,"POST","/v1/accounts:sendVerificationCode",rt(v,p))})).apply(this,arguments)}function ho(){return(ho=(0,o.Z)(function*(v,p){return dn(v,"POST","/v1/accounts:signInWithPhoneNumber",rt(v,p))})).apply(this,arguments)}function Xn(){return(Xn=(0,o.Z)(function*(v,p){const g=yield dn(v,"POST","/v1/accounts:signInWithPhoneNumber",rt(v,p));if(g.temporaryProof)throw li(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Ta={USER_NOT_FOUND:"user-not-found"};function Fr(){return(Fr=(0,o.Z)(function*(v,p){return dn(v,"POST","/v1/accounts:signInWithPhoneNumber",rt(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Ta)})).apply(this,arguments)}class ei extends es{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new ei({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new ei({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function Gn(v,p){return ho.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function kl(v,p){return Xn.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Kh(v,p){return Fr.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:w,verificationCode:I}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:w,code:I}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:w,phoneNumber:I,temporaryProof:R}=p;return w||g||I||R?new ei({verificationId:g,verificationCode:w,phoneNumber:I,temporaryProof:R}):null}}class Wt{constructor(p){var g,w,I,R,j,ee;const Ae=(0,N.zd)((0,N.pd)(p)),Ze=null!==(g=Ae.apiKey)&&void 0!==g?g:null,ot=null!==(w=Ae.oobCode)&&void 0!==w?w:null,ct=function kc(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=Ae.mode)&&void 0!==I?I:null);le(Ze&&ot&&ct,"argument-error"),this.apiKey=Ze,this.operation=ct,this.code=ot,this.continueUrl=null!==(R=Ae.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(j=Ae.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(ee=Ae.tenantId)&&void 0!==ee?ee:null}static parseLink(p){const g=function Ws(v){const p=(0,N.zd)((0,N.pd)(v)).link,g=p?(0,N.zd)((0,N.pd)(p)).deep_link_id:null,w=(0,N.zd)((0,N.pd)(v)).deep_link_id;return(w?(0,N.zd)((0,N.pd)(w)).link:null)||w||g||p||v}(p);try{return new Wt(g)}catch{return null}}}let Oc=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,w){return Rn._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const I=Wt.parseLink(w);return le(I,"argument-error"),Rn._fromEmailAndCode(g,I.code,I.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Bo{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class vr extends Bo{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Kr extends vr{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return le("providerId"in g&&"signInMethod"in g,"argument-error"),yr._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return le(p.idToken||p.accessToken,"argument-error"),yr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Kr.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Kr.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:I,pendingToken:R,nonce:j,providerId:ee}=p;if(!w&&!I&&!g&&!R||!ee)return null;try{return new Kr(ee)._credential({idToken:g,accessToken:w,nonce:j,pendingToken:R})}catch{return null}}}let Ks=(()=>{class v extends vr{constructor(){super("facebook.com")}static credential(g){return yr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Qs=(()=>{class v extends vr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return yr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:I}=g;if(!w&&!I)return null;try{return v.credential(w,I)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),bi=(()=>{class v extends vr{constructor(){super("github.com")}static credential(g){return yr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class ti extends es{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Pi(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,Pi(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Pi(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:I,pendingToken:R}=g;return w&&I&&R&&w===I?new ti(w,R):null}static _create(p,g){return new ti(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ia extends Bo{constructor(p){le(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ia.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ia.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=ti.fromJSON(p);return le(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:w}=p;if(!g||!w)return null;try{return ti._create(w,g)}catch{return null}}}let ns=(()=>{class v extends vr{constructor(){super("twitter.com")}static credential(g,w){return yr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:I}=g;if(!w||!I)return null;try{return v.credential(w,I)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function is(v,p){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,o.Z)(function*(v,p){return dn(v,"POST","/v1/accounts:signUp",rt(v,p))})).apply(this,arguments)}class Wi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,w,I=!1){return(0,o.Z)(function*(){const R=yield Dn._fromIdTokenResponse(p,w,I),j=Js(w);return new Wi({user:R,providerId:j,_tokenResponse:w,operationType:g})})()}static _forOperation(p,g,w){return(0,o.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const I=Js(w);return new Wi({user:p,providerId:I,_tokenResponse:w,operationType:g})})()}}function Js(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function ad(){return(ad=(0,o.Z)(function*(v){var p;const g=di(v);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new Wi({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield is(g,{returnSecureToken:!0}),I=yield Wi._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(I.user),I})).apply(this,arguments)}class Ol extends N.ZR{constructor(p,g,w,I){var R;super(g.code,g.message),this.operationType=w,this.user=I,Object.setPrototypeOf(this,Ol.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,g,w,I){return new Ol(p,g,w,I)}}function mm(v,p,g,w){return("reauthenticate"===p?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Ol._fromErrorAndOperation(v,R,p,w):R})}function gm(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Vo(){return Vo=(0,o.Z)(function*(v,p){const g=(0,N.m9)(v);yield Pl(!0,g,p);const{providerUserInfo:w}=yield function $s(v,p){return Gs.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),I=gm(w||[]);return g.providerData=g.providerData.filter(R=>I.has(R.providerId)),I.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Vo.apply(this,arguments)}function ld(v,p){return cd.apply(this,arguments)}function cd(){return(cd=(0,o.Z)(function*(v,p,g=!1){const w=yield Ln(v,p._linkToIdToken(v.auth,yield v.getIdToken()),g);return Wi._forOperation(v,"link",w)})).apply(this,arguments)}function Pl(v,p,g){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,o.Z)(function*(v,p,g){yield _n(p);const I=!1===v?"provider-already-linked":"no-such-provider";le(gm(p.providerData).has(g)===v,p.auth,I)})).apply(this,arguments)}function _m(v,p){return ud.apply(this,arguments)}function ud(){return(ud=(0,o.Z)(function*(v,p,g=!1){const{auth:w}=v,I="reauthenticate";try{const R=yield Ln(v,mm(w,I,p,v),g);le(R.idToken,w,"internal-error");const j=Et(R.idToken);le(j,w,"internal-error");const{sub:ee}=j;return le(v.uid===ee,w,"user-mismatch"),Wi._forOperation(v,I,R)}catch(R){throw"auth/user-not-found"===R?.code&&ye(w,"user-mismatch"),R}})).apply(this,arguments)}function Jh(v,p){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,o.Z)(function*(v,p,g=!1){const w="signIn",I=yield mm(v,w,p),R=yield Wi._fromIdTokenResponse(v,w,I);return g||(yield v._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Nl(v,p){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,o.Z)(function*(v,p){return Jh(di(v),p)})).apply(this,arguments)}function iy(v,p){return dd.apply(this,arguments)}function dd(){return(dd=(0,o.Z)(function*(v,p){const g=(0,N.m9)(v);return yield Pl(!1,g,p.providerId),ld(g,p)})).apply(this,arguments)}function ni(v,p){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,o.Z)(function*(v,p){return _m((0,N.m9)(v),p)})).apply(this,arguments)}function ry(){return(ry=(0,o.Z)(function*(v,p){return dn(v,"POST","/v1/accounts:signInWithCustomToken",rt(v,p))})).apply(this,arguments)}function fo(){return fo=(0,o.Z)(function*(v,p){const g=di(v),w=yield function ym(v,p){return ry.apply(this,arguments)}(g,{token:p,returnSecureToken:!0}),I=yield Wi._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(I.user),I}),fo.apply(this,arguments)}class Pc{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Ll._fromServerResponse(p,g):"totpInfo"in g?ef._fromServerResponse(p,g):ye(p,"internal-error")}}class Ll extends Pc{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Ll(g)}}class ef extends Pc{constructor(p){super("totp",p)}static _fromServerResponse(p,g){return new ef(g)}}function Bl(v,p,g){var w;le((null===(w=g.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),le(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(le(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(le(g.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function cr(){return cr=(0,o.Z)(function*(v,p,g){var w;const I=di(v),R={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=I._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const j=yield Wr(I,R,"getOobCode",!0);g&&Bl(I,j,g),yield Rl(I,j)}else g&&Bl(I,R,g),yield Rl(I,R).catch(function(){var j=(0,o.Z)(function*(ee){if("auth/missing-recaptcha-token"!==ee.code)return Promise.reject(ee);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ae=yield Wr(I,R,"getOobCode",!0);g&&Bl(I,Ae,g),yield Rl(I,Ae)}});return function(ee){return j.apply(this,arguments)}}())}),cr.apply(this,arguments)}function hi(){return(hi=(0,o.Z)(function*(v,p,g){yield Zh((0,N.m9)(v),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Qr(){return Qr=(0,o.Z)(function*(v,p){yield function Gt(v,p){return Ci.apply(this,arguments)}((0,N.m9)(v),{oobCode:p})}),Qr.apply(this,arguments)}function Vl(v,p){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,o.Z)(function*(v,p){const g=(0,N.m9)(v),w=yield Zh(g,{oobCode:p}),I=w.requestType;switch(le(I,g,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(w.mfaInfo,g,"internal-error");default:le(w.email,g,"internal-error")}let R=null;return w.mfaInfo&&(R=Pc._fromServerResponse(di(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:I}})).apply(this,arguments)}function Ma(){return(Ma=(0,o.Z)(function*(v,p){const{data:g}=yield Vl((0,N.m9)(v),p);return g.email})).apply(this,arguments)}function Ul(){return Ul=(0,o.Z)(function*(v,p,g){var w;const I=di(v),R={returnSecureToken:!0,email:p,password:g,clientType:"CLIENT_TYPE_WEB"};let j;if(null!==(w=I._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Ze=yield Wr(I,R,"signUpPassword");j=is(I,Ze)}else j=is(I,R).catch(function(){var Ze=(0,o.Z)(function*(ot){if("auth/missing-recaptcha-token"===ot.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const ct=yield Wr(I,R,"signUpPassword");return is(I,ct)}return Promise.reject(ot)});return function(ot){return Ze.apply(this,arguments)}}());const ee=yield j.catch(Ze=>Promise.reject(Ze)),Ae=yield Wi._fromIdTokenResponse(I,"signIn",ee);return yield I._updateCurrentUser(Ae.user),Ae}),Ul.apply(this,arguments)}function Xs(){return Xs=(0,o.Z)(function*(v,p,g){var w;const I=di(v),R={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function j(ee,Ae){le(Ae.handleCodeInApp,I,"argument-error"),Ae&&Bl(I,ee,Ae)}if(null!==(w=I._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const ee=yield Wr(I,R,"getOobCode",!0);j(ee,g),yield Jn(I,ee)}else j(R,g),yield Jn(I,R).catch(function(){var ee=(0,o.Z)(function*(Ae){if("auth/missing-recaptcha-token"!==Ae.code)return Promise.reject(Ae);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ze=yield Wr(I,R,"getOobCode",!0);j(Ze,g),yield Jn(I,Ze)}});return function(Ae){return ee.apply(this,arguments)}}())}),Xs.apply(this,arguments)}function bm(){return(bm=(0,o.Z)(function*(v,p,g){const w=(0,N.m9)(v),I=Oc.credentialWithLink(p,g||Ai());return le(I._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Nl(w,I)})).apply(this,arguments)}function fd(){return(fd=(0,o.Z)(function*(v,p){return Zt(v,"POST","/v1/accounts:createAuthUri",rt(v,p))})).apply(this,arguments)}function pd(){return pd=(0,o.Z)(function*(v,p){const w={identifier:p,continueUri:mr()?Ai():"http://localhost"},{signinMethods:I}=yield function tf(v,p){return fd.apply(this,arguments)}((0,N.m9)(v),w);return I||[]}),pd.apply(this,arguments)}function Hl(){return Hl=(0,o.Z)(function*(v,p){const g=(0,N.m9)(v),I={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Bl(g.auth,I,p);const{email:R}=yield function sd(v,p){return Da.apply(this,arguments)}(g.auth,I);R!==v.email&&(yield v.reload())}),Hl.apply(this,arguments)}function Vc(){return Vc=(0,o.Z)(function*(v,p,g){const w=(0,N.m9)(v),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};g&&Bl(w.auth,R,g);const{email:j}=yield function zt(v,p){return In.apply(this,arguments)}(w.auth,R);j!==v.email&&(yield v.reload())}),Vc.apply(this,arguments)}function Uc(){return(Uc=(0,o.Z)(function*(v,p){return Zt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ra(){return Ra=(0,o.Z)(function*(v,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const w=(0,N.m9)(v),R={idToken:yield w.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},j=yield Ln(w,function gd(v,p){return Uc.apply(this,arguments)}(w.auth,R));w.displayName=j.displayName||null,w.photoURL=j.photoUrl||null;const ee=w.providerData.find(({providerId:Ae})=>"password"===Ae);ee&&(ee.displayName=w.displayName,ee.photoURL=w.photoURL),yield w._updateTokensIfNecessary(j)}),Ra.apply(this,arguments)}function rf(v,p,g){return zl.apply(this,arguments)}function zl(){return(zl=(0,o.Z)(function*(v,p,g){const{auth:w}=v,R={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(R.email=p),g&&(R.password=g);const j=yield Ln(v,Ml(w,R));yield v._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class ea{constructor(p,g,w={}){this.isNewUser=p,this.providerId=g,this.profile=w}}class Hc extends ea{constructor(p,g,w,I){super(p,g,w),this.username=I}}class dr extends ea{constructor(p,g){super(p,"facebook.com",g)}}class zc extends Hc{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class _d extends ea{constructor(p,g){super(p,"google.com",g)}}class Ts extends Hc{constructor(p,g,w){super(p,"twitter.com",g,w)}}function xi(v){const{user:p,_tokenResponse:g}=v;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function kn(v){var p,g;if(!v)return null;const{providerId:w}=v,I=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},R=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&v?.idToken){const j=null===(g=null===(p=Et(v.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(j)return new ea(R,"anonymous"!==j&&"custom"!==j?j:null)}if(!w)return null;switch(w){case"facebook.com":return new dr(R,I);case"github.com":return new zc(R,I);case"google.com":return new _d(R,I);case"twitter.com":return new Ts(R,I,v.screenName||null);case"custom":case"anonymous":return new ea(R,null);default:return new ea(R,w,I)}}(g)}class wt{constructor(p,g,w){this.type=p,this.credential=g,this.auth=w}static _fromIdtoken(p,g){return new wt("enroll",p,g)}static _fromMfaPendingCredential(p){return new wt("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,w;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return wt._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return wt._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Ss{constructor(p,g,w){this.session=p,this.hints=g,this.signInResolver=w}static _fromError(p,g){const w=di(p),I=g.customData._serverResponse,R=(I.mfaInfo||[]).map(ee=>Pc._fromServerResponse(w,ee));le(I.mfaPendingCredential,w,"internal-error");const j=wt._fromMfaPendingCredential(I.mfaPendingCredential);return new Ss(j,R,function(){var ee=(0,o.Z)(function*(Ae){const Ze=yield Ae._process(w,j);delete I.mfaInfo,delete I.mfaPendingCredential;const ot=Object.assign(Object.assign({},I),{idToken:Ze.idToken,refreshToken:Ze.refreshToken});switch(g.operationType){case"signIn":const ct=yield Wi._fromIdTokenResponse(w,g.operationType,ot);return yield w._updateCurrentUser(ct.user),ct;case"reauthenticate":return le(g.user,w,"internal-error"),Wi._forOperation(g.user,g.operationType,ot);default:ye(w,"internal-error")}});return function(Ae){return ee.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,o.Z)(function*(){return g.signInResolver(p)})()}}class jl{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>Pc._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new jl(p)}getSession(){var p=this;return(0,o.Z)(function*(){return wt._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var w=this;return(0,o.Z)(function*(){const I=p,R=yield w.getSession(),j=yield Ln(w.user,I._process(w.user.auth,R,g));return yield w.user._updateTokensIfNecessary(j),w.user.reload()})()}unenroll(p){var g=this;return(0,o.Z)(function*(){const w="string"==typeof p?p:p.uid,I=yield g.user.getIdToken();try{const R=yield Ln(g.user,function Pa(v,p){return Zt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",rt(v,p))}(g.user.auth,{idToken:I,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:j})=>j!==w),yield g.user._updateTokensIfNecessary(R),yield g.user.reload()}catch(R){throw R}})()}}const $l=new WeakMap,Na="__sak";class df{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Na,"1"),this.storage.removeItem(Na),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bn=(()=>{class v extends df{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ie(){const v=(0,N.z$)();return ce(v)||kt(v)}()&&function Pr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Fo(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const I=this.storage.getItem(w),R=this.localCache[w];I!==R&&g(w,R,I)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((ee,Ae,Ze)=>{this.notifyListeners(ee,Ze)});const I=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ee=this.storage.getItem(I);if(g.newValue!==ee)null!==g.newValue?this.storage.setItem(I,g.newValue):this.storage.removeItem(I);else if(this.localCache[I]===g.newValue&&!w)return}const R=()=>{const ee=this.storage.getItem(I);!w&&this.localCache[I]===ee||this.notifyListeners(I,ee)},j=this.storage.getItem(I);!function Yr(){return(0,N.w1)()&&10===document.documentMode}()||j===g.newValue||g.newValue===g.oldValue?R():setTimeout(R,10)}notifyListeners(g,w){this.localCache[g]=w;const I=this.listeners[g];if(I)for(const R of Array.from(I))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var I=()=>super._set,R=this;return(0,o.Z)(function*(){yield I().call(R,g,w),R.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,I=this;return(0,o.Z)(function*(){const R=yield w().call(I,g);return I.localCache[g]=JSON.stringify(R),R})()}_remove(g){var w=()=>super._remove,I=this;return(0,o.Z)(function*(){yield w().call(I,g),delete I.localCache[g]})()}}return v.type="LOCAL",v})(),Jr=(()=>{class v extends df{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return v.type="SESSION",v})();let Gl=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(R=>R.isListeningto(g));if(w)return w;const I=new v(g);return this.receivers.push(I),I}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,o.Z)(function*(){const I=g,{eventId:R,eventType:j,data:ee}=I.data,Ae=w.handlersMap[j];if(!Ae?.size)return;I.ports[0].postMessage({status:"ack",eventId:R,eventType:j});const Ze=Array.from(Ae).map(function(){var ct=(0,o.Z)(function*(qn){return qn(I.origin,ee)});return function(qn){return ct.apply(this,arguments)}}()),ot=yield function os(v){return Promise.all(v.map(function(){var p=(0,o.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return p.apply(this,arguments)}}()))}(Ze);I.ports[0].postMessage({status:"done",eventId:R,eventType:j,response:ot})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Fa(v="",p=10){let g="";for(let w=0;w<p;w++)g+=Math.floor(10*Math.random());return v+g}class A0{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,w=50){var I=this;return(0,o.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let j,ee;return new Promise((Ae,Ze)=>{const ot=Fa("",20);R.port1.start();const ct=setTimeout(()=>{Ze(new Error("unsupported_event"))},w);ee={messageChannel:R,onMessage(qn){const cs=qn;if(cs.data.eventId===ot)switch(cs.data.status){case"ack":clearTimeout(ct),j=setTimeout(()=>{Ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),Ae(cs.data.response);break;default:clearTimeout(ct),clearTimeout(j),Ze(new Error("invalid_response"))}}},I.handlers.add(ee),R.port1.addEventListener("message",ee.onMessage),I.target.postMessage({eventType:p,eventId:ot,data:g},[R.port2])}).finally(()=>{ee&&I.removeMessageHandler(ee)})})()}}function ii(){return window}function Ki(){return typeof ii().WorkerGlobalScope<"u"&&"function"==typeof ii().importScripts}function qc(){return(qc=(0,o.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const hf="firebaseLocalStorageDb",ql="firebaseLocalStorage",Zc="fbase_key";class Ms{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Zl(v,p){return v.transaction([ql],p?"readwrite":"readonly").objectStore(ql)}function Yc(){const v=indexedDB.open(hf,1);return new Promise((p,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(ql,{keyPath:Zc})}catch(I){g(I)}}),v.addEventListener("success",(0,o.Z)(function*(){const w=v.result;w.objectStoreNames.contains(ql)?p(w):(w.close(),yield function ff(){const v=indexedDB.deleteDatabase(hf);return new Ms(v).toPromise()}(),p(yield Yc()))}))})}function Wc(v,p,g){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,o.Z)(function*(v,p,g){const w=Zl(v,!0).put({[Zc]:p,value:g});return new Ms(w).toPromise()})).apply(this,arguments)}function mo(){return(mo=(0,o.Z)(function*(v,p){const g=Zl(v,!1).get(p),w=yield new Ms(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Ed(v,p){const g=Zl(v,!0).delete(p);return new Ms(g).toPromise()}const Wl=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,o.Z)(function*(){return g.db||(g.db=yield Yc()),g.db})()}_withRetries(g){var w=this;return(0,o.Z)(function*(){let I=0;for(;;)try{const R=yield w._openDb();return yield g(R)}catch(R){if(I++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,o.Z)(function*(){return Ki()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,o.Z)(function*(){g.receiver=Gl._getInstance(function wn(){return Ki()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,o.Z)(function*(I,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(I,R){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,o.Z)(function*(I,R){return["keyChanged"]});return function(I,R){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,o.Z)(function*(){var w,I;if(g.activeServiceWorker=yield function ss(){return qc.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new A0(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);R&&null!==(w=R[0])&&void 0!==w&&w.fulfilled&&null!==(I=R[0])&&void 0!==I&&I.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,o.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function As(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Yc();return yield Wc(g,Na,"1"),yield Ed(g,Na),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,o.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var I=this;return(0,o.Z)(function*(){return I._withPendingWrite((0,o.Z)(function*(){return yield I._withRetries(R=>Wc(R,g,w)),I.localCache[g]=w,I.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,o.Z)(function*(){const I=yield w._withRetries(R=>function La(v,p){return mo.apply(this,arguments)}(R,g));return w.localCache[g]=I,I})()}_remove(g){var w=this;return(0,o.Z)(function*(){return w._withPendingWrite((0,o.Z)(function*(){return yield w._withRetries(I=>Ed(I,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,o.Z)(function*(){const w=yield g._withRetries(j=>{const ee=Zl(j,!1).getAll();return new Ms(ee).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const I=[],R=new Set;for(const{fbase_key:j,value:ee}of w)R.add(j),JSON.stringify(g.localCache[j])!==JSON.stringify(ee)&&(g.notifyListeners(j,ee),I.push(j));for(const j of Object.keys(g.localCache))g.localCache[j]&&!R.has(j)&&(g.notifyListeners(j,null),I.push(j));return I})()}notifyListeners(g,w){this.localCache[g]=w;const I=this.listeners[g];if(I)for(const R of Array.from(I))R(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),Kl=1e12;class mf{constructor(p){this.auth=p,this.counter=Kl,this._widgets=new Map}render(p,g){const w=this.counter;return this._widgets.set(w,new gf(p,this.auth.name,g||{})),this.counter++,w}reset(p){var g;const w=p||Kl;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Kl))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,o.Z)(function*(){var w;return null===(w=g._widgets.get(p||Kl))||void 0===w||w.execute(),""})()}}class gf{constructor(p,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof p?document.getElementById(p):p;le(I,"argument-error",{appName:g}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Tm(v){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)p.push(g.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ba=Cs("rcb"),Qc=new Ee(3e4,6e4);class _f{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=ii().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return le(function Ql(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),p,"argument-error"),this.shouldResolveImmediately(g)&&$t(ii().grecaptcha)?Promise.resolve(ii().grecaptcha):new Promise((w,I)=>{const R=ii().setTimeout(()=>{I(X(p,"network-request-failed"))},Qc.get());ii()[Ba]=()=>{ii().clearTimeout(R),delete ii()[Ba];const ee=ii().grecaptcha;if(!ee||!$t(ee))return void I(X(p,"internal-error"));const Ae=ee.render;ee.render=(Ze,ot)=>{const ct=Ae(Ze,ot);return this.counter++,ct},this.hostLanguage=g,w(ee)},Jo(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:Ba,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),I(X(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=ii().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Td{load(p){return(0,o.Z)(function*(){return new mf(p)})()}clearedOneInstance(){}}const Va="recaptcha",yf={theme:"light",type:"image"};class Id{constructor(p,g=Object.assign({},yf),w){this.parameters=g,this.type=Va,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=di(w),this.isInvisible="invisible"===this.parameters.size,le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof p?document.getElementById(p):p;le(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Td:new _f,this.validateStartingState()}verify(){var p=this;return(0,o.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(g)||new Promise(R=>{const j=ee=>{ee&&(p.tokenChangeListeners.delete(j),R(ee))};p.tokenChangeListeners.add(j),p.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof p)p(g);else if("string"==typeof p){const w=ii()[p];"function"==typeof w&&w(g)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,o.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,o.Z)(function*(){le(mr()&&!Ki(),p.auth,"internal-error"),yield function Im(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function re(v){return Oe.apply(this,arguments)}(p.auth);le(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Jc{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=ei._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function On(){return(On=(0,o.Z)(function*(v,p,g){const w=di(v),I=yield Ua(w,p,(0,N.m9)(g));return new Jc(I,R=>Nl(w,R))})).apply(this,arguments)}function Xc(){return(Xc=(0,o.Z)(function*(v,p,g){const w=(0,N.m9)(v);yield Pl(!1,w,"phone");const I=yield Ua(w.auth,p,(0,N.m9)(g));return new Jc(I,R=>iy(w,R))})).apply(this,arguments)}function Sd(){return(Sd=(0,o.Z)(function*(v,p,g){const w=(0,N.m9)(v),I=yield Ua(w.auth,p,(0,N.m9)(g));return new Jc(I,R=>ni(w,R))})).apply(this,arguments)}function Ua(v,p,g){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,o.Z)(function*(v,p,g){var w;const I=yield g.verify();try{let R;if(le("string"==typeof I,v,"argument-error"),le(g.type===Va,v,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const j=R.session;if("phoneNumber"in R)return le("enroll"===j.type,v,"internal-error"),(yield function wd(v,p){return Zt(v,"POST","/v2/accounts/mfaEnrollment:start",rt(v,p))}(v,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{le("signin"===j.type,v,"internal-error");const ee=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return le(ee,v,"missing-multi-factor-info"),(yield function Em(v,p){return Zt(v,"POST","/v2/accounts/mfaSignIn:start",rt(v,p))}(v,{mfaPendingCredential:j.credential,mfaEnrollmentId:ee,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield function Wh(v,p){return Lo.apply(this,arguments)}(v,{phoneNumber:R.phoneNumber,recaptchaToken:I});return j}}finally{g._reset()}}),Ad.apply(this,arguments)}function Ha(){return(Ha=(0,o.Z)(function*(v,p){yield ld((0,N.m9)(v),p)})).apply(this,arguments)}let Sn=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=di(g)}verifyPhoneNumber(g,w){return Ua(this.auth,g,(0,N.m9)(w))}static credential(g,w){return ei._fromVerification(g,w)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:I}=g;return w&&I?ei._fromTokenResponse(w,I):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Ke(v,p){return p?an(p):(le(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Xr extends es{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Pi(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Pi(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Pi(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Xl(v){return Jh(v.auth,new Xr(v),v.bypassAuthState)}function za(v){const{auth:p,user:g}=v;return le(g,p,"internal-error"),_m(g,new Xr(v),v.bypassAuthState)}function ks(v){return eu.apply(this,arguments)}function eu(){return(eu=(0,o.Z)(function*(v){const{auth:p,user:g}=v;return le(g,p,"internal-error"),ld(g,new Xr(v),v.bypassAuthState)})).apply(this,arguments)}class ec{constructor(p,g,w,I,R=!1){this.auth=p,this.resolver=w,this.user=I,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,o.Z)(function*(w,I){p.pendingPromise={resolve:w,reject:I};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(w,I){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,o.Z)(function*(){const{urlResponse:w,sessionId:I,postBody:R,tenantId:j,error:ee,type:Ae}=p;if(ee)return void g.reject(ee);const Ze={auth:g.auth,requestUri:w,sessionId:I,tenantId:j||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ae)(Ze))}catch(ot){g.reject(ot)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Xl;case"linkViaPopup":case"linkViaRedirect":return ks;case"reauthViaPopup":case"reauthViaRedirect":return za;default:ye(this.auth,"internal-error")}}resolve(p){Qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fi=new Ee(2e3,1e4);function _o(){return(_o=(0,o.Z)(function*(v,p,g){const w=di(v);Se(v,p,Bo);const I=Ke(w,g);return new Br(w,"signInViaPopup",p,I).executeNotNull()})).apply(this,arguments)}function ja(){return(ja=(0,o.Z)(function*(v,p,g){const w=(0,N.m9)(v);Se(w.auth,p,Bo);const I=Ke(w.auth,g);return new Br(w.auth,"reauthViaPopup",p,I,w).executeNotNull()})).apply(this,arguments)}function tu(){return(tu=(0,o.Z)(function*(v,p,g){const w=(0,N.m9)(v);Se(w.auth,p,Bo);const I=Ke(w.auth,g);return new Br(w.auth,"linkViaPopup",p,I,w).executeNotNull()})).apply(this,arguments)}let Br=(()=>{class v extends ec{constructor(g,w,I,R,j){super(g,w,R,j),this.provider=I,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,o.Z)(function*(){const w=yield g.execute();return le(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,o.Z)(function*(){Qt(1===g.filter.length,"Popup operations only handle one event");const w=Fa();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(I=>{g.reject(I)}),g.resolver._isIframeWebStorageSupported(g.auth,I=>{I||g.reject(X(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(X(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,I;this.pollId=null!==(I=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==I&&I.closed?window.setTimeout(()=>{this.pollId=null,this.reject(X(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Fi.get())};g()}}return v.currentPopupAction=null,v})();const to="pendingRedirect",tc=new Map;class Ji extends ec{constructor(p,g,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,o.Z)(function*(){let w=tc.get(g.auth._key());if(!w){try{const R=(yield function yo(v,p){return Md.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;w=()=>Promise.resolve(R)}catch(I){w=()=>Promise.reject(I)}tc.set(g.auth._key(),w)}return g.bypassAuthState||tc.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,w=this;return(0,o.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(w,p);if("unknown"!==p.type){if(p.eventId){const I=yield w.auth._redirectUserForId(p.eventId);if(I)return w.user=I,g().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function Md(){return(Md=(0,o.Z)(function*(v,p){const g=nc(p),w=wf(v);if(!(yield w._isAvailable()))return!1;const I="true"===(yield w._get(g));return yield w._remove(g),I})).apply(this,arguments)}function nu(v,p){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,o.Z)(function*(v,p){return wf(v)._set(nc(p),"true")})).apply(this,arguments)}function Uo(v,p){tc.set(v._key(),p)}function wf(v){return an(v._redirectPersistence)}function nc(v){return H(to,v.config.apiKey,v.name)}function ru(v,p,g){return function na(v,p,g){return ou.apply(this,arguments)}(v,p,g)}function ou(){return(ou=(0,o.Z)(function*(v,p,g){const w=di(v);Se(v,p,Bo),yield w._initializationPromise;const I=Ke(w,g);return yield nu(I,w),I._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function ic(v,p,g){return function su(v,p,g){return au.apply(this,arguments)}(v,p,g)}function au(){return(au=(0,o.Z)(function*(v,p,g){const w=(0,N.m9)(v);Se(w.auth,p,Bo),yield w.auth._initializationPromise;const I=Ke(w.auth,g);yield nu(I,w.auth);const R=yield vo(w);return I._openRedirect(w.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function kd(v,p,g){return function Od(v,p,g){return Os.apply(this,arguments)}(v,p,g)}function Os(){return(Os=(0,o.Z)(function*(v,p,g){const w=(0,N.m9)(v);Se(w.auth,p,Bo),yield w.auth._initializationPromise;const I=Ke(w.auth,g);yield Pl(!1,w,p.providerId),yield nu(I,w.auth);const R=yield vo(w);return I._openRedirect(w.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function Ho(){return(Ho=(0,o.Z)(function*(v,p){return yield di(v)._initializationPromise,ra(v,p,!1)})).apply(this,arguments)}function ra(v,p){return $a.apply(this,arguments)}function $a(){return($a=(0,o.Z)(function*(v,p,g=!1){const w=di(v),I=Ke(w,p),j=yield new Ji(w,I,g).execute();return j&&!g&&(delete j.user._redirectEventId,yield w._persistUserIfCurrent(j.user),yield w._setRedirectUser(null,p)),j})).apply(this,arguments)}function vo(v){return rc.apply(this,arguments)}function rc(){return(rc=(0,o.Z)(function*(v){const p=Fa(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class cu{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(g=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Pd(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ga(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var w;if(p.error&&!Ga(p)){const I=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(X(this.auth,I))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const w=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oc(p))}saveEventToCache(p){this.cachedEventUids.add(oc(p)),this.lastProcessedEventTime=Date.now()}}function oc(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Ga({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function Am(v){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,o.Z)(function*(v,p={}){return Zt(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Ei=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,as=/^https?/;function Pn(){return(Pn=(0,o.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield Am(v);for(const g of p)try{if(Rm(g))return}catch{}ye(v,"unauthorized-domain")})).apply(this,arguments)}function Rm(v){const p=Ai(),{protocol:g,hostname:w}=new URL(p);if(v.startsWith("chrome-extension://")){const j=new URL(v);return""===j.hostname&&""===w?"chrome-extension:"===g&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&j.hostname===w}if(!as.test(g))return!1;if(Ei.test(v))return w===v;const I=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(w)}const bo=new Ee(3e4,6e4);function xf(){const v=ii().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let wo=null;const qa=new Ee(5e3,15e3),uu="__/auth/iframe",km="emulator/auth/iframe",M0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $E(v){const p=v.config;le(p.authDomain,v,"auth-domain-config-required");const g=p.emulator?Me(p,km):`https://${v.config.authDomain}/${uu}`,w={apiKey:p.apiKey,appName:v.name,v:ie.SDK_VERSION},I=cy.get(v.config.apiHost);I&&(w.eid=I);const R=v._getFrameworks();return R.length&&(w.fw=R.join(",")),`${g}?${(0,N.xO)(w).slice(1)}`}function T(){return T=(0,o.Z)(function*(v){const p=yield function Ps(v){return wo=wo||function fi(v){return new Promise((p,g)=>{var w,I,R;function j(){xf(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{xf(),g(X(v,"network-request-failed"))},timeout:bo.get()})}if(null!==(I=null===(w=ii().gapi)||void 0===w?void 0:w.iframes)&&void 0!==I&&I.Iframe)p(gapi.iframes.getContext());else{if(null===(R=ii().gapi)||void 0===R||!R.load){const ee=Cs("iframefcb");return ii()[ee]=()=>{gapi.load?j():g(X(v,"network-request-failed"))},Jo(`https://apis.google.com/js/api.js?onload=${ee}`).catch(Ae=>g(Ae))}j()}}).catch(p=>{throw wo=null,p})}(v),wo}(v),g=ii().gapi;return le(g,v,"internal-error"),p.open({where:document.body,url:$E(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:M0,dontclear:!0},w=>new Promise(function(){var I=(0,o.Z)(function*(R,j){yield w.restyle({setHideOnLeave:!1});const ee=X(v,"network-request-failed"),Ae=ii().setTimeout(()=>{j(ee)},qa.get());function Ze(){ii().clearTimeout(Ae),R(w)}w.ping(Ze).then(Ze,()=>{j(ee)})});return function(R,j){return I.apply(this,arguments)}}()))}),T.apply(this,arguments)}const M={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Je{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const At="__/auth/handler",Mt="emulator/auth/handler",Li=encodeURIComponent("fac");function wi(v,p,g,w,I,R){return Co.apply(this,arguments)}function Co(){return(Co=(0,o.Z)(function*(v,p,g,w,I,R){le(v.config.authDomain,v,"auth-domain-config-required"),le(v.config.apiKey,v,"invalid-api-key");const j={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:w,v:ie.SDK_VERSION,eventId:I};if(p instanceof Bo){p.setDefaultLanguage(v.languageCode),j.providerId=p.providerId||"",(0,N.xb)(p.getCustomParameters())||(j.customParameters=JSON.stringify(p.getCustomParameters()));for(const[ot,ct]of Object.entries(R||{}))j[ot]=ct}if(p instanceof vr){const ot=p.getScopes().filter(ct=>""!==ct);ot.length>0&&(j.scopes=ot.join(","))}v.tenantId&&(j.tid=v.tenantId);const ee=j;for(const ot of Object.keys(ee))void 0===ee[ot]&&delete ee[ot];const Ae=yield v._getAppCheckToken(),Ze=Ae?`#${Li}=${encodeURIComponent(Ae)}`:"";return`${function Nd({config:v}){return v.emulator?Me(v,Mt):`https://${v.authDomain}/${At}`}(v)}?${(0,N.xO)(ee).slice(1)}${Ze}`})).apply(this,arguments)}const Vr="webStorageSupport",xo=class no{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jr,this._completeRedirectFn=ra,this._overrideRedirectResult=Uo}_openPopup(p,g,w,I){var R=this;return(0,o.Z)(function*(){var j;Qt(null===(j=R.eventManagers[p._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const ee=yield wi(p,g,w,Ai(),I);return function ze(v,p,g,w=500,I=600){const R=Math.max((window.screen.availHeight-I)/2,0).toString(),j=Math.max((window.screen.availWidth-w)/2,0).toString();let ee="";const Ae=Object.assign(Object.assign({},M),{width:w.toString(),height:I.toString(),top:R,left:j}),Ze=(0,N.z$)().toLowerCase();g&&(ee=lt(Ze)?"_blank":g),we(Ze)&&(p=p||"http://localhost",Ae.scrollbars="yes");const ot=Object.entries(Ae).reduce((qn,[cs,Vf])=>`${qn}${cs}=${Vf},`,"");if(function ki(v=(0,N.z$)()){var p;return kt(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Ze)&&"_self"!==ee)return function ut(v,p){const g=document.createElement("a");g.href=v,g.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(p||"",ee),new Je(null);const ct=window.open(p||"",ee,ot);le(ct,v,"popup-blocked");try{ct.focus()}catch{}return new Je(ct)}(p,ee,Fa())})()}_openRedirect(p,g,w,I){var R=this;return(0,o.Z)(function*(){return yield R._originValidation(p),function xd(v){ii().location.href=v}(yield wi(p,g,w,Ai(),I)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:I,promise:R}=this.eventManagers[g];return I?Promise.resolve(I):(Qt(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(p);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(p){var g=this;return(0,o.Z)(function*(){const w=yield function x(v){return T.apply(this,arguments)}(p),I=new cu(p);return w.register("authEvent",R=>(le(R?.authEvent,p,"invalid-auth-event"),{status:I.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:I},g.iframes[p._key()]=w,I})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Vr,{type:Vr},I=>{var R;const j=null===(R=I?.[0])||void 0===R?void 0:R[Vr];void 0!==j&&g(!!j),ye(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Mm(v){return Pn.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Fo()||ce()||kt()}};class sc{constructor(p){this.factorId=p}_process(p,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,w);case"signin":return this._finalizeSignIn(p,g.credential);default:return $e("unexpected MultiFactorSessionType")}}}class Za extends sc{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Za(p)}_finalizeEnroll(p,g,w){return function Cm(v,p){return Zt(v,"POST","/v2/accounts/mfaEnrollment:finalize",rt(v,p))}(p,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function br(v,p){return Zt(v,"POST","/v2/accounts/mfaSignIn:finalize",rt(v,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let R0=(()=>{class v{constructor(){}static assertion(g){return Za._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var Fd="@firebase/auth";class hu{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,o.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(w=>{p(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);g&&(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ya(){return window}(0,N.Pz)("authIdTokenMaxAge"),function Pm(v){(0,ie._registerComponent)(new _e.wA("auth",(p,{options:g})=>{const w=p.getProvider("app").getImmediate(),I=p.getProvider("heartbeat"),R=p.getProvider("app-check-internal"),{apiKey:j,authDomain:ee}=w.options;le(j&&!j.includes(":"),"invalid-api-key",{appName:w.name});const Ae={apiKey:j,authDomain:ee,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:he(v)},Ze=new qh(w,I,R,Ae);return function pm(v,p){const g=p?.persistence||[],w=(Array.isArray(g)?g:[g]).map(an);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(w,p?.popupRedirectResolver)}(Ze,g),Ze},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,w)=>{p.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new _e.wA("auth-internal",p=>{const g=di(p.getProvider("auth").getImmediate());return new hu(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(Fd,"0.23.2",function Df(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,ie.registerVersion)(Fd,"0.23.2","esm2017")}("Browser");function If(){return If=(0,o.Z)(function*(v,p,g){var w;const{BuildInfo:I}=Ya();Qt(p.sessionId,"AuthEvent did not contain a session ID");const R=yield function Bm(v){return Vm.apply(this,arguments)}(p.sessionId),j={};return kt()?j.ibi=I.packageName:Vt()?j.apn=I.packageName:ye(v,"operation-not-supported-in-this-environment"),I.displayName&&(j.appDisplayName=I.displayName),j.sessionId=R,wi(v,g,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,j)}),If.apply(this,arguments)}function Fm(){return(Fm=(0,o.Z)(function*(v){const{BuildInfo:p}=Ya(),g={};kt()?g.iosBundleId=p.packageName:Vt()?g.androidPackageName=p.packageName:ye(v,"operation-not-supported-in-this-environment"),yield Am(v,g)})).apply(this,arguments)}function N0(){return(N0=(0,o.Z)(function*(v,p,g){const{cordova:w}=Ya();let I=()=>{};try{yield new Promise((R,j)=>{let ee=null;function Ae(){var ct;R();const qn=null===(ct=w.plugins.browsertab)||void 0===ct?void 0:ct.close;"function"==typeof qn&&qn(),"function"==typeof g?.close&&g.close()}function Ze(){ee||(ee=window.setTimeout(()=>{j(X(v,"redirect-cancelled-by-user"))},2e3))}function ot(){"visible"===document?.visibilityState&&Ze()}p.addPassiveListener(Ae),document.addEventListener("resume",Ze,!1),Vt()&&document.addEventListener("visibilitychange",ot,!1),I=()=>{p.removePassiveListener(Ae),document.removeEventListener("resume",Ze,!1),document.removeEventListener("visibilitychange",ot,!1),ee&&window.clearTimeout(ee)}})}finally{I()}})).apply(this,arguments)}function Vm(){return(Vm=(0,o.Z)(function*(v){const p=function fy(v){if(Qt(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const p=new ArrayBuffer(v.length),g=new Uint8Array(p);for(let w=0;w<v.length;w++)g[w]=v.charCodeAt(w);return g}(v),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(I=>I.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class hM extends cu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,o.Z)(function*(){yield p.initPromise})()}}function oa(v){return fu.apply(this,arguments)}function fu(){return(fu=(0,o.Z)(function*(v){const p=yield zm()._get(Wa(v));return p&&(yield zm()._remove(Wa(v))),p})).apply(this,arguments)}function Hm(){const v=[];for(let g=0;g<20;g++){const w=Math.floor(62*Math.random());v.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(w))}return v.join("")}function zm(){return an(Bn)}function Wa(v){return H("authEvent",v.config.apiKey,v.name)}function pu(v){if(!v?.includes("?"))return{};const[p,...g]=v.split("?");return(0,N.zd)(g.join("?"))}const F0=class ZE{constructor(){this._redirectPersistence=Jr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ra,this._overrideRedirectResult=Uo}_initialize(p){var g=this;return(0,o.Z)(function*(){const w=p._key();let I=g.eventManagers.get(w);return I||(I=new hM(p),g.eventManagers.set(w,I),g.attachCallbackListeners(p,I)),I})()}_openPopup(p){ye(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,w,I){var R=this;return(0,o.Z)(function*(){!function hy(v){var p,g,w,I,R,j,ee,Ae,Ze,ot;const ct=Ya();le("function"==typeof(null===(p=ct?.universalLinks)||void 0===p?void 0:p.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),le(typeof(null===(g=ct?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),le("function"==typeof(null===(R=null===(I=null===(w=ct?.cordova)||void 0===w?void 0:w.plugins)||void 0===I?void 0:I.browsertab)||void 0===R?void 0:R.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(Ae=null===(ee=null===(j=ct?.cordova)||void 0===j?void 0:j.plugins)||void 0===ee?void 0:ee.browsertab)||void 0===Ae?void 0:Ae.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(ot=null===(Ze=ct?.cordova)||void 0===Ze?void 0:Ze.InAppBrowser)||void 0===ot?void 0:ot.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const j=yield R._initialize(p);yield j.initialized(),j.resetRedirect(),function iu(){tc.clear()}(),yield R._originValidation(p);const ee=function qE(v,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Hm(),postBody:null,tenantId:v.tenantId,error:X(v,"no-auth-event")}}(p,w,I);yield function Bd(v,p){return zm()._set(Wa(v),p)}(p,ee);const Ae=yield function P0(v,p,g){return If.apply(this,arguments)}(p,ee,g),Ze=yield function Lm(v){const{cordova:p}=Ya();return new Promise(g=>{p.plugins.browsertab.isAvailable(w=>{let I=null;w?p.plugins.browsertab.openUrl(v):I=p.InAppBrowser.open(v,function Jt(v=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g(I)})})}(Ae);return function dy(v,p,g){return N0.apply(this,arguments)}(p,j,Ze)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function dM(v){return Fm.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:w,handleOpenURL:I,BuildInfo:R}=Ya(),j=setTimeout((0,o.Z)(function*(){yield oa(p),g.onEvent(Gm())}),500),ee=function(){var ot=(0,o.Z)(function*(ct){clearTimeout(j);const qn=yield oa(p);let cs=null;qn&&ct?.url&&(cs=function Um(v,p){var g,w;const I=function $m(v){const p=pu(v),g=p.link?decodeURIComponent(p.link):void 0,w=pu(g).link,I=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return pu(I).link||I||w||g||v}(p);if(I.includes("/__/auth/callback")){const R=pu(I),j=R.firebaseError?function jm(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,ee=null===(w=null===(g=j?.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Ae=ee?X(ee):null;return Ae?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Ae,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:I,postBody:null}}return null}(qn,ct.url)),g.onEvent(cs||Gm())});return function(qn){return ot.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ee);const Ae=I,Ze=`${R.packageName.toLowerCase()}://`;Ya().handleOpenURL=function(){var ot=(0,o.Z)(function*(ct){if(ct.toLowerCase().startsWith(Ze)&&ee({url:ct}),"function"==typeof Ae)try{Ae(ct)}catch(qn){console.error(qn)}});return function(ct){return ot.apply(this,arguments)}}()}};function Gm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:X("no-auth-event")}}function Vd(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function my(v=(0,N.z$)()){return!("file:"!==Vd()&&"ionic:"!==Vd()&&"capacitor:"!==Vd()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Af(){try{const v=self.localStorage,p=Fa();if(v)return v.setItem(p,"1"),v.removeItem(p),!function Zm(v=(0,N.z$)()){return function Ur(){return(0,N.w1)()&&11===document?.documentMode}()||function qm(v=(0,N.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,N.hl)()}catch{return Bi()&&(0,N.hl)()}return!1}function Bi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ja(){return(function Qa(){return"http:"===Vd()||"https:"===Vd()}()||(0,N.ru)()||my())&&!function YE(){return(0,N.b$)()||(0,N.UG)()}()&&Af()&&!Bi()}function Ym(){return my()&&typeof document<"u"}function Km(){return(Km=(0,o.Z)(function*(){return!!Ym()&&new Promise(v=>{const p=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),v(!0)})})})).apply(this,arguments)}const Do={LOCAL:"local",NONE:"none",SESSION:"session"},Xa=le,gy="persistence";function Rf(v){return Qm.apply(this,arguments)}function Qm(){return(Qm=(0,o.Z)(function*(v){yield v._initializationPromise;const p=Of(),g=H(gy,v.config.apiKey,v.name);p&&p.setItem(g,v._getPersistence())})).apply(this,arguments)}function Of(){var v;try{return(null===(v=function mu(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const _y=le;class zo{constructor(){this.browserResolver=an(xo),this.cordovaResolver=an(F0),this.underlyingResolver=null,this._redirectPersistence=Jr,this._completeRedirectFn=ra,this._overrideRedirectResult=Uo}_initialize(p){var g=this;return(0,o.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,w,I){var R=this;return(0,o.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,g,w,I)})()}_openRedirect(p,g,w,I){var R=this;return(0,o.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,g,w,I)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Ym()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _y(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,o.Z)(function*(){if(p.underlyingResolver)return;const g=yield function Wm(){return Km.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Pf(v){return v.unwrap()}function Jm(v){return Xm(v)}function Xm(v){const{_tokenResponse:p}=v instanceof N.ZR?v.customData:v;if(!p)return null;if(!(v instanceof N.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Sn.credentialFromResult(v);const g=p.providerId;if(!g||g===pe.PASSWORD)return null;let w;switch(g){case pe.GOOGLE:w=Qs;break;case pe.FACEBOOK:w=Ks;break;case pe.GITHUB:w=bi;break;case pe.TWITTER:w=ns;break;default:const{oauthIdToken:I,oauthAccessToken:R,oauthTokenSecret:j,pendingToken:ee,nonce:Ae}=p;return R||j||I||ee?ee?g.startsWith("saml.")?ti._create(g,ee):yr._fromParams({providerId:g,signInMethod:g,pendingToken:ee,idToken:I,accessToken:R}):new Kr(g).credential({idToken:I,accessToken:R,rawNonce:Ae}):null}return v instanceof N.ZR?w.credentialFromError(v):w.credentialFromResult(v)}function Xi(v,p){return p.catch(g=>{throw g instanceof N.ZR&&function Nf(v,p){var g;const w=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new Lf(v,function lf(v,p){var g;const w=(0,N.m9)(v),I=p;return le(p.customData.operationType,w,"argument-error"),le(null===(g=I.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),Ss._fromError(w,I)}(v,p));else if(w){const I=Xm(p),R=p;I&&(R.credential=I,R.tenantId=w.tenantId||void 0,R.email=w.email||void 0,R.phoneNumber=w.phoneNumber||void 0)}}(v,g),g}).then(g=>{const I=g.user;return{operationType:g.operationType,credential:Jm(g),additionalUserInfo:xi(g),user:To.getOrCreate(I)}})}function el(v,p){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,o.Z)(function*(v,p){const g=yield p;return{verificationId:g.verificationId,confirm:w=>Xi(v,g.confirm(w))}})).apply(this,arguments)}class Lf{constructor(p,g){this.resolver=g,this.auth=function B0(v){return v.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Xi(Pf(this.auth),this.resolver.resolveSignIn(p))}}class To{constructor(p){this._delegate=p,this.multiFactor=function $c(v){const p=(0,N.m9)(v);return $l.has(p)||$l.set(p,jl._fromUser(p)),$l.get(p)}(p)}static getOrCreate(p){return To.USER_MAP.has(p)||To.USER_MAP.set(p,new To(p)),To.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,o.Z)(function*(){return Xi(g.auth,iy(g._delegate,p))})()}linkWithPhoneNumber(p,g){var w=this;return(0,o.Z)(function*(){return el(w.auth,function Sm(v,p,g){return Xc.apply(this,arguments)}(w._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,o.Z)(function*(){return Xi(g.auth,function bf(v,p,g){return tu.apply(this,arguments)}(g._delegate,p,zo))})()}linkWithRedirect(p){var g=this;return(0,o.Z)(function*(){return yield Rf(di(g.auth)),kd(g._delegate,p,zo)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,o.Z)(function*(){return Xi(g.auth,ni(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return el(this.auth,function Jl(v,p,g){return Sd.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Xi(this.auth,function vf(v,p,g){return ja.apply(this,arguments)}(this._delegate,p,zo))}reauthenticateWithRedirect(p){var g=this;return(0,o.Z)(function*(){return yield Rf(di(g.auth)),ic(g._delegate,p,zo)})()}sendEmailVerification(p){return function Bc(v,p){return Hl.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,o.Z)(function*(){return yield function ny(v,p){return Vo.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function wm(v,p){return rf((0,N.m9)(v),p,null)}(this._delegate,p)}updatePassword(p){return function po(v,p){return rf((0,N.m9)(v),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Rs(v,p){return Ha.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function ay(v,p){return Ra.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function md(v,p,g){return Vc.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}To.USER_MAP=new WeakMap;const ls=le;let yy=(()=>{class v{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=g.options;ls(I,"invalid-api-key",{appName:g.name}),ls(I,"invalid-api-key",{appName:g.name});const R=typeof window<"u"?zo:void 0;this._delegate=w.initialize({options:{persistence:V0(I,g.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(tt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?To.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function Ac(v,p,g){const w=di(v);le(w._canInitEmulator,w,"emulator-config-failed"),le(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const I=!!g?.disableWarnings,R=Xo(p),{host:j,port:ee}=function Mc(v){const p=Xo(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(w);if(I){const R=I[1];return{host:R,port:rd(w.substr(R.length+1))}}{const[R,j]=w.split(":");return{host:R,port:rd(j)}}}(p);w.config.emulator={url:`${R}//${j}${null===ee?"":`:${ee}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:j,port:ee,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function X_(){function v(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,g,w)}applyActionCode(g){return function Fc(v,p){return Qr.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Vl(this._delegate,g)}confirmPasswordReset(g,w){return function Nc(v,p,g){return hi.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var I=this;return(0,o.Z)(function*(){return Xi(I._delegate,function vm(v,p,g){return Ul.apply(this,arguments)}(I._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function nf(v,p){return pd.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function sy(v,p){const g=Wt.parseLink(p);return"EMAIL_SIGNIN"===g?.operation}(0,g)}getRedirectResult(){var g=this;return(0,o.Z)(function*(){ls(Ja(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function ia(v,p){return Ho.apply(this,arguments)}(g._delegate,zo);return w?Xi(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function py(v,p){di(v)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,w,I){const{next:R,error:j,complete:ee}=Bf(g,w,I);return this._delegate.onAuthStateChanged(R,j,ee)}onIdTokenChanged(g,w,I){const{next:R,error:j,complete:ee}=Bf(g,w,I);return this._delegate.onIdTokenChanged(R,j,ee)}sendSignInLinkToEmail(g,w){return function Lc(v,p,g){return Xs.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function oy(v,p,g){return cr.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,o.Z)(function*(){let I;switch(function Mf(v,p){Xa(Object.values(Do).includes(p),v,"invalid-persistence-type"),(0,N.b$)()?Xa(p!==Do.SESSION,v,"unsupported-persistence-type"):(0,N.UG)()?Xa(p===Do.NONE,v,"unsupported-persistence-type"):Bi()?Xa(p===Do.NONE||p===Do.LOCAL&&(0,N.hl)(),v,"unsupported-persistence-type"):Xa(p===Do.NONE||Af(),v,"unsupported-persistence-type")}(w._delegate,g),g){case Do.SESSION:I=Jr;break;case Do.LOCAL:I=(yield an(Wl)._isAvailable())?Wl:Bn;break;case Do.NONE:I=Xt;break;default:return ye("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Xi(this._delegate,function ty(v){return ad.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Xi(this._delegate,Nl(this._delegate,g))}signInWithCustomToken(g){return Xi(this._delegate,function rs(v,p){return fo.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return Xi(this._delegate,function hd(v,p,g){return Nl((0,N.m9)(v),Oc.credential(p,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return Xi(this._delegate,function ur(v,p,g){return bm.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return el(this._delegate,function ln(v,p,g){return On.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,o.Z)(function*(){return ls(Ja(),w._delegate,"operation-not-supported-in-this-environment"),Xi(w._delegate,function eo(v,p,g){return _o.apply(this,arguments)}(w._delegate,g,zo))})()}signInWithRedirect(g){var w=this;return(0,o.Z)(function*(){return ls(Ja(),w._delegate,"operation-not-supported-in-this-environment"),yield Rf(w._delegate),ru(w._delegate,g,zo)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Aa(v,p){return Ma.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Do,v})();function Bf(v,p,g){let w=v;"function"!=typeof v&&({next:w,error:p,complete:g}=v);const I=w;return{next:j=>I(j&&To.getOrCreate(j)),error:p,complete:g}}function V0(v,p){const g=function kf(v,p){const g=Of();if(!g)return[];const w=H(gy,v,p);switch(g.getItem(w)){case Do.NONE:return[Xt];case Do.LOCAL:return[Wl,Jr];case Do.SESSION:return[Jr];default:return[]}}(v,p);if(typeof self<"u"&&!g.includes(Wl)&&g.push(Wl),typeof window<"u")for(const w of[Bn,Jr])g.includes(w)||g.push(w);return g.includes(Xt)||g.push(Xt),g}class gu{constructor(){this.providerId="phone",this._delegate=new Sn(Pf(K.Z.auth()))}static credential(p,g){return Sn.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}gu.PHONE_SIGN_IN_METHOD=Sn.PHONE_SIGN_IN_METHOD,gu.PROVIDER_ID=Sn.PROVIDER_ID;const U0=le;class vy{constructor(p,g,w=K.Z.app()){var I;U0(null===(I=w.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Id(p,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function eg(v){v.INTERNAL.registerComponent(new _e.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new yy(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Oc,FacebookAuthProvider:Ks,GithubAuthProvider:bi,GoogleAuthProvider:Qs,OAuthProvider:Kr,SAMLAuthProvider:Ia,PhoneAuthProvider:gu,PhoneMultiFactorGenerator:R0,RecaptchaVerifier:vy,TwitterAuthProvider:ns,Auth:yy,AuthCredential:es,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.4.2")}(K.Z)},5861:(pt,Ce,P)=>{function o(N,ie,se,ne,_e,Le,pe){try{var U=N[Le](pe),$=U.value}catch(te){return void se(te)}U.done?ie($):Promise.resolve($).then(ne,_e)}function K(N){return function(){var ie=this,se=arguments;return new Promise(function(ne,_e){var Le=N.apply(ie,se);function pe($){o(Le,ne,_e,pe,U,"next",$)}function U($){o(Le,ne,_e,pe,U,"throw",$)}pe(void 0)})}}P.d(Ce,{Z:()=>K})},7582:(pt,Ce,P)=>{function ie(ue,ve){var Ee={};for(var Me in ue)Object.prototype.hasOwnProperty.call(ue,Me)&&ve.indexOf(Me)<0&&(Ee[Me]=ue[Me]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var qe=0;for(Me=Object.getOwnPropertySymbols(ue);qe<Me.length;qe++)ve.indexOf(Me[qe])<0&&Object.prototype.propertyIsEnumerable.call(ue,Me[qe])&&(Ee[Me[qe]]=ue[Me[qe]])}return Ee}function te(ue,ve,Ee,Me){return new(Ee||(Ee=Promise))(function(He,St){function rt(yt){try{at(Me.next(yt))}catch(Mn){St(Mn)}}function Zt(yt){try{at(Me.throw(yt))}catch(Mn){St(Mn)}}function at(yt){yt.done?He(yt.value):function qe(He){return He instanceof Ee?He:new Ee(function(St){St(He)})}(yt.value).then(rt,Zt)}at((Me=Me.apply(ue,ve||[])).next())})}function oe(ue){return this instanceof oe?(this.v=ue,this):new oe(ue)}function ye(ue,ve,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,Me=Ee.apply(ue,ve||[]),He=[];return qe={},St("next"),St("throw"),St("return"),qe[Symbol.asyncIterator]=function(){return this},qe;function St(dn){Me[dn]&&(qe[dn]=function($n){return new Promise(function(nn,Mr){He.push([dn,$n,nn,Mr])>1||rt(dn,$n)})})}function rt(dn,$n){try{!function Zt(dn){dn.value instanceof oe?Promise.resolve(dn.value.v).then(at,yt):Mn(He[0][2],dn)}(Me[dn]($n))}catch(nn){Mn(He[0][3],nn)}}function at(dn){rt("next",dn)}function yt(dn){rt("throw",dn)}function Mn(dn,$n){dn($n),He.shift(),He.length&&rt(He[0][0],He[0][1])}}function me(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,ve=ue[Symbol.asyncIterator];return ve?ve.call(ue):(ue=function ke(ue){var ve="function"==typeof Symbol&&Symbol.iterator,Ee=ve&&ue[ve],Me=0;if(Ee)return Ee.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&Me>=ue.length&&(ue=void 0),{value:ue&&ue[Me++],done:!ue}}};throw new TypeError(ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),Ee={},Me("next"),Me("throw"),Me("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function Me(He){Ee[He]=ue[He]&&function(St){return new Promise(function(rt,Zt){!function qe(He,St,rt,Zt){Promise.resolve(Zt).then(function(at){He({value:at,done:rt})},St)}(rt,Zt,(St=ue[He](St)).done,St.value)})}}}P.d(Ce,{FC:()=>ye,KL:()=>me,_T:()=>ie,mG:()=>te,qq:()=>oe})}},pt=>{pt(pt.s=5528)}]);